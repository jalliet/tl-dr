"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq";
exports.ids = ["vendor-chunks/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/code.css":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/code.css ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"a75d902cb390\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxsYW1haW5kZXgrY2hhdC11aUAwLjAuMTFfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjFfQHR5cGVzK3JlYWN0QDE4LjMuMTJfZW5jb2RpbmdAMC4xLjEzX3JlYWN0XzR5NTRvNzcydHhxZm0yYzZ5MmF5c25mc2RxL25vZGVfbW9kdWxlcy9AbGxhbWFpbmRleC9jaGF0LXVpL2Rpc3Qvc3R5bGVzL2NvZGUuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3RsLWRyLy5mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vQGxsYW1haW5kZXgrY2hhdC11aUAwLjAuMTFfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjFfQHR5cGVzK3JlYWN0QDE4LjMuMTJfZW5jb2RpbmdAMC4xLjEzX3JlYWN0XzR5NTRvNzcydHhxZm0yYzZ5MmF5c25mc2RxL25vZGVfbW9kdWxlcy9AbGxhbWFpbmRleC9jaGF0LXVpL2Rpc3Qvc3R5bGVzL2NvZGUuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiYTc1ZDkwMmNiMzkwXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/code.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/katex.css":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/katex.css ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"3dff96f3cb6a\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxsYW1haW5kZXgrY2hhdC11aUAwLjAuMTFfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjFfQHR5cGVzK3JlYWN0QDE4LjMuMTJfZW5jb2RpbmdAMC4xLjEzX3JlYWN0XzR5NTRvNzcydHhxZm0yYzZ5MmF5c25mc2RxL25vZGVfbW9kdWxlcy9AbGxhbWFpbmRleC9jaGF0LXVpL2Rpc3Qvc3R5bGVzL2thdGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsiL2hvbWUva2VuamkvaGFjay1wcm9qZWN0cy90bC1kci90bC1kci8uZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL0BsbGFtYWluZGV4K2NoYXQtdWlAMC4wLjExX0B0eXBlcytyZWFjdC1kb21AMTguMy4xX0B0eXBlcytyZWFjdEAxOC4zLjEyX2VuY29kaW5nQDAuMS4xM19yZWFjdF80eTU0bzc3MnR4cWZtMmM2eTJheXNuZnNkcS9ub2RlX21vZHVsZXMvQGxsYW1haW5kZXgvY2hhdC11aS9kaXN0L3N0eWxlcy9rYXRleC5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIzZGZmOTZmM2NiNmFcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/katex.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/pdf.css":
/*!**********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/pdf.css ***!
  \**********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"7116a1e39b99\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxsYW1haW5kZXgrY2hhdC11aUAwLjAuMTFfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjFfQHR5cGVzK3JlYWN0QDE4LjMuMTJfZW5jb2RpbmdAMC4xLjEzX3JlYWN0XzR5NTRvNzcydHhxZm0yYzZ5MmF5c25mc2RxL25vZGVfbW9kdWxlcy9AbGxhbWFpbmRleC9jaGF0LXVpL2Rpc3Qvc3R5bGVzL3BkZi5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvdGwtZHIvLmZyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGxhbWFpbmRleCtjaGF0LXVpQDAuMC4xMV9AdHlwZXMrcmVhY3QtZG9tQDE4LjMuMV9AdHlwZXMrcmVhY3RAMTguMy4xMl9lbmNvZGluZ0AwLjEuMTNfcmVhY3RfNHk1NG83NzJ0eHFmbTJjNnkyYXlzbmZzZHEvbm9kZV9tb2R1bGVzL0BsbGFtYWluZGV4L2NoYXQtdWkvZGlzdC9zdHlsZXMvcGRmLmNzcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjcxMTZhMWUzOWI5OVwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/styles/pdf.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/chat/index.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/chat/index.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatInput: () => (/* binding */ chat_input_default),\n/* harmony export */   ChatMessage: () => (/* binding */ chat_message_default),\n/* harmony export */   ChatMessages: () => (/* binding */ chat_messages_default),\n/* harmony export */   ChatSection: () => (/* binding */ ChatSection),\n/* harmony export */   ContentPosition: () => (/* binding */ ContentPosition),\n/* harmony export */   DOCUMENT_FILE_TYPES: () => (/* binding */ DOCUMENT_FILE_TYPES),\n/* harmony export */   MessageAnnotationType: () => (/* binding */ MessageAnnotationType),\n/* harmony export */   getAnnotationData: () => (/* binding */ getAnnotationData),\n/* harmony export */   getSourceAnnotationData: () => (/* binding */ getSourceAnnotationData),\n/* harmony export */   useChatInput: () => (/* binding */ useChatInput),\n/* harmony export */   useChatMessage: () => (/* binding */ useChatMessage),\n/* harmony export */   useChatMessages: () => (/* binding */ useChatMessages),\n/* harmony export */   useChatUI: () => (/* binding */ useChatUI),\n/* harmony export */   useFile: () => (/* binding */ useFile)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.0.3_@opentelemetry+api@1.9.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66_ml7g6eyuhjpume243rmimlrmf4/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/.pnpm/tailwind-merge@2.5.5/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.0_@types+react@18.3.12_react@19.0.0-rc-66855b96-20241106/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.0.3_@opentelemetry+api@1.9.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66_ml7g6eyuhjpume243rmimlrmf4/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var _widgets_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widgets/index.js */ \"(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/widgets/index.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/circle-pause.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/user-round.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/copy.js\");\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/chat/annotation.ts\nvar MessageAnnotationType = /* @__PURE__ */ ((MessageAnnotationType2) => {\n  MessageAnnotationType2[\"IMAGE\"] = \"image\";\n  MessageAnnotationType2[\"DOCUMENT_FILE\"] = \"document_file\";\n  MessageAnnotationType2[\"SOURCES\"] = \"sources\";\n  MessageAnnotationType2[\"EVENTS\"] = \"events\";\n  MessageAnnotationType2[\"SUGGESTED_QUESTIONS\"] = \"suggested_questions\";\n  MessageAnnotationType2[\"AGENT_EVENTS\"] = \"agent\";\n  return MessageAnnotationType2;\n})(MessageAnnotationType || {});\nvar DOCUMENT_FILE_TYPES = [\n  \"csv\",\n  \"pdf\",\n  \"txt\",\n  \"docx\"\n];\nvar NODE_SCORE_THRESHOLD = 0.25;\nfunction getAnnotationData(annotations, type) {\n  if (!(annotations == null ? void 0 : annotations.length)) return [];\n  return annotations.filter((a) => a.type.toString() === type).map((a) => a.data);\n}\nfunction getSourceAnnotationData(annotations) {\n  const data = getAnnotationData(\n    annotations,\n    \"sources\" /* SOURCES */\n  );\n  if (data.length > 0) {\n    const sourceData = data[0];\n    if (sourceData.nodes) {\n      sourceData.nodes = preprocessSourceNodes(sourceData.nodes);\n    }\n  }\n  return data;\n}\nfunction preprocessSourceNodes(nodes) {\n  const processedNodes = nodes.filter((node) => {\n    var _a;\n    return ((_a = node.score) != null ? _a : 1) > NODE_SCORE_THRESHOLD;\n  }).filter((node) => node.url && node.url.trim() !== \"\").sort((a, b) => {\n    var _a, _b;\n    return ((_a = b.score) != null ? _a : 1) - ((_b = a.score) != null ? _b : 1);\n  }).map((node) => {\n    node.url = node.url.replace(/\\/$/, \"\");\n    return node;\n  });\n  return processedNodes;\n}\n\n// src/chat/chat-section.tsx\n\n\n// src/lib/utils.ts\n\n\nfunction cn(...inputs) {\n  return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_2__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.clsx)(inputs));\n}\n\n// src/chat/chat-input.tsx\n\n\n// src/ui/button.tsx\n\n\n\n\nvar buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.cva)(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\"\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\"\n      }\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\"\n    }\n  }\n);\nvar Button = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (_a, ref) => {\n    var _b = _a, { className, variant, size, asChild = false } = _b, props = __objRest(_b, [\"className\", \"variant\", \"size\", \"asChild\"]);\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__.Slot : \"button\";\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      Comp,\n      __spreadValues({\n        className: cn(buttonVariants({ variant, size, className })),\n        ref\n      }, props)\n    );\n  }\n);\nButton.displayName = \"Button\";\n\n// src/ui/input.tsx\n\n\nvar Input = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (_a, ref) => {\n    var _b = _a, { className, type } = _b, props = __objRest(_b, [\"className\", \"type\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      \"input\",\n      __spreadValues({\n        type,\n        className: cn(\n          \"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        ),\n        ref\n      }, props)\n    );\n  }\n);\nInput.displayName = \"Input\";\n\n// src/ui/textarea.tsx\n\n\nvar Textarea = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\n  (_a, ref) => {\n    var _b = _a, { className } = _b, props = __objRest(_b, [\"className\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      \"textarea\",\n      __spreadValues({\n        className: cn(\n          \"border-input bg-background ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex min-h-[80px] w-full rounded-md border px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        ),\n        ref\n      }, props)\n    );\n  }\n);\nTextarea.displayName = \"Textarea\";\n\n// src/chat/chat-input.tsx\n\n\n// src/chat/chat.context.ts\n\nvar chatContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ChatProvider = chatContext.Provider;\nvar useChatUI = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(chatContext);\n  if (!context) {\n    throw new Error(\"useChatUI must be used within a ChatProvider\");\n  }\n  return context;\n};\n\n// src/chat/chat-input.tsx\n\nvar ALLOWED_EXTENSIONS = [\"png\", \"jpg\", \"jpeg\", \"csv\", \"pdf\", \"txt\", \"docx\"];\nvar chatInputContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ChatInputProvider = chatInputContext.Provider;\nvar useChatInput = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(chatInputContext);\n  if (!context) {\n    throw new Error(\"useChatInput must be used within a ChatInputProvider\");\n  }\n  return context;\n};\nfunction ChatInput(props) {\n  var _a;\n  const { input, setInput, append, isLoading, requestData } = useChatUI();\n  const isDisabled = isLoading || !input.trim();\n  const submit = () => __async(this, null, function* () {\n    var _a2;\n    const newMessage = {\n      role: \"user\",\n      content: input,\n      annotations: props.annotations\n    };\n    setInput(\"\");\n    (_a2 = props.resetUploadedFiles) == null ? void 0 : _a2.call(props);\n    yield append(newMessage, { data: requestData });\n  });\n  const handleSubmit = (e) => __async(this, null, function* () {\n    e.preventDefault();\n    yield submit();\n  });\n  const handleKeyDown = (e) => __async(this, null, function* () {\n    if (isDisabled) return;\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      yield submit();\n    }\n  });\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatInputForm, {});\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatInputProvider, { value: { isDisabled, handleKeyDown, handleSubmit }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    \"div\",\n    {\n      className: cn(\n        \"bg-background flex shrink-0 flex-col gap-4 p-4\",\n        props.className\n      ),\n      children\n    }\n  ) });\n}\nfunction ChatInputForm(props) {\n  var _a;\n  const { handleSubmit } = useChatInput();\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatInputField, {}),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatInputSubmit, {})\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"form\", { onSubmit: handleSubmit, className: cn(props.className, \"flex gap-2\"), children });\n}\nfunction ChatInputField(props) {\n  var _a;\n  const { input, setInput } = useChatUI();\n  const { handleKeyDown } = useChatInput();\n  const type = (_a = props.type) != null ? _a : \"textarea\";\n  if (type === \"input\") {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n      Input,\n      {\n        name: \"input\",\n        placeholder: \"Type a message\",\n        className: cn(props.className, \"min-h-0\"),\n        value: input,\n        onChange: (e) => setInput(e.target.value)\n      }\n    );\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    Textarea,\n    {\n      name: \"input\",\n      placeholder: \"Type a message\",\n      className: cn(props.className, \"h-[40px] min-h-0 flex-1\"),\n      value: input,\n      onChange: (e) => setInput(e.target.value),\n      onKeyDown: handleKeyDown\n    }\n  );\n}\nfunction ChatInputUpload(props) {\n  var _a, _b;\n  const { requestData, setRequestData, isLoading } = useChatUI();\n  const onFileUpload = (file) => __async(this, null, function* () {\n    if (props.onUpload) {\n      yield props.onUpload(file);\n    } else {\n      setRequestData(__spreadProps(__spreadValues({}, requestData || {}), { file }));\n    }\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    _widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.FileUploader,\n    {\n      onFileUpload,\n      config: {\n        disabled: isLoading,\n        allowedExtensions: (_a = props.allowedExtensions) != null ? _a : ALLOWED_EXTENSIONS,\n        multiple: (_b = props.multiple) != null ? _b : true\n      }\n    }\n  );\n}\nfunction ChatInputSubmit(props) {\n  var _a, _b;\n  const { isDisabled } = useChatInput();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    Button,\n    {\n      type: \"submit\",\n      disabled: (_a = props.disabled) != null ? _a : isDisabled,\n      className: cn(props.className),\n      children: (_b = props.children) != null ? _b : \"Send message\"\n    }\n  );\n}\nChatInput.Form = ChatInputForm;\nChatInput.Field = ChatInputField;\nChatInput.Upload = ChatInputUpload;\nChatInput.Submit = ChatInputSubmit;\nvar chat_input_default = ChatInput;\n\n// src/chat/chat-messages.tsx\n\n\n\n// src/chat/chat-message.tsx\n\n\n\n// src/hook/use-copy-to-clipboard.tsx\n\nfunction useCopyToClipboard({\n  timeout = 2e3\n}) {\n  const [isCopied, setIsCopied] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const copyToClipboard = (value) => {\n    var _a;\n    if (typeof window === \"undefined\" || !((_a = navigator.clipboard) == null ? void 0 : _a.writeText)) {\n      return;\n    }\n    if (!value) {\n      return;\n    }\n    navigator.clipboard.writeText(value).then(() => {\n      setIsCopied(true);\n      setTimeout(() => {\n        setIsCopied(false);\n      }, timeout);\n    });\n  };\n  return { isCopied, copyToClipboard };\n}\n\n// src/chat/chat-message.tsx\n\n\n// src/chat/chat-annotations.tsx\n\n\nfunction EventAnnotations({\n  message,\n  showLoading\n}) {\n  const annotations = message.annotations;\n  const eventData = annotations && annotations.length > 0 ? getAnnotationData(annotations, \"events\" /* EVENTS */) : null;\n  if (!(eventData == null ? void 0 : eventData.length)) return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.ChatEvents, { data: eventData, showLoading });\n}\nfunction AgentEventAnnotations({ message }) {\n  const annotations = message.annotations;\n  const agentEventData = annotations && annotations.length > 0 ? getAnnotationData(\n    annotations,\n    \"agent\" /* AGENT_EVENTS */\n  ) : null;\n  if (!(agentEventData == null ? void 0 : agentEventData.length)) return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    _widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.ChatAgentEvents,\n    {\n      data: agentEventData,\n      isFinished: Boolean(message.content)\n    }\n  );\n}\nfunction ImageAnnotations({ message }) {\n  const annotations = message.annotations;\n  const imageData = annotations && annotations.length > 0 ? getAnnotationData(annotations, \"image\") : null;\n  if (!imageData) return null;\n  return imageData[0] ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.ChatImage, { data: imageData[0] }) : null;\n}\nfunction DocumentFileAnnotations({ message }) {\n  const annotations = message.annotations;\n  const contentFileData = annotations && annotations.length > 0 ? getAnnotationData(\n    annotations,\n    \"document_file\" /* DOCUMENT_FILE */\n  ) : null;\n  if (!contentFileData) return null;\n  return contentFileData[0] ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.ChatFiles, { data: contentFileData[0] }) : null;\n}\nfunction SourceAnnotations({ message }) {\n  const annotations = message.annotations;\n  const sourceData = annotations && annotations.length > 0 ? getSourceAnnotationData(annotations) : null;\n  if (!sourceData) return null;\n  return sourceData[0] ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.ChatSources, { data: sourceData[0] }) : null;\n}\nfunction SuggestedQuestionsAnnotations({\n  message,\n  append\n}) {\n  const annotations = message.annotations;\n  const suggestedQuestionsData = annotations && annotations.length > 0 ? getAnnotationData(\n    annotations,\n    \"suggested_questions\" /* SUGGESTED_QUESTIONS */\n  ) : null;\n  if (!(suggestedQuestionsData == null ? void 0 : suggestedQuestionsData[0])) return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.SuggestedQuestions, { questions: suggestedQuestionsData[0], append });\n}\n\n// src/chat/chat-message.tsx\n\nvar ContentPosition = /* @__PURE__ */ ((ContentPosition2) => {\n  ContentPosition2[ContentPosition2[\"TOP\"] = -9999] = \"TOP\";\n  ContentPosition2[ContentPosition2[\"CHAT_EVENTS\"] = 0] = \"CHAT_EVENTS\";\n  ContentPosition2[ContentPosition2[\"AFTER_EVENTS\"] = 1] = \"AFTER_EVENTS\";\n  ContentPosition2[ContentPosition2[\"CHAT_AGENT_EVENTS\"] = 2] = \"CHAT_AGENT_EVENTS\";\n  ContentPosition2[ContentPosition2[\"AFTER_AGENT_EVENTS\"] = 3] = \"AFTER_AGENT_EVENTS\";\n  ContentPosition2[ContentPosition2[\"CHAT_IMAGE\"] = 4] = \"CHAT_IMAGE\";\n  ContentPosition2[ContentPosition2[\"AFTER_IMAGE\"] = 5] = \"AFTER_IMAGE\";\n  ContentPosition2[ContentPosition2[\"BEFORE_MARKDOWN\"] = 6] = \"BEFORE_MARKDOWN\";\n  ContentPosition2[ContentPosition2[\"MARKDOWN\"] = 7] = \"MARKDOWN\";\n  ContentPosition2[ContentPosition2[\"AFTER_MARKDOWN\"] = 8] = \"AFTER_MARKDOWN\";\n  ContentPosition2[ContentPosition2[\"CHAT_DOCUMENT_FILES\"] = 9] = \"CHAT_DOCUMENT_FILES\";\n  ContentPosition2[ContentPosition2[\"AFTER_DOCUMENT_FILES\"] = 10] = \"AFTER_DOCUMENT_FILES\";\n  ContentPosition2[ContentPosition2[\"CHAT_SOURCES\"] = 11] = \"CHAT_SOURCES\";\n  ContentPosition2[ContentPosition2[\"AFTER_SOURCES\"] = 12] = \"AFTER_SOURCES\";\n  ContentPosition2[ContentPosition2[\"SUGGESTED_QUESTIONS\"] = 13] = \"SUGGESTED_QUESTIONS\";\n  ContentPosition2[ContentPosition2[\"AFTER_SUGGESTED_QUESTIONS\"] = 14] = \"AFTER_SUGGESTED_QUESTIONS\";\n  ContentPosition2[ContentPosition2[\"BOTTOM\"] = 9999] = \"BOTTOM\";\n  return ContentPosition2;\n})(ContentPosition || {});\nvar chatMessageContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ChatMessageProvider = chatMessageContext.Provider;\nvar useChatMessage = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(chatMessageContext);\n  if (!context)\n    throw new Error(\"useChatMessage must be used within a ChatMessageProvider\");\n  return context;\n};\nfunction ChatMessage(props) {\n  var _a;\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatMessageAvatar, {}),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatMessageContent, { isLoading: props.isLoading, append: props.append }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatMessageActions, {})\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    ChatMessageProvider,\n    {\n      value: { message: props.message, isLast: props.isLast },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", { className: cn(\"group flex gap-4 p-3\", props.className), children })\n    }\n  );\n}\nfunction ChatMessageAvatar(props) {\n  var _a, _b;\n  const { message } = useChatMessage();\n  const roleIconMap = {\n    user: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { className: \"h-4 w-4\" }),\n    assistant: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { className: \"h-4 w-4\" })\n  };\n  const children = (_b = (_a = props.children) != null ? _a : roleIconMap[message.role]) != null ? _b : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { className: \"h-4 w-4\" });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", { className: \"bg-background flex h-8 w-8 shrink-0 select-none items-center justify-center border\", children });\n}\nfunction ChatMessageContent(props) {\n  var _a;\n  const { message, isLast } = useChatMessage();\n  const annotations = message.annotations;\n  const contents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var _a2, _b;\n    const displayMap = __spreadValues({\n      [0 /* CHAT_EVENTS */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n        EventAnnotations,\n        {\n          message,\n          showLoading: (_a2 = isLast && props.isLoading) != null ? _a2 : false\n        }\n      ),\n      [2 /* CHAT_AGENT_EVENTS */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(AgentEventAnnotations, { message }),\n      [4 /* CHAT_IMAGE */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ImageAnnotations, { message }),\n      [7 /* MARKDOWN */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n        _widgets_index_js__WEBPACK_IMPORTED_MODULE_6__.Markdown,\n        {\n          content: message.content,\n          sources: annotations ? getSourceAnnotationData(annotations)[0] : void 0\n        }\n      ),\n      [9 /* CHAT_DOCUMENT_FILES */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocumentFileAnnotations, { message }),\n      [11 /* CHAT_SOURCES */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SourceAnnotations, { message })\n    }, isLast && props.append && {\n      // show suggested questions only on the last message\n      [13 /* SUGGESTED_QUESTIONS */]: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n        SuggestedQuestionsAnnotations,\n        {\n          message,\n          append: props.append\n        }\n      )\n    });\n    (_b = props.content) == null ? void 0 : _b.forEach((content) => {\n      displayMap[content.position] = content.component;\n    });\n    return Object.entries(displayMap).map(([position, component]) => ({\n      position: parseInt(position),\n      component\n    }));\n  }, [\n    annotations,\n    isLast,\n    message,\n    props.append,\n    props.content,\n    props.isLoading\n  ]);\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: contents.sort((a, b) => a.position - b.position).map((content, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: content.component }, index)) });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", { className: cn(\"flex flex-1 flex-col gap-4\", props.className), children });\n}\nfunction ChatMessageActions(props) {\n  var _a;\n  const { isCopied, copyToClipboard } = useCopyToClipboard({ timeout: 2e3 });\n  const { message } = useChatMessage();\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    Button,\n    {\n      onClick: () => copyToClipboard(message.content),\n      size: \"icon\",\n      variant: \"ghost\",\n      className: \"h-8 w-8\",\n      children: isCopied ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], { className: \"h-4 w-4\" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], { className: \"h-4 w-4\" })\n    }\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    \"div\",\n    {\n      className: cn(\n        \"flex shrink-0 flex-col gap-2 opacity-0 group-hover:opacity-100\",\n        props.className\n      ),\n      children\n    }\n  );\n}\nvar PrimiviteChatMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ChatMessage, (prevProps, nextProps) => {\n  return !nextProps.isLast && prevProps.isLast === nextProps.isLast && prevProps.message === nextProps.message;\n});\nPrimiviteChatMessage.Avatar = ChatMessageAvatar;\nPrimiviteChatMessage.Content = ChatMessageContent;\nPrimiviteChatMessage.Actions = ChatMessageActions;\nvar chat_message_default = PrimiviteChatMessage;\n\n// src/chat/chat-messages.tsx\n\nvar chatMessagesContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nvar ChatMessagesProvider = chatMessagesContext.Provider;\nvar useChatMessages = () => {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(chatMessagesContext);\n  if (!context) {\n    throw new Error(\n      \"useChatMessages must be used within a ChatMessagesProvider\"\n    );\n  }\n  return context;\n};\nfunction ChatMessages(props) {\n  var _a;\n  const { messages, reload, stop, isLoading } = useChatUI();\n  const messageLength = messages.length;\n  const lastMessage = messages[messageLength - 1];\n  const isLastMessageFromAssistant = messageLength > 0 && (lastMessage == null ? void 0 : lastMessage.role) !== \"user\";\n  const showReload = reload && !isLoading && isLastMessageFromAssistant;\n  const showStop = stop && isLoading;\n  const isPending = isLoading && !isLastMessageFromAssistant;\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatMessagesList, {}),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatActions, {})\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    ChatMessagesProvider,\n    {\n      value: { isPending, showReload, showStop, lastMessage, messageLength },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n        \"div\",\n        {\n          className: cn(\n            \"bg-background relative flex-1 space-y-6 p-4\",\n            props.className\n          ),\n          children\n        }\n      )\n    }\n  );\n}\nfunction ChatMessagesList(props) {\n  var _a;\n  const scrollableChatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const { messages, isLoading, append } = useChatUI();\n  const { lastMessage, messageLength } = useChatMessages();\n  const scrollToBottom = () => {\n    if (scrollableChatContainerRef.current) {\n      scrollableChatContainerRef.current.scrollTop = scrollableChatContainerRef.current.scrollHeight;\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    scrollToBottom();\n  }, [messageLength, lastMessage]);\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: [\n    messages.map((message, index) => {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n        chat_message_default,\n        {\n          message,\n          isLast: index === messageLength - 1,\n          isLoading,\n          append\n        },\n        index\n      );\n    }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatMessagesLoading, {})\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    \"div\",\n    {\n      className: cn(\n        \"flex h-[400px] flex-col gap-5 overflow-auto\",\n        props.className\n      ),\n      ref: scrollableChatContainerRef,\n      children\n    }\n  );\n}\nfunction ChatMessagesLoading(props) {\n  var _a;\n  const { isPending } = useChatMessages();\n  if (!isPending) return null;\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], { className: \"h-4 w-4 animate-spin\" });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\n    \"div\",\n    {\n      className: cn(\"flex items-center justify-center pt-4\", props.className),\n      children\n    }\n  );\n}\nfunction ChatActions(props) {\n  var _a;\n  const { reload, stop } = useChatUI();\n  const { showReload, showStop } = useChatMessages();\n  if (!showStop && !showReload) return null;\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: [\n    showStop && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Button, { variant: \"outline\", size: \"sm\", onClick: stop, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], { className: \"mr-2 h-4 w-4\" }),\n      \"Stop generating\"\n    ] }),\n    showReload && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Button, { variant: \"outline\", size: \"sm\", onClick: reload, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], { className: \"mr-2 h-4 w-4\" }),\n      \"Regenerate\"\n    ] })\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", { className: cn(\"flex justify-end gap-4\", props.className), children });\n}\nChatMessages.List = ChatMessagesList;\nChatMessages.Loading = ChatMessagesLoading;\nChatMessages.Actions = ChatActions;\nvar chat_messages_default = ChatMessages;\n\n// src/chat/chat-section.tsx\n\nfunction ChatSection(props) {\n  var _a;\n  const { handler, className } = props;\n  const [requestData, setRequestData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const children = (_a = props.children) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(chat_messages_default, {}),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(chat_input_default, {})\n  ] });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ChatProvider, { value: __spreadProps(__spreadValues({}, handler), { requestData, setRequestData }), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", { className: cn(\"flex flex-col gap-4\", className), children }) });\n}\n\n// src/hook/use-file.tsx\n\nvar docMineTypeMap = {\n  \"text/csv\": \"csv\",\n  \"application/pdf\": \"pdf\",\n  \"text/plain\": \"txt\",\n  \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\": \"docx\"\n};\nfunction useFile({ uploadAPI }) {\n  const [imageUrl, setImageUrl] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const addDoc = (file) => {\n    const existedFile = files.find((f) => f.id === file.id);\n    if (!existedFile) {\n      setFiles((prev) => [...prev, file]);\n      return true;\n    }\n    return false;\n  };\n  const removeDoc = (file) => {\n    setFiles((prev) => prev.filter((f) => f.id !== file.id));\n  };\n  const reset = () => {\n    imageUrl && setImageUrl(null);\n    files.length && setFiles([]);\n  };\n  const uploadContent = (_0, ..._1) => __async(this, [_0, ..._1], function* (file, requestParams = {}) {\n    const base64 = yield readContent({ file, asUrl: true });\n    const response = yield fetch(uploadAPI, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(__spreadProps(__spreadValues({}, requestParams), {\n        base64,\n        name: file.name\n      }))\n    });\n    if (!response.ok) throw new Error(\"Failed to upload document.\");\n    return yield response.json();\n  });\n  const getAnnotations = () => {\n    const annotations = [];\n    if (imageUrl) {\n      annotations.push({\n        type: \"image\",\n        data: { url: imageUrl }\n      });\n    }\n    if (files.length > 0) {\n      annotations.push({\n        type: \"document_file\",\n        data: { files }\n      });\n    }\n    return annotations;\n  };\n  const readContent = (input) => __async(this, null, function* () {\n    const { file, asUrl } = input;\n    const content = yield new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      if (asUrl) {\n        reader.readAsDataURL(file);\n      } else {\n        reader.readAsText(file);\n      }\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n    });\n    return content;\n  });\n  const uploadFile = (_0, ..._1) => __async(this, [_0, ..._1], function* (file, requestParams = {}) {\n    if (file.type.startsWith(\"image/\")) {\n      const base64 = yield readContent({ file, asUrl: true });\n      return setImageUrl(base64);\n    }\n    const filetype = docMineTypeMap[file.type];\n    if (!filetype) throw new Error(\"Unsupported document type.\");\n    const newDoc = yield uploadContent(file, requestParams);\n    return addDoc(newDoc);\n  });\n  return {\n    imageUrl,\n    setImageUrl,\n    files,\n    removeDoc,\n    reset,\n    getAnnotations,\n    uploadFile\n  };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxsYW1haW5kZXgrY2hhdC11aUAwLjAuMTFfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjFfQHR5cGVzK3JlYWN0QDE4LjMuMTJfZW5jb2RpbmdAMC4xLjEzX3JlYWN0XzR5NTRvNzcydHhxZm0yYzZ5MmF5c25mc2RxL25vZGVfbW9kdWxlcy9AbGxhbWFpbmRleC9jaGF0LXVpL2Rpc3QvY2hhdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNkJBQTZCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQzhDOztBQUU5QztBQUM0QjtBQUNhO0FBQ3pDO0FBQ0EsU0FBUyx1REFBTyxDQUFDLDBDQUFJO0FBQ3JCOztBQUVBO0FB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QUF5QixzREFBSSxpQkFBaUIsc0NBQXNDLGNBQWMsNkJBQTZCLDZCQUE2QixzREFBSSxVQUFVLDJEQUEyRCxHQUFHO0FBQ3hPOztBQUVBO0FBQzhDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixXQUFXO0FBQzlCLGtDQUFrQywrQ0FBUztBQUMzQyw0QkFBNEIsK0NBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUdBQXFHO0FBQ3JHLHVDQUF1QyxtQkFBbUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILGtHQUFrRztBQUNsRztBQUNBLHlDQUF5QyxtQkFBbUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvdGwtZHIvLmZyb250ZW5kL25vZGVfbW9kdWxlcy8ucG5wbS9AbGxhbWFpbmRleCtjaGF0LXVpQDAuMC4xMV9AdHlwZXMrcmVhY3QtZG9tQDE4LjMuMV9AdHlwZXMrcmVhY3RAMTguMy4xMl9lbmNvZGluZ0AwLjEuMTNfcmVhY3RfNHk1NG83NzJ0eHFmbTJjNnkyYXlzbmZzZHEvbm9kZV9tb2R1bGVzL0BsbGFtYWluZGV4L2NoYXQtdWkvZGlzdC9jaGF0L2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgX19hc3luYyA9IChfX3RoaXMsIF9fYXJndW1lbnRzLCBnZW5lcmF0b3IpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB2YXIgZnVsZmlsbGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciByZWplY3RlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHN0ZXAgPSAoeCkgPT4geC5kb25lID8gcmVzb2x2ZSh4LnZhbHVlKSA6IFByb21pc2UucmVzb2x2ZSh4LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseShfX3RoaXMsIF9fYXJndW1lbnRzKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuXG4vLyBzcmMvY2hhdC9hbm5vdGF0aW9uLnRzXG52YXIgTWVzc2FnZUFubm90YXRpb25UeXBlID0gLyogQF9fUFVSRV9fICovICgoTWVzc2FnZUFubm90YXRpb25UeXBlMikgPT4ge1xuICBNZXNzYWdlQW5ub3RhdGlvblR5cGUyW1wiSU1BR0VcIl0gPSBcImltYWdlXCI7XG4gIE1lc3NhZ2VBbm5vdGF0aW9uVHlwZTJbXCJET0NVTUVOVF9GSUxFXCJdID0gXCJkb2N1bWVudF9maWxlXCI7XG4gIE1lc3NhZ2VBbm5vdGF0aW9uVHlwZTJbXCJTT1VSQ0VTXCJdID0gXCJzb3VyY2VzXCI7XG4gIE1lc3NhZ2VBbm5vdGF0aW9uVHlwZTJbXCJFVkVOVFNcIl0gPSBcImV2ZW50c1wiO1xuICBNZXNzYWdlQW5ub3RhdGlvblR5cGUyW1wiU1VHR0VTVEVEX1FVRVNUSU9OU1wiXSA9IFwic3VnZ2VzdGVkX3F1ZXN0aW9uc1wiO1xuICBNZXNzYWdlQW5ub3RhdGlvblR5cGUyW1wiQUdFTlRfRVZFTlRTXCJdID0gXCJhZ2VudFwiO1xuICByZXR1cm4gTWVzc2FnZUFubm90YXRpb25UeXBlMjtcbn0pKE1lc3NhZ2VBbm5vdGF0aW9uVHlwZSB8fCB7fSk7XG52YXIgRE9DVU1FTlRfRklMRV9UWVBFUyA9IFtcbiAgXCJjc3ZcIixcbiAgXCJwZGZcIixcbiAgXCJ0eHRcIixcbiAgXCJkb2N4XCJcbl07XG52YXIgTk9ERV9TQ09SRV9USFJFU0hPTEQgPSAwLjI1O1xuZnVuY3Rpb24gZ2V0QW5ub3RhdGlvbkRhdGEoYW5ub3RhdGlvbnMsIHR5cGUpIHtcbiAgaWYgKCEoYW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGFubm90YXRpb25zLmxlbmd0aCkpIHJldHVybiBbXTtcbiAgcmV0dXJuIGFubm90YXRpb25zLmZpbHRlcigoYSkgPT4gYS50eXBlLnRvU3RyaW5nKCkgPT09IHR5cGUpLm1hcCgoYSkgPT4gYS5kYXRhKTtcbn1cbmZ1bmN0aW9uIGdldFNvdXJjZUFubm90YXRpb25EYXRhKGFubm90YXRpb25zKSB7XG4gIGNvbnN0IGRhdGEgPSBnZXRBbm5vdGF0aW9uRGF0YShcbiAgICBhbm5vdGF0aW9ucyxcbiAgICBcInNvdXJjZXNcIiAvKiBTT1VSQ0VTICovXG4gICk7XG4gIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBzb3VyY2VEYXRhID0gZGF0YVswXTtcbiAgICBpZiAoc291cmNlRGF0YS5ub2Rlcykge1xuICAgICAgc291cmNlRGF0YS5ub2RlcyA9IHByZXByb2Nlc3NTb3VyY2VOb2Rlcyhzb3VyY2VEYXRhLm5vZGVzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBwcmVwcm9jZXNzU291cmNlTm9kZXMobm9kZXMpIHtcbiAgY29uc3QgcHJvY2Vzc2VkTm9kZXMgPSBub2Rlcy5maWx0ZXIoKG5vZGUpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBub2RlLnNjb3JlKSAhPSBudWxsID8gX2EgOiAxKSA+IE5PREVfU0NPUkVfVEhSRVNIT0xEO1xuICB9KS5maWx0ZXIoKG5vZGUpID0+IG5vZGUudXJsICYmIG5vZGUudXJsLnRyaW0oKSAhPT0gXCJcIikuc29ydCgoYSwgYikgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuICgoX2EgPSBiLnNjb3JlKSAhPSBudWxsID8gX2EgOiAxKSAtICgoX2IgPSBhLnNjb3JlKSAhPSBudWxsID8gX2IgOiAxKTtcbiAgfSkubWFwKChub2RlKSA9PiB7XG4gICAgbm9kZS51cmwgPSBub2RlLnVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH0pO1xuICByZXR1cm4gcHJvY2Vzc2VkTm9kZXM7XG59XG5cbi8vIHNyYy9jaGF0L2NoYXQtc2VjdGlvbi50c3hcbmltcG9ydCB7IHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvbGliL3V0aWxzLnRzXG5pbXBvcnQgeyBjbHN4IH0gZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tIFwidGFpbHdpbmQtbWVyZ2VcIjtcbmZ1bmN0aW9uIGNuKC4uLmlucHV0cykge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpO1xufVxuXG4vLyBzcmMvY2hhdC9jaGF0LWlucHV0LnRzeFxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCBhcyBjcmVhdGVDb250ZXh0MiwgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvYnV0dG9uLnRzeFxuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0IHsgY3ZhIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBidXR0b25WYXJpYW50cyA9IGN2YShcbiAgXCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgd2hpdGVzcGFjZS1ub3dyYXAgcm91bmRlZC1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MFwiLFxuICB7XG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IHtcbiAgICAgICAgZGVmYXVsdDogXCJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXByaW1hcnkvOTBcIixcbiAgICAgICAgZGVzdHJ1Y3RpdmU6IFwiYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwXCIsXG4gICAgICAgIG91dGxpbmU6IFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIHNlY29uZGFyeTogXCJiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1zZWNvbmRhcnkvODBcIixcbiAgICAgICAgZ2hvc3Q6IFwiaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmRcIixcbiAgICAgICAgbGluazogXCJ0ZXh0LXByaW1hcnkgdW5kZXJsaW5lLW9mZnNldC00IGhvdmVyOnVuZGVybGluZVwiXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OiBcImgtMTAgcHgtNCBweS0yXCIsXG4gICAgICAgIHNtOiBcImgtOSByb3VuZGVkLW1kIHB4LTNcIixcbiAgICAgICAgbGc6IFwiaC0xMSByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTEwIHctMTBcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgIHNpemU6IFwiZGVmYXVsdFwiXG4gICAgfVxuICB9XG4pO1xudmFyIEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoXG4gIChfYSwgcmVmKSA9PiB7XG4gICAgdmFyIF9iID0gX2EsIHsgY2xhc3NOYW1lLCB2YXJpYW50LCBzaXplLCBhc0NoaWxkID0gZmFsc2UgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wiY2xhc3NOYW1lXCIsIFwidmFyaWFudFwiLCBcInNpemVcIiwgXCJhc0NoaWxkXCJdKTtcbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QgOiBcImJ1dHRvblwiO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgQ29tcCxcbiAgICAgIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIGNsYXNzTmFtZSB9KSksXG4gICAgICAgIHJlZlxuICAgICAgfSwgcHJvcHMpXG4gICAgKTtcbiAgfVxuKTtcbkJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiQnV0dG9uXCI7XG5cbi8vIHNyYy91aS9pbnB1dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgSW5wdXQgPSBSZWFjdDIuZm9yd2FyZFJlZihcbiAgKF9hLCByZWYpID0+IHtcbiAgICB2YXIgX2IgPSBfYSwgeyBjbGFzc05hbWUsIHR5cGUgfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wiY2xhc3NOYW1lXCIsIFwidHlwZVwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICB0eXBlLFxuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIFwiYm9yZGVyLWlucHV0IGJnLWJhY2tncm91bmQgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZmxleCBoLTEwIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBweC0zIHB5LTIgdGV4dC1zbSBmaWxlOmJvcmRlci0wIGZpbGU6YmctdHJhbnNwYXJlbnQgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1tZWRpdW0gZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICksXG4gICAgICAgIHJlZlxuICAgICAgfSwgcHJvcHMpXG4gICAgKTtcbiAgfVxuKTtcbklucHV0LmRpc3BsYXlOYW1lID0gXCJJbnB1dFwiO1xuXG4vLyBzcmMvdWkvdGV4dGFyZWEudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFRleHRhcmVhID0gUmVhY3QzLmZvcndhcmRSZWYoXG4gIChfYSwgcmVmKSA9PiB7XG4gICAgdmFyIF9iID0gX2EsIHsgY2xhc3NOYW1lIH0gPSBfYiwgcHJvcHMgPSBfX29ialJlc3QoX2IsIFtcImNsYXNzTmFtZVwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzKFxuICAgICAgXCJ0ZXh0YXJlYVwiLFxuICAgICAgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgIFwiYm9yZGVyLWlucHV0IGJnLWJhY2tncm91bmQgcmluZy1vZmZzZXQtYmFja2dyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZmxleCBtaW4taC1bODBweF0gdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIHB4LTMgcHktMiB0ZXh0LXNtIGZvY3VzLXZpc2libGU6b3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy0yIGZvY3VzLXZpc2libGU6cmluZy1vZmZzZXQtMiBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MFwiLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApLFxuICAgICAgICByZWZcbiAgICAgIH0sIHByb3BzKVxuICAgICk7XG4gIH1cbik7XG5UZXh0YXJlYS5kaXNwbGF5TmFtZSA9IFwiVGV4dGFyZWFcIjtcblxuLy8gc3JjL2NoYXQvY2hhdC1pbnB1dC50c3hcbmltcG9ydCB7IEZpbGVVcGxvYWRlciB9IGZyb20gXCIuLi93aWRnZXRzL2luZGV4LmpzXCI7XG5cbi8vIHNyYy9jaGF0L2NoYXQuY29udGV4dC50c1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGNoYXRDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbnZhciBDaGF0UHJvdmlkZXIgPSBjaGF0Q29udGV4dC5Qcm92aWRlcjtcbnZhciB1c2VDaGF0VUkgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KGNoYXRDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ2hhdFVJIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBDaGF0UHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG4vLyBzcmMvY2hhdC9jaGF0LWlucHV0LnRzeFxuaW1wb3J0IHsgRnJhZ21lbnQsIGpzeCBhcyBqc3g0LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQUxMT1dFRF9FWFRFTlNJT05TID0gW1wicG5nXCIsIFwianBnXCIsIFwianBlZ1wiLCBcImNzdlwiLCBcInBkZlwiLCBcInR4dFwiLCBcImRvY3hcIl07XG52YXIgY2hhdElucHV0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQyKG51bGwpO1xudmFyIENoYXRJbnB1dFByb3ZpZGVyID0gY2hhdElucHV0Q29udGV4dC5Qcm92aWRlcjtcbnZhciB1c2VDaGF0SW5wdXQgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0MihjaGF0SW5wdXRDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQ2hhdElucHV0IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBDaGF0SW5wdXRQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5mdW5jdGlvbiBDaGF0SW5wdXQocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IGlucHV0LCBzZXRJbnB1dCwgYXBwZW5kLCBpc0xvYWRpbmcsIHJlcXVlc3REYXRhIH0gPSB1c2VDaGF0VUkoKTtcbiAgY29uc3QgaXNEaXNhYmxlZCA9IGlzTG9hZGluZyB8fCAhaW5wdXQudHJpbSgpO1xuICBjb25zdCBzdWJtaXQgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICBjb250ZW50OiBpbnB1dCxcbiAgICAgIGFubm90YXRpb25zOiBwcm9wcy5hbm5vdGF0aW9uc1xuICAgIH07XG4gICAgc2V0SW5wdXQoXCJcIik7XG4gICAgKF9hMiA9IHByb3BzLnJlc2V0VXBsb2FkZWRGaWxlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKHByb3BzKTtcbiAgICB5aWVsZCBhcHBlbmQobmV3TWVzc2FnZSwgeyBkYXRhOiByZXF1ZXN0RGF0YSB9KTtcbiAgfSk7XG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChlKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHlpZWxkIHN1Ym1pdCgpO1xuICB9KTtcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHJldHVybjtcbiAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgeWllbGQgc3VibWl0KCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgY2hpbGRyZW4gPSAoX2EgPSBwcm9wcy5jaGlsZHJlbikgIT0gbnVsbCA/IF9hIDogLyogQF9fUFVSRV9fICovIGpzeDQoQ2hhdElucHV0Rm9ybSwge30pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQoQ2hhdElucHV0UHJvdmlkZXIsIHsgdmFsdWU6IHsgaXNEaXNhYmxlZCwgaGFuZGxlS2V5RG93biwgaGFuZGxlU3VibWl0IH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NChcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgIFwiYmctYmFja2dyb3VuZCBmbGV4IHNocmluay0wIGZsZXgtY29sIGdhcC00IHAtNFwiLFxuICAgICAgICBwcm9wcy5jbGFzc05hbWVcbiAgICAgICksXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKSB9KTtcbn1cbmZ1bmN0aW9uIENoYXRJbnB1dEZvcm0ocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IGhhbmRsZVN1Ym1pdCB9ID0gdXNlQ2hhdElucHV0KCk7XG4gIGNvbnN0IGNoaWxkcmVuID0gKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDQoQ2hhdElucHV0RmllbGQsIHt9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4NChDaGF0SW5wdXRTdWJtaXQsIHt9KVxuICBdIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQoXCJmb3JtXCIsIHsgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCwgY2xhc3NOYW1lOiBjbihwcm9wcy5jbGFzc05hbWUsIFwiZmxleCBnYXAtMlwiKSwgY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiBDaGF0SW5wdXRGaWVsZChwcm9wcykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgaW5wdXQsIHNldElucHV0IH0gPSB1c2VDaGF0VUkoKTtcbiAgY29uc3QgeyBoYW5kbGVLZXlEb3duIH0gPSB1c2VDaGF0SW5wdXQoKTtcbiAgY29uc3QgdHlwZSA9IChfYSA9IHByb3BzLnR5cGUpICE9IG51bGwgPyBfYSA6IFwidGV4dGFyZWFcIjtcbiAgaWYgKHR5cGUgPT09IFwiaW5wdXRcIikge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NChcbiAgICAgIElucHV0LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcImlucHV0XCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlR5cGUgYSBtZXNzYWdlXCIsXG4gICAgICAgIGNsYXNzTmFtZTogY24ocHJvcHMuY2xhc3NOYW1lLCBcIm1pbi1oLTBcIiksXG4gICAgICAgIHZhbHVlOiBpbnB1dCxcbiAgICAgICAgb25DaGFuZ2U6IChlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NChcbiAgICBUZXh0YXJlYSxcbiAgICB7XG4gICAgICBuYW1lOiBcImlucHV0XCIsXG4gICAgICBwbGFjZWhvbGRlcjogXCJUeXBlIGEgbWVzc2FnZVwiLFxuICAgICAgY2xhc3NOYW1lOiBjbihwcm9wcy5jbGFzc05hbWUsIFwiaC1bNDBweF0gbWluLWgtMCBmbGV4LTFcIiksXG4gICAgICB2YWx1ZTogaW5wdXQsXG4gICAgICBvbkNoYW5nZTogKGUpID0+IHNldElucHV0KGUudGFyZ2V0LnZhbHVlKSxcbiAgICAgIG9uS2V5RG93bjogaGFuZGxlS2V5RG93blxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIENoYXRJbnB1dFVwbG9hZChwcm9wcykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB7IHJlcXVlc3REYXRhLCBzZXRSZXF1ZXN0RGF0YSwgaXNMb2FkaW5nIH0gPSB1c2VDaGF0VUkoKTtcbiAgY29uc3Qgb25GaWxlVXBsb2FkID0gKGZpbGUpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBpZiAocHJvcHMub25VcGxvYWQpIHtcbiAgICAgIHlpZWxkIHByb3BzLm9uVXBsb2FkKGZpbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRSZXF1ZXN0RGF0YShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCByZXF1ZXN0RGF0YSB8fCB7fSksIHsgZmlsZSB9KSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0KFxuICAgIEZpbGVVcGxvYWRlcixcbiAgICB7XG4gICAgICBvbkZpbGVVcGxvYWQsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgZGlzYWJsZWQ6IGlzTG9hZGluZyxcbiAgICAgICAgYWxsb3dlZEV4dGVuc2lvbnM6IChfYSA9IHByb3BzLmFsbG93ZWRFeHRlbnNpb25zKSAhPSBudWxsID8gX2EgOiBBTExPV0VEX0VYVEVOU0lPTlMsXG4gICAgICAgIG11bHRpcGxlOiAoX2IgPSBwcm9wcy5tdWx0aXBsZSkgIT0gbnVsbCA/IF9iIDogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIENoYXRJbnB1dFN1Ym1pdChwcm9wcykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCB7IGlzRGlzYWJsZWQgfSA9IHVzZUNoYXRJbnB1dCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDQoXG4gICAgQnV0dG9uLFxuICAgIHtcbiAgICAgIHR5cGU6IFwic3VibWl0XCIsXG4gICAgICBkaXNhYmxlZDogKF9hID0gcHJvcHMuZGlzYWJsZWQpICE9IG51bGwgPyBfYSA6IGlzRGlzYWJsZWQsXG4gICAgICBjbGFzc05hbWU6IGNuKHByb3BzLmNsYXNzTmFtZSksXG4gICAgICBjaGlsZHJlbjogKF9iID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYiA6IFwiU2VuZCBtZXNzYWdlXCJcbiAgICB9XG4gICk7XG59XG5DaGF0SW5wdXQuRm9ybSA9IENoYXRJbnB1dEZvcm07XG5DaGF0SW5wdXQuRmllbGQgPSBDaGF0SW5wdXRGaWVsZDtcbkNoYXRJbnB1dC5VcGxvYWQgPSBDaGF0SW5wdXRVcGxvYWQ7XG5DaGF0SW5wdXQuU3VibWl0ID0gQ2hhdElucHV0U3VibWl0O1xudmFyIGNoYXRfaW5wdXRfZGVmYXVsdCA9IENoYXRJbnB1dDtcblxuLy8gc3JjL2NoYXQvY2hhdC1tZXNzYWdlcy50c3hcbmltcG9ydCB7IExvYWRlcjIsIFBhdXNlQ2lyY2xlLCBSZWZyZXNoQ3cgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0IGFzIGNyZWF0ZUNvbnRleHQ0LCB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQ0LCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvY2hhdC9jaGF0LW1lc3NhZ2UudHN4XG5pbXBvcnQgeyBCb3QsIENoZWNrLCBDb3B5LCBNZXNzYWdlQ2lyY2xlLCBVc2VyMiB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQgYXMgY3JlYXRlQ29udGV4dDMsIEZyYWdtZW50IGFzIEZyYWdtZW50MiwgbWVtbywgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9vay91c2UtY29weS10by1jbGlwYm9hcmQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb3B5VG9DbGlwYm9hcmQoe1xuICB0aW1lb3V0ID0gMmUzXG59KSB7XG4gIGNvbnN0IFtpc0NvcGllZCwgc2V0SXNDb3BpZWRdID0gUmVhY3Q0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKHZhbHVlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICEoKF9hID0gbmF2aWdhdG9yLmNsaXBib2FyZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLndyaXRlVGV4dCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh2YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICBzZXRJc0NvcGllZCh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRJc0NvcGllZChmYWxzZSk7XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHsgaXNDb3BpZWQsIGNvcHlUb0NsaXBib2FyZCB9O1xufVxuXG4vLyBzcmMvY2hhdC9jaGF0LW1lc3NhZ2UudHN4XG5pbXBvcnQgeyBNYXJrZG93biB9IGZyb20gXCIuLi93aWRnZXRzL2luZGV4LmpzXCI7XG5cbi8vIHNyYy9jaGF0L2NoYXQtYW5ub3RhdGlvbnMudHN4XG5pbXBvcnQge1xuICBDaGF0QWdlbnRFdmVudHMsXG4gIENoYXRFdmVudHMsXG4gIENoYXRGaWxlcyxcbiAgQ2hhdEltYWdlLFxuICBDaGF0U291cmNlcyxcbiAgU3VnZ2VzdGVkUXVlc3Rpb25zXG59IGZyb20gXCIuLi93aWRnZXRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBqc3ggYXMganN4NSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gRXZlbnRBbm5vdGF0aW9ucyh7XG4gIG1lc3NhZ2UsXG4gIHNob3dMb2FkaW5nXG59KSB7XG4gIGNvbnN0IGFubm90YXRpb25zID0gbWVzc2FnZS5hbm5vdGF0aW9ucztcbiAgY29uc3QgZXZlbnREYXRhID0gYW5ub3RhdGlvbnMgJiYgYW5ub3RhdGlvbnMubGVuZ3RoID4gMCA/IGdldEFubm90YXRpb25EYXRhKGFubm90YXRpb25zLCBcImV2ZW50c1wiIC8qIEVWRU5UUyAqLykgOiBudWxsO1xuICBpZiAoIShldmVudERhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50RGF0YS5sZW5ndGgpKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1KENoYXRFdmVudHMsIHsgZGF0YTogZXZlbnREYXRhLCBzaG93TG9hZGluZyB9KTtcbn1cbmZ1bmN0aW9uIEFnZW50RXZlbnRBbm5vdGF0aW9ucyh7IG1lc3NhZ2UgfSkge1xuICBjb25zdCBhbm5vdGF0aW9ucyA9IG1lc3NhZ2UuYW5ub3RhdGlvbnM7XG4gIGNvbnN0IGFnZW50RXZlbnREYXRhID0gYW5ub3RhdGlvbnMgJiYgYW5ub3RhdGlvbnMubGVuZ3RoID4gMCA/IGdldEFubm90YXRpb25EYXRhKFxuICAgIGFubm90YXRpb25zLFxuICAgIFwiYWdlbnRcIiAvKiBBR0VOVF9FVkVOVFMgKi9cbiAgKSA6IG51bGw7XG4gIGlmICghKGFnZW50RXZlbnREYXRhID09IG51bGwgPyB2b2lkIDAgOiBhZ2VudEV2ZW50RGF0YS5sZW5ndGgpKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g1KFxuICAgIENoYXRBZ2VudEV2ZW50cyxcbiAgICB7XG4gICAgICBkYXRhOiBhZ2VudEV2ZW50RGF0YSxcbiAgICAgIGlzRmluaXNoZWQ6IEJvb2xlYW4obWVzc2FnZS5jb250ZW50KVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEltYWdlQW5ub3RhdGlvbnMoeyBtZXNzYWdlIH0pIHtcbiAgY29uc3QgYW5ub3RhdGlvbnMgPSBtZXNzYWdlLmFubm90YXRpb25zO1xuICBjb25zdCBpbWFnZURhdGEgPSBhbm5vdGF0aW9ucyAmJiBhbm5vdGF0aW9ucy5sZW5ndGggPiAwID8gZ2V0QW5ub3RhdGlvbkRhdGEoYW5ub3RhdGlvbnMsIFwiaW1hZ2VcIikgOiBudWxsO1xuICBpZiAoIWltYWdlRGF0YSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpbWFnZURhdGFbMF0gPyAvKiBAX19QVVJFX18gKi8ganN4NShDaGF0SW1hZ2UsIHsgZGF0YTogaW1hZ2VEYXRhWzBdIH0pIDogbnVsbDtcbn1cbmZ1bmN0aW9uIERvY3VtZW50RmlsZUFubm90YXRpb25zKHsgbWVzc2FnZSB9KSB7XG4gIGNvbnN0IGFubm90YXRpb25zID0gbWVzc2FnZS5hbm5vdGF0aW9ucztcbiAgY29uc3QgY29udGVudEZpbGVEYXRhID0gYW5ub3RhdGlvbnMgJiYgYW5ub3RhdGlvbnMubGVuZ3RoID4gMCA/IGdldEFubm90YXRpb25EYXRhKFxuICAgIGFubm90YXRpb25zLFxuICAgIFwiZG9jdW1lbnRfZmlsZVwiIC8qIERPQ1VNRU5UX0ZJTEUgKi9cbiAgKSA6IG51bGw7XG4gIGlmICghY29udGVudEZpbGVEYXRhKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGNvbnRlbnRGaWxlRGF0YVswXSA/IC8qIEBfX1BVUkVfXyAqLyBqc3g1KENoYXRGaWxlcywgeyBkYXRhOiBjb250ZW50RmlsZURhdGFbMF0gfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gU291cmNlQW5ub3RhdGlvbnMoeyBtZXNzYWdlIH0pIHtcbiAgY29uc3QgYW5ub3RhdGlvbnMgPSBtZXNzYWdlLmFubm90YXRpb25zO1xuICBjb25zdCBzb3VyY2VEYXRhID0gYW5ub3RhdGlvbnMgJiYgYW5ub3RhdGlvbnMubGVuZ3RoID4gMCA/IGdldFNvdXJjZUFubm90YXRpb25EYXRhKGFubm90YXRpb25zKSA6IG51bGw7XG4gIGlmICghc291cmNlRGF0YSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBzb3VyY2VEYXRhWzBdID8gLyogQF9fUFVSRV9fICovIGpzeDUoQ2hhdFNvdXJjZXMsIHsgZGF0YTogc291cmNlRGF0YVswXSB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiBTdWdnZXN0ZWRRdWVzdGlvbnNBbm5vdGF0aW9ucyh7XG4gIG1lc3NhZ2UsXG4gIGFwcGVuZFxufSkge1xuICBjb25zdCBhbm5vdGF0aW9ucyA9IG1lc3NhZ2UuYW5ub3RhdGlvbnM7XG4gIGNvbnN0IHN1Z2dlc3RlZFF1ZXN0aW9uc0RhdGEgPSBhbm5vdGF0aW9ucyAmJiBhbm5vdGF0aW9ucy5sZW5ndGggPiAwID8gZ2V0QW5ub3RhdGlvbkRhdGEoXG4gICAgYW5ub3RhdGlvbnMsXG4gICAgXCJzdWdnZXN0ZWRfcXVlc3Rpb25zXCIgLyogU1VHR0VTVEVEX1FVRVNUSU9OUyAqL1xuICApIDogbnVsbDtcbiAgaWYgKCEoc3VnZ2VzdGVkUXVlc3Rpb25zRGF0YSA9PSBudWxsID8gdm9pZCAwIDogc3VnZ2VzdGVkUXVlc3Rpb25zRGF0YVswXSkpIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDUoU3VnZ2VzdGVkUXVlc3Rpb25zLCB7IHF1ZXN0aW9uczogc3VnZ2VzdGVkUXVlc3Rpb25zRGF0YVswXSwgYXBwZW5kIH0pO1xufVxuXG4vLyBzcmMvY2hhdC9jaGF0LW1lc3NhZ2UudHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDMsIGpzeCBhcyBqc3g2LCBqc3hzIGFzIGpzeHMyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQ29udGVudFBvc2l0aW9uID0gLyogQF9fUFVSRV9fICovICgoQ29udGVudFBvc2l0aW9uMikgPT4ge1xuICBDb250ZW50UG9zaXRpb24yW0NvbnRlbnRQb3NpdGlvbjJbXCJUT1BcIl0gPSAtOTk5OV0gPSBcIlRPUFwiO1xuICBDb250ZW50UG9zaXRpb24yW0NvbnRlbnRQb3NpdGlvbjJbXCJDSEFUX0VWRU5UU1wiXSA9IDBdID0gXCJDSEFUX0VWRU5UU1wiO1xuICBDb250ZW50UG9zaXRpb24yW0NvbnRlbnRQb3NpdGlvbjJbXCJBRlRFUl9FVkVOVFNcIl0gPSAxXSA9IFwiQUZURVJfRVZFTlRTXCI7XG4gIENvbnRlbnRQb3NpdGlvbjJbQ29udGVudFBvc2l0aW9uMltcIkNIQVRfQUdFTlRfRVZFTlRTXCJdID0gMl0gPSBcIkNIQVRfQUdFTlRfRVZFTlRTXCI7XG4gIENvbnRlbnRQb3NpdGlvbjJbQ29udGVudFBvc2l0aW9uMltcIkFGVEVSX0FHRU5UX0VWRU5UU1wiXSA9IDNdID0gXCJBRlRFUl9BR0VOVF9FVkVOVFNcIjtcbiAgQ29udGVudFBvc2l0aW9uMltDb250ZW50UG9zaXRpb24yW1wiQ0hBVF9JTUFHRVwiXSA9IDRdID0gXCJDSEFUX0lNQUdFXCI7XG4gIENvbnRlbnRQb3NpdGlvbjJbQ29udGVudFBvc2l0aW9uMltcIkFGVEVSX0lNQUdFXCJdID0gNV0gPSBcIkFGVEVSX0lNQUdFXCI7XG4gIENvbnRlbnRQb3NpdGlvbjJbQ29udGVudFBvc2l0aW9uMltcIkJFRk9SRV9NQVJLRE9XTlwiXSA9IDZdID0gXCJCRUZPUkVfTUFSS0RPV05cIjtcbiAgQ29udGVudFBvc2l0aW9uMltDb250ZW50UG9zaXRpb24yW1wiTUFSS0RPV05cIl0gPSA3XSA9IFwiTUFSS0RPV05cIjtcbiAgQ29udGVudFBvc2l0aW9uMltDb250ZW50UG9zaXRpb24yW1wiQUZURVJfTUFSS0RPV05cIl0gPSA4XSA9IFwiQUZURVJfTUFSS0RPV05cIjtcbiAgQ29udGVudFBvc2l0aW9uMltDb250ZW50UG9zaXRpb24yW1wiQ0hBVF9ET0NVTUVOVF9GSUxFU1wiXSA9IDldID0gXCJDSEFUX0RPQ1VNRU5UX0ZJTEVTXCI7XG4gIENvbnRlbnRQb3NpdGlvbjJbQ29udGVudFBvc2l0aW9uMltcIkFGVEVSX0RPQ1VNRU5UX0ZJTEVTXCJdID0gMTBdID0gXCJBRlRFUl9ET0NVTUVOVF9GSUxFU1wiO1xuICBDb250ZW50UG9zaXRpb24yW0NvbnRlbnRQb3NpdGlvbjJbXCJDSEFUX1NPVVJDRVNcIl0gPSAxMV0gPSBcIkNIQVRfU09VUkNFU1wiO1xuICBDb250ZW50UG9zaXRpb24yW0NvbnRlbnRQb3NpdGlvbjJbXCJBRlRFUl9TT1VSQ0VTXCJdID0gMTJdID0gXCJBRlRFUl9TT1VSQ0VTXCI7XG4gIENvbnRlbnRQb3NpdGlvbjJbQ29udGVudFBvc2l0aW9uMltcIlNVR0dFU1RFRF9RVUVTVElPTlNcIl0gPSAxM10gPSBcIlNVR0dFU1RFRF9RVUVTVElPTlNcIjtcbiAgQ29udGVudFBvc2l0aW9uMltDb250ZW50UG9zaXRpb24yW1wiQUZURVJfU1VHR0VTVEVEX1FVRVNUSU9OU1wiXSA9IDE0XSA9IFwiQUZURVJfU1VHR0VTVEVEX1FVRVNUSU9OU1wiO1xuICBDb250ZW50UG9zaXRpb24yW0NvbnRlbnRQb3NpdGlvbjJbXCJCT1RUT01cIl0gPSA5OTk5XSA9IFwiQk9UVE9NXCI7XG4gIHJldHVybiBDb250ZW50UG9zaXRpb24yO1xufSkoQ29udGVudFBvc2l0aW9uIHx8IHt9KTtcbnZhciBjaGF0TWVzc2FnZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0MyhudWxsKTtcbnZhciBDaGF0TWVzc2FnZVByb3ZpZGVyID0gY2hhdE1lc3NhZ2VDb250ZXh0LlByb3ZpZGVyO1xudmFyIHVzZUNoYXRNZXNzYWdlID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDMoY2hhdE1lc3NhZ2VDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KVxuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUNoYXRNZXNzYWdlIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBDaGF0TWVzc2FnZVByb3ZpZGVyXCIpO1xuICByZXR1cm4gY29udGV4dDtcbn07XG5mdW5jdGlvbiBDaGF0TWVzc2FnZShwcm9wcykge1xuICB2YXIgX2E7XG4gIGNvbnN0IGNoaWxkcmVuID0gKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IC8qIEBfX1BVUkVfXyAqLyBqc3hzMihGcmFnbWVudDMsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4NihDaGF0TWVzc2FnZUF2YXRhciwge30pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g2KENoYXRNZXNzYWdlQ29udGVudCwgeyBpc0xvYWRpbmc6IHByb3BzLmlzTG9hZGluZywgYXBwZW5kOiBwcm9wcy5hcHBlbmQgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDYoQ2hhdE1lc3NhZ2VBY3Rpb25zLCB7fSlcbiAgXSB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgIENoYXRNZXNzYWdlUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHsgbWVzc2FnZTogcHJvcHMubWVzc2FnZSwgaXNMYXN0OiBwcm9wcy5pc0xhc3QgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4NihcImRpdlwiLCB7IGNsYXNzTmFtZTogY24oXCJncm91cCBmbGV4IGdhcC00IHAtM1wiLCBwcm9wcy5jbGFzc05hbWUpLCBjaGlsZHJlbiB9KVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIENoYXRNZXNzYWdlQXZhdGFyKHByb3BzKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHsgbWVzc2FnZSB9ID0gdXNlQ2hhdE1lc3NhZ2UoKTtcbiAgY29uc3Qgcm9sZUljb25NYXAgPSB7XG4gICAgdXNlcjogLyogQF9fUFVSRV9fICovIGpzeDYoVXNlcjIsIHsgY2xhc3NOYW1lOiBcImgtNCB3LTRcIiB9KSxcbiAgICBhc3Npc3RhbnQ6IC8qIEBfX1BVUkVfXyAqLyBqc3g2KEJvdCwgeyBjbGFzc05hbWU6IFwiaC00IHctNFwiIH0pXG4gIH07XG4gIGNvbnN0IGNoaWxkcmVuID0gKF9iID0gKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IHJvbGVJY29uTWFwW21lc3NhZ2Uucm9sZV0pICE9IG51bGwgPyBfYiA6IC8qIEBfX1BVUkVfXyAqLyBqc3g2KE1lc3NhZ2VDaXJjbGUsIHsgY2xhc3NOYW1lOiBcImgtNCB3LTRcIiB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJnLWJhY2tncm91bmQgZmxleCBoLTggdy04IHNocmluay0wIHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBib3JkZXJcIiwgY2hpbGRyZW4gfSk7XG59XG5mdW5jdGlvbiBDaGF0TWVzc2FnZUNvbnRlbnQocHJvcHMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IG1lc3NhZ2UsIGlzTGFzdCB9ID0gdXNlQ2hhdE1lc3NhZ2UoKTtcbiAgY29uc3QgYW5ub3RhdGlvbnMgPSBtZXNzYWdlLmFubm90YXRpb25zO1xuICBjb25zdCBjb250ZW50cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHZhciBfYTIsIF9iO1xuICAgIGNvbnN0IGRpc3BsYXlNYXAgPSBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBbMCAvKiBDSEFUX0VWRU5UUyAqL106IC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgICBFdmVudEFubm90YXRpb25zLFxuICAgICAgICB7XG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICBzaG93TG9hZGluZzogKF9hMiA9IGlzTGFzdCAmJiBwcm9wcy5pc0xvYWRpbmcpICE9IG51bGwgPyBfYTIgOiBmYWxzZVxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgWzIgLyogQ0hBVF9BR0VOVF9FVkVOVFMgKi9dOiAvKiBAX19QVVJFX18gKi8ganN4NihBZ2VudEV2ZW50QW5ub3RhdGlvbnMsIHsgbWVzc2FnZSB9KSxcbiAgICAgIFs0IC8qIENIQVRfSU1BR0UgKi9dOiAvKiBAX19QVVJFX18gKi8ganN4NihJbWFnZUFubm90YXRpb25zLCB7IG1lc3NhZ2UgfSksXG4gICAgICBbNyAvKiBNQVJLRE9XTiAqL106IC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgICBNYXJrZG93bixcbiAgICAgICAge1xuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICBzb3VyY2VzOiBhbm5vdGF0aW9ucyA/IGdldFNvdXJjZUFubm90YXRpb25EYXRhKGFubm90YXRpb25zKVswXSA6IHZvaWQgMFxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgWzkgLyogQ0hBVF9ET0NVTUVOVF9GSUxFUyAqL106IC8qIEBfX1BVUkVfXyAqLyBqc3g2KERvY3VtZW50RmlsZUFubm90YXRpb25zLCB7IG1lc3NhZ2UgfSksXG4gICAgICBbMTEgLyogQ0hBVF9TT1VSQ0VTICovXTogLyogQF9fUFVSRV9fICovIGpzeDYoU291cmNlQW5ub3RhdGlvbnMsIHsgbWVzc2FnZSB9KVxuICAgIH0sIGlzTGFzdCAmJiBwcm9wcy5hcHBlbmQgJiYge1xuICAgICAgLy8gc2hvdyBzdWdnZXN0ZWQgcXVlc3Rpb25zIG9ubHkgb24gdGhlIGxhc3QgbWVzc2FnZVxuICAgICAgWzEzIC8qIFNVR0dFU1RFRF9RVUVTVElPTlMgKi9dOiAvKiBAX19QVVJFX18gKi8ganN4NihcbiAgICAgICAgU3VnZ2VzdGVkUXVlc3Rpb25zQW5ub3RhdGlvbnMsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIGFwcGVuZDogcHJvcHMuYXBwZW5kXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9KTtcbiAgICAoX2IgPSBwcm9wcy5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuZm9yRWFjaCgoY29udGVudCkgPT4ge1xuICAgICAgZGlzcGxheU1hcFtjb250ZW50LnBvc2l0aW9uXSA9IGNvbnRlbnQuY29tcG9uZW50O1xuICAgIH0pO1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhkaXNwbGF5TWFwKS5tYXAoKFtwb3NpdGlvbiwgY29tcG9uZW50XSkgPT4gKHtcbiAgICAgIHBvc2l0aW9uOiBwYXJzZUludChwb3NpdGlvbiksXG4gICAgICBjb21wb25lbnRcbiAgICB9KSk7XG4gIH0sIFtcbiAgICBhbm5vdGF0aW9ucyxcbiAgICBpc0xhc3QsXG4gICAgbWVzc2FnZSxcbiAgICBwcm9wcy5hcHBlbmQsXG4gICAgcHJvcHMuY29udGVudCxcbiAgICBwcm9wcy5pc0xvYWRpbmdcbiAgXSk7XG4gIGNvbnN0IGNoaWxkcmVuID0gKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IC8qIEBfX1BVUkVfXyAqLyBqc3g2KEZyYWdtZW50MywgeyBjaGlsZHJlbjogY29udGVudHMuc29ydCgoYSwgYikgPT4gYS5wb3NpdGlvbiAtIGIucG9zaXRpb24pLm1hcCgoY29udGVudCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3g2KEZyYWdtZW50MiwgeyBjaGlsZHJlbjogY29udGVudC5jb21wb25lbnQgfSwgaW5kZXgpKSB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbihcImZsZXggZmxleC0xIGZsZXgtY29sIGdhcC00XCIsIHByb3BzLmNsYXNzTmFtZSksIGNoaWxkcmVuIH0pO1xufVxuZnVuY3Rpb24gQ2hhdE1lc3NhZ2VBY3Rpb25zKHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBpc0NvcGllZCwgY29weVRvQ2xpcGJvYXJkIH0gPSB1c2VDb3B5VG9DbGlwYm9hcmQoeyB0aW1lb3V0OiAyZTMgfSk7XG4gIGNvbnN0IHsgbWVzc2FnZSB9ID0gdXNlQ2hhdE1lc3NhZ2UoKTtcbiAgY29uc3QgY2hpbGRyZW4gPSAoX2EgPSBwcm9wcy5jaGlsZHJlbikgIT0gbnVsbCA/IF9hIDogLyogQF9fUFVSRV9fICovIGpzeDYoXG4gICAgQnV0dG9uLFxuICAgIHtcbiAgICAgIG9uQ2xpY2s6ICgpID0+IGNvcHlUb0NsaXBib2FyZChtZXNzYWdlLmNvbnRlbnQpLFxuICAgICAgc2l6ZTogXCJpY29uXCIsXG4gICAgICB2YXJpYW50OiBcImdob3N0XCIsXG4gICAgICBjbGFzc05hbWU6IFwiaC04IHctOFwiLFxuICAgICAgY2hpbGRyZW46IGlzQ29waWVkID8gLyogQF9fUFVSRV9fICovIGpzeDYoQ2hlY2ssIHsgY2xhc3NOYW1lOiBcImgtNCB3LTRcIiB9KSA6IC8qIEBfX1BVUkVfXyAqLyBqc3g2KENvcHksIHsgY2xhc3NOYW1lOiBcImgtNCB3LTRcIiB9KVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbihcbiAgICAgICAgXCJmbGV4IHNocmluay0wIGZsZXgtY29sIGdhcC0yIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMFwiLFxuICAgICAgICBwcm9wcy5jbGFzc05hbWVcbiAgICAgICksXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKTtcbn1cbnZhciBQcmltaXZpdGVDaGF0TWVzc2FnZSA9IG1lbW8oQ2hhdE1lc3NhZ2UsIChwcmV2UHJvcHMsIG5leHRQcm9wcykgPT4ge1xuICByZXR1cm4gIW5leHRQcm9wcy5pc0xhc3QgJiYgcHJldlByb3BzLmlzTGFzdCA9PT0gbmV4dFByb3BzLmlzTGFzdCAmJiBwcmV2UHJvcHMubWVzc2FnZSA9PT0gbmV4dFByb3BzLm1lc3NhZ2U7XG59KTtcblByaW1pdml0ZUNoYXRNZXNzYWdlLkF2YXRhciA9IENoYXRNZXNzYWdlQXZhdGFyO1xuUHJpbWl2aXRlQ2hhdE1lc3NhZ2UuQ29udGVudCA9IENoYXRNZXNzYWdlQ29udGVudDtcblByaW1pdml0ZUNoYXRNZXNzYWdlLkFjdGlvbnMgPSBDaGF0TWVzc2FnZUFjdGlvbnM7XG52YXIgY2hhdF9tZXNzYWdlX2RlZmF1bHQgPSBQcmltaXZpdGVDaGF0TWVzc2FnZTtcblxuLy8gc3JjL2NoYXQvY2hhdC1tZXNzYWdlcy50c3hcbmltcG9ydCB7IEZyYWdtZW50IGFzIEZyYWdtZW50NCwganN4IGFzIGpzeDcsIGpzeHMgYXMganN4czMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBjaGF0TWVzc2FnZXNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDQobnVsbCk7XG52YXIgQ2hhdE1lc3NhZ2VzUHJvdmlkZXIgPSBjaGF0TWVzc2FnZXNDb250ZXh0LlByb3ZpZGVyO1xudmFyIHVzZUNoYXRNZXNzYWdlcyA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQ0KGNoYXRNZXNzYWdlc0NvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcInVzZUNoYXRNZXNzYWdlcyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQ2hhdE1lc3NhZ2VzUHJvdmlkZXJcIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuZnVuY3Rpb24gQ2hhdE1lc3NhZ2VzKHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBtZXNzYWdlcywgcmVsb2FkLCBzdG9wLCBpc0xvYWRpbmcgfSA9IHVzZUNoYXRVSSgpO1xuICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gbWVzc2FnZXMubGVuZ3RoO1xuICBjb25zdCBsYXN0TWVzc2FnZSA9IG1lc3NhZ2VzW21lc3NhZ2VMZW5ndGggLSAxXTtcbiAgY29uc3QgaXNMYXN0TWVzc2FnZUZyb21Bc3Npc3RhbnQgPSBtZXNzYWdlTGVuZ3RoID4gMCAmJiAobGFzdE1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IGxhc3RNZXNzYWdlLnJvbGUpICE9PSBcInVzZXJcIjtcbiAgY29uc3Qgc2hvd1JlbG9hZCA9IHJlbG9hZCAmJiAhaXNMb2FkaW5nICYmIGlzTGFzdE1lc3NhZ2VGcm9tQXNzaXN0YW50O1xuICBjb25zdCBzaG93U3RvcCA9IHN0b3AgJiYgaXNMb2FkaW5nO1xuICBjb25zdCBpc1BlbmRpbmcgPSBpc0xvYWRpbmcgJiYgIWlzTGFzdE1lc3NhZ2VGcm9tQXNzaXN0YW50O1xuICBjb25zdCBjaGlsZHJlbiA9IChfYSA9IHByb3BzLmNoaWxkcmVuKSAhPSBudWxsID8gX2EgOiAvKiBAX19QVVJFX18gKi8ganN4czMoRnJhZ21lbnQ0LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDcoQ2hhdE1lc3NhZ2VzTGlzdCwge30pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g3KENoYXRBY3Rpb25zLCB7fSlcbiAgXSB9KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g3KFxuICAgIENoYXRNZXNzYWdlc1Byb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7IGlzUGVuZGluZywgc2hvd1JlbG9hZCwgc2hvd1N0b3AsIGxhc3RNZXNzYWdlLCBtZXNzYWdlTGVuZ3RoIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDcoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNuKFxuICAgICAgICAgICAgXCJiZy1iYWNrZ3JvdW5kIHJlbGF0aXZlIGZsZXgtMSBzcGFjZS15LTYgcC00XCIsXG4gICAgICAgICAgICBwcm9wcy5jbGFzc05hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBDaGF0TWVzc2FnZXNMaXN0KHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgc2Nyb2xsYWJsZUNoYXRDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHsgbWVzc2FnZXMsIGlzTG9hZGluZywgYXBwZW5kIH0gPSB1c2VDaGF0VUkoKTtcbiAgY29uc3QgeyBsYXN0TWVzc2FnZSwgbWVzc2FnZUxlbmd0aCB9ID0gdXNlQ2hhdE1lc3NhZ2VzKCk7XG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIGlmIChzY3JvbGxhYmxlQ2hhdENvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICBzY3JvbGxhYmxlQ2hhdENvbnRhaW5lclJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IHNjcm9sbGFibGVDaGF0Q29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIH1cbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbbWVzc2FnZUxlbmd0aCwgbGFzdE1lc3NhZ2VdKTtcbiAgY29uc3QgY2hpbGRyZW4gPSAoX2EgPSBwcm9wcy5jaGlsZHJlbikgIT0gbnVsbCA/IF9hIDogLyogQF9fUFVSRV9fICovIGpzeHMzKEZyYWdtZW50NCwgeyBjaGlsZHJlbjogW1xuICAgIG1lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICAgICAgY2hhdF9tZXNzYWdlX2RlZmF1bHQsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIGlzTGFzdDogaW5kZXggPT09IG1lc3NhZ2VMZW5ndGggLSAxLFxuICAgICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgICBhcHBlbmRcbiAgICAgICAgfSxcbiAgICAgICAgaW5kZXhcbiAgICAgICk7XG4gICAgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDcoQ2hhdE1lc3NhZ2VzTG9hZGluZywge30pXG4gIF0gfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY24oXG4gICAgICAgIFwiZmxleCBoLVs0MDBweF0gZmxleC1jb2wgZ2FwLTUgb3ZlcmZsb3ctYXV0b1wiLFxuICAgICAgICBwcm9wcy5jbGFzc05hbWVcbiAgICAgICksXG4gICAgICByZWY6IHNjcm9sbGFibGVDaGF0Q29udGFpbmVyUmVmLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBDaGF0TWVzc2FnZXNMb2FkaW5nKHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBpc1BlbmRpbmcgfSA9IHVzZUNoYXRNZXNzYWdlcygpO1xuICBpZiAoIWlzUGVuZGluZykgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGNoaWxkcmVuID0gKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IC8qIEBfX1BVUkVfXyAqLyBqc3g3KExvYWRlcjIsIHsgY2xhc3NOYW1lOiBcImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY24oXCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwdC00XCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgICBjaGlsZHJlblxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIENoYXRBY3Rpb25zKHByb3BzKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyByZWxvYWQsIHN0b3AgfSA9IHVzZUNoYXRVSSgpO1xuICBjb25zdCB7IHNob3dSZWxvYWQsIHNob3dTdG9wIH0gPSB1c2VDaGF0TWVzc2FnZXMoKTtcbiAgaWYgKCFzaG93U3RvcCAmJiAhc2hvd1JlbG9hZCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGNoaWxkcmVuID0gKF9hID0gcHJvcHMuY2hpbGRyZW4pICE9IG51bGwgPyBfYSA6IC8qIEBfX1BVUkVfXyAqLyBqc3hzMyhGcmFnbWVudDQsIHsgY2hpbGRyZW46IFtcbiAgICBzaG93U3RvcCAmJiAvKiBAX19QVVJFX18gKi8ganN4czMoQnV0dG9uLCB7IHZhcmlhbnQ6IFwib3V0bGluZVwiLCBzaXplOiBcInNtXCIsIG9uQ2xpY2s6IHN0b3AsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NyhQYXVzZUNpcmNsZSwgeyBjbGFzc05hbWU6IFwibXItMiBoLTQgdy00XCIgfSksXG4gICAgICBcIlN0b3AgZ2VuZXJhdGluZ1wiXG4gICAgXSB9KSxcbiAgICBzaG93UmVsb2FkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzMyhCdXR0b24sIHsgdmFyaWFudDogXCJvdXRsaW5lXCIsIHNpemU6IFwic21cIiwgb25DbGljazogcmVsb2FkLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDcoUmVmcmVzaEN3LCB7IGNsYXNzTmFtZTogXCJtci0yIGgtNCB3LTRcIiB9KSxcbiAgICAgIFwiUmVnZW5lcmF0ZVwiXG4gICAgXSB9KVxuICBdIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDcoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNuKFwiZmxleCBqdXN0aWZ5LWVuZCBnYXAtNFwiLCBwcm9wcy5jbGFzc05hbWUpLCBjaGlsZHJlbiB9KTtcbn1cbkNoYXRNZXNzYWdlcy5MaXN0ID0gQ2hhdE1lc3NhZ2VzTGlzdDtcbkNoYXRNZXNzYWdlcy5Mb2FkaW5nID0gQ2hhdE1lc3NhZ2VzTG9hZGluZztcbkNoYXRNZXNzYWdlcy5BY3Rpb25zID0gQ2hhdEFjdGlvbnM7XG52YXIgY2hhdF9tZXNzYWdlc19kZWZhdWx0ID0gQ2hhdE1lc3NhZ2VzO1xuXG4vLyBzcmMvY2hhdC9jaGF0LXNlY3Rpb24udHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDUsIGpzeCBhcyBqc3g4LCBqc3hzIGFzIGpzeHM0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBDaGF0U2VjdGlvbihwcm9wcykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgaGFuZGxlciwgY2xhc3NOYW1lIH0gPSBwcm9wcztcbiAgY29uc3QgW3JlcXVlc3REYXRhLCBzZXRSZXF1ZXN0RGF0YV0gPSB1c2VTdGF0ZTIoKTtcbiAgY29uc3QgY2hpbGRyZW4gPSAoX2EgPSBwcm9wcy5jaGlsZHJlbikgIT0gbnVsbCA/IF9hIDogLyogQF9fUFVSRV9fICovIGpzeHM0KEZyYWdtZW50NSwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KGNoYXRfbWVzc2FnZXNfZGVmYXVsdCwge30pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g4KGNoYXRfaW5wdXRfZGVmYXVsdCwge30pXG4gIF0gfSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4OChDaGF0UHJvdmlkZXIsIHsgdmFsdWU6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGhhbmRsZXIpLCB7IHJlcXVlc3REYXRhLCBzZXRSZXF1ZXN0RGF0YSB9KSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbihcImZsZXggZmxleC1jb2wgZ2FwLTRcIiwgY2xhc3NOYW1lKSwgY2hpbGRyZW4gfSkgfSk7XG59XG5cbi8vIHNyYy9ob29rL3VzZS1maWxlLnRzeFxuaW1wb3J0IHsgdXNlU3RhdGUgYXMgdXNlU3RhdGUzIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgZG9jTWluZVR5cGVNYXAgPSB7XG4gIFwidGV4dC9jc3ZcIjogXCJjc3ZcIixcbiAgXCJhcHBsaWNhdGlvbi9wZGZcIjogXCJwZGZcIixcbiAgXCJ0ZXh0L3BsYWluXCI6IFwidHh0XCIsXG4gIFwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnRcIjogXCJkb2N4XCJcbn07XG5mdW5jdGlvbiB1c2VGaWxlKHsgdXBsb2FkQVBJIH0pIHtcbiAgY29uc3QgW2ltYWdlVXJsLCBzZXRJbWFnZVVybF0gPSB1c2VTdGF0ZTMobnVsbCk7XG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGUzKFtdKTtcbiAgY29uc3QgYWRkRG9jID0gKGZpbGUpID0+IHtcbiAgICBjb25zdCBleGlzdGVkRmlsZSA9IGZpbGVzLmZpbmQoKGYpID0+IGYuaWQgPT09IGZpbGUuaWQpO1xuICAgIGlmICghZXhpc3RlZEZpbGUpIHtcbiAgICAgIHNldEZpbGVzKChwcmV2KSA9PiBbLi4ucHJldiwgZmlsZV0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlRG9jID0gKGZpbGUpID0+IHtcbiAgICBzZXRGaWxlcygocHJldikgPT4gcHJldi5maWx0ZXIoKGYpID0+IGYuaWQgIT09IGZpbGUuaWQpKTtcbiAgfTtcbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgaW1hZ2VVcmwgJiYgc2V0SW1hZ2VVcmwobnVsbCk7XG4gICAgZmlsZXMubGVuZ3RoICYmIHNldEZpbGVzKFtdKTtcbiAgfTtcbiAgY29uc3QgdXBsb2FkQ29udGVudCA9IChfMCwgLi4uXzEpID0+IF9fYXN5bmModGhpcywgW18wLCAuLi5fMV0sIGZ1bmN0aW9uKiAoZmlsZSwgcmVxdWVzdFBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgYmFzZTY0ID0geWllbGQgcmVhZENvbnRlbnQoeyBmaWxlLCBhc1VybDogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKHVwbG9hZEFQSSwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCByZXF1ZXN0UGFyYW1zKSwge1xuICAgICAgICBiYXNlNjQsXG4gICAgICAgIG5hbWU6IGZpbGUubmFtZVxuICAgICAgfSkpXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHVwbG9hZCBkb2N1bWVudC5cIik7XG4gICAgcmV0dXJuIHlpZWxkIHJlc3BvbnNlLmpzb24oKTtcbiAgfSk7XG4gIGNvbnN0IGdldEFubm90YXRpb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IGFubm90YXRpb25zID0gW107XG4gICAgaWYgKGltYWdlVXJsKSB7XG4gICAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJpbWFnZVwiLFxuICAgICAgICBkYXRhOiB7IHVybDogaW1hZ2VVcmwgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJkb2N1bWVudF9maWxlXCIsXG4gICAgICAgIGRhdGE6IHsgZmlsZXMgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhbm5vdGF0aW9ucztcbiAgfTtcbiAgY29uc3QgcmVhZENvbnRlbnQgPSAoaW5wdXQpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB7IGZpbGUsIGFzVXJsIH0gPSBpbnB1dDtcbiAgICBjb25zdCBjb250ZW50ID0geWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIGlmIChhc1VybCkge1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpO1xuICAgICAgfVxuICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gcmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfSk7XG4gIGNvbnN0IHVwbG9hZEZpbGUgPSAoXzAsIC4uLl8xKSA9PiBfX2FzeW5jKHRoaXMsIFtfMCwgLi4uXzFdLCBmdW5jdGlvbiogKGZpbGUsIHJlcXVlc3RQYXJhbXMgPSB7fSkge1xuICAgIGlmIChmaWxlLnR5cGUuc3RhcnRzV2l0aChcImltYWdlL1wiKSkge1xuICAgICAgY29uc3QgYmFzZTY0ID0geWllbGQgcmVhZENvbnRlbnQoeyBmaWxlLCBhc1VybDogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiBzZXRJbWFnZVVybChiYXNlNjQpO1xuICAgIH1cbiAgICBjb25zdCBmaWxldHlwZSA9IGRvY01pbmVUeXBlTWFwW2ZpbGUudHlwZV07XG4gICAgaWYgKCFmaWxldHlwZSkgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZG9jdW1lbnQgdHlwZS5cIik7XG4gICAgY29uc3QgbmV3RG9jID0geWllbGQgdXBsb2FkQ29udGVudChmaWxlLCByZXF1ZXN0UGFyYW1zKTtcbiAgICByZXR1cm4gYWRkRG9jKG5ld0RvYyk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGltYWdlVXJsLFxuICAgIHNldEltYWdlVXJsLFxuICAgIGZpbGVzLFxuICAgIHJlbW92ZURvYyxcbiAgICByZXNldCxcbiAgICBnZXRBbm5vdGF0aW9ucyxcbiAgICB1cGxvYWRGaWxlXG4gIH07XG59XG5leHBvcnQge1xuICBjaGF0X2lucHV0X2RlZmF1bHQgYXMgQ2hhdElucHV0LFxuICBjaGF0X21lc3NhZ2VfZGVmYXVsdCBhcyBDaGF0TWVzc2FnZSxcbiAgY2hhdF9tZXNzYWdlc19kZWZhdWx0IGFzIENoYXRNZXNzYWdlcyxcbiAgQ2hhdFNlY3Rpb24sXG4gIENvbnRlbnRQb3NpdGlvbixcbiAgRE9DVU1FTlRfRklMRV9UWVBFUyxcbiAgTWVzc2FnZUFubm90YXRpb25UeXBlLFxuICBnZXRBbm5vdGF0aW9uRGF0YSxcbiAgZ2V0U291cmNlQW5ub3RhdGlvbkRhdGEsXG4gIHVzZUNoYXRJbnB1dCxcbiAgdXNlQ2hhdE1lc3NhZ2UsXG4gIHVzZUNoYXRNZXNzYWdlcyxcbiAgdXNlQ2hhdFVJLFxuICB1c2VGaWxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/chat/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/widgets/index.js":
/*!************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/widgets/index.js ***!
  \************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatAgentEvents: () => (/* binding */ ChatAgentEvents),\n/* harmony export */   ChatEvents: () => (/* binding */ ChatEvents),\n/* harmony export */   ChatFiles: () => (/* binding */ ChatFiles),\n/* harmony export */   ChatImage: () => (/* binding */ ChatImage),\n/* harmony export */   ChatSources: () => (/* binding */ ChatSources),\n/* harmony export */   CodeBlock: () => (/* binding */ CodeBlock),\n/* harmony export */   DocumentInfo: () => (/* binding */ DocumentInfo),\n/* harmony export */   FileUploader: () => (/* binding */ FileUploader),\n/* harmony export */   ImagePreview: () => (/* binding */ ImagePreview),\n/* harmony export */   Markdown: () => (/* binding */ Markdown),\n/* harmony export */   PdfDialog: () => (/* binding */ PdfDialog),\n/* harmony export */   StarterQuestions: () => (/* binding */ StarterQuestions),\n/* harmony export */   SuggestedQuestions: () => (/* binding */ SuggestedQuestions)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=icons!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=icons!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/scan-search.js\");\n/* harmony import */ var _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=icons!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/pen-line.js\");\n/* harmony import */ var _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=icons!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=icons!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/book-check.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.0.3_@opentelemetry+api@1.9.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66_ml7g6eyuhjpume243rmimlrmf4/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-slot@1.1.0_@types+react@18.3.12_react@19.0.0-rc-66855b96-20241106/node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/.pnpm/tailwind-merge@2.5.5/node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/.pnpm/next@15.0.3_@opentelemetry+api@1.9.0_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66_ml7g6eyuhjpume243rmimlrmf4/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var vaul__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vaul */ \"(ssr)/./node_modules/.pnpm/vaul@0.9.9_@types+react-dom@18.3.1_@types+react@18.3.12_react-dom@19.0.0-rc-66855b96-20241106_oe76gv4ngbfx7c2ggfapkkii7e/node_modules/vaul/dist/index.mjs\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/.pnpm/react-markdown@8.0.7_@types+react@18.3.12_react@19.0.0-rc-66855b96-20241106_supports-color@8.1.1/node_modules/react-markdown/lib/react-markdown.js\");\n/* harmony import */ var rehype_katex__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rehype-katex */ \"(ssr)/./node_modules/.pnpm/rehype-katex@7.0.1/node_modules/rehype-katex/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/.pnpm/remark-gfm@3.0.1_supports-color@8.1.1/node_modules/remark-gfm/index.js\");\n/* harmony import */ var remark_math__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! remark-math */ \"(ssr)/./node_modules/.pnpm/remark-math@5.1.1/node_modules/remark-math/index.js\");\n/* harmony import */ var highlight_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! highlight.js */ \"(ssr)/./node_modules/.pnpm/highlight.js@11.10.0/node_modules/highlight.js/es/index.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,Download!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,FileIcon,XCircleIcon!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,FileIcon,XCircleIcon!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _radix_ui_react_hover_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @radix-ui/react-hover-card */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-hover-card@1.1.2_@types+react-dom@18.3.1_@types+react@18.3.12_react-dom@19.0._uklykyuktqh2dhzb4qkaozwmvi/node_modules/@radix-ui/react-hover-card/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_FileIcon_XCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Copy,FileIcon,XCircleIcon!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/file.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Copy_FileIcon_XCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=XCircleIcon!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @radix-ui/react-progress */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-progress@1.1.0_@types+react-dom@18.3.1_@types+react@18.3.12_react-dom@19.0.0-_sv4op5xvooi5v7ijzrcgc2ckhe/node_modules/@radix-ui/react-progress/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronRight,Loader2!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,ChevronRight,Loader2!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @radix-ui/react-collapsible */ \"(ssr)/./node_modules/.pnpm/@radix-ui+react-collapsible@1.1.1_@types+react-dom@18.3.1_@types+react@18.3.12_react-dom@19.0_5ho77oayg5xwthovzuu7pe6voe/node_modules/@radix-ui/react-collapsible/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Loader2_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/.pnpm/lucide-react@0.460.0_react@19.0.0-rc-66855b96-20241106/node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* __next_internal_client_entry_do_not_use__ ChatAgentEvents,ChatEvents,ChatFiles,ChatImage,ChatSources,CodeBlock,DocumentInfo,FileUploader,ImagePreview,Markdown,PdfDialog,StarterQuestions,SuggestedQuestions auto */ var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __spreadValues = (a, b)=>{\n    for(var prop in b || (b = {}))if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)){\n        if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n    }\n    return a;\n};\nvar __spreadProps = (a, b)=>__defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude)=>{\n    var target = {};\n    for(var prop in source)if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0) target[prop] = source[prop];\n    if (source != null && __getOwnPropSymbols) for (var prop of __getOwnPropSymbols(source)){\n        if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop)) target[prop] = source[prop];\n    }\n    return target;\n};\nvar __async = (__this, __arguments, generator)=>{\n    return new Promise((resolve, reject)=>{\n        var fulfilled = (value)=>{\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var rejected = (value)=>{\n            try {\n                step(generator.throw(value));\n            } catch (e) {\n                reject(e);\n            }\n        };\n        var step = (x)=>x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n        step((generator = generator.apply(__this, __arguments)).next());\n    });\n};\n// src/widgets/chat-agent-events.tsx\n\n\n// src/ui/button.tsx\n\n\n\n// src/lib/utils.ts\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_3__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_2__.clsx)(inputs));\n}\n// src/ui/button.tsx\n\nvar buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_1__.cva)(\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n            outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-10 px-4 py-2\",\n            sm: \"h-9 rounded-md px-3\",\n            lg: \"h-11 rounded-md px-8\",\n            icon: \"h-10 w-10\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nvar Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((_a, ref)=>{\n    var _b = _a, { className, variant, size, asChild = false } = _b, props = __objRest(_b, [\n        \"className\",\n        \"variant\",\n        \"size\",\n        \"asChild\"\n    ]);\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__.Slot : \"button\";\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Comp, __spreadValues({\n        className: cn(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref\n    }, props));\n});\nButton.displayName = \"Button\";\n// src/ui/drawer.tsx\n\n\n\nvar Drawer = (_a)=>{\n    var _b = _a, { shouldScaleBackground = true } = _b, props = __objRest(_b, [\n        \"shouldScaleBackground\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Root, __spreadValues({\n        shouldScaleBackground\n    }, props));\n};\nDrawer.displayName = \"Drawer\";\nvar DrawerTrigger = vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Trigger;\nvar DrawerPortal = vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Portal;\nvar DrawerClose = vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Close;\nvar DrawerOverlay = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((_a, ref)=>{\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Overlay, __spreadValues({\n        ref,\n        className: cn(\"fixed inset-0 z-50 bg-black/80\", className)\n    }, props));\n});\nDrawerOverlay.displayName = vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Overlay.displayName;\nvar DrawerContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((_a, ref)=>{\n    var _b = _a, { className, children } = _b, props = __objRest(_b, [\n        \"className\",\n        \"children\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DrawerPortal, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerOverlay, {}),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Content, __spreadProps(__spreadValues({\n                ref,\n                className: cn(\"bg-background fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border\", className)\n            }, props), {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        className: \"bg-muted mx-auto mt-4 h-2 w-[100px] rounded-full\"\n                    }),\n                    children\n                ]\n            }))\n        ]\n    });\n});\nDrawerContent.displayName = \"DrawerContent\";\nvar DrawerHeader = (_a)=>{\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", __spreadValues({\n        className: cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)\n    }, props));\n};\nDrawerHeader.displayName = \"DrawerHeader\";\nvar DrawerFooter = (_a)=>{\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", __spreadValues({\n        className: cn(\"mt-auto flex flex-col gap-2 p-4\", className)\n    }, props));\n};\nDrawerFooter.displayName = \"DrawerFooter\";\nvar DrawerTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((_a, ref)=>{\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Title, __spreadValues({\n        ref,\n        className: cn(\"text-lg font-semibold leading-none tracking-tight\", className)\n    }, props));\n});\nDrawerTitle.displayName = vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Title.displayName;\nvar DrawerDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((_a, ref)=>{\n    var _b = _a, { className } = _b, props = __objRest(_b, [\n        \"className\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Description, __spreadValues({\n        ref,\n        className: cn(\"text-muted-foreground text-sm\", className)\n    }, props));\n});\nDrawerDescription.displayName = vaul__WEBPACK_IMPORTED_MODULE_6__.Drawer.Description.displayName;\n// src/widgets/markdown.tsx\n\n\n\n\n\n// src/widgets/codeblock.tsx\n\n\n\n// src/hook/use-copy-to-clipboard.tsx\n\nfunction useCopyToClipboard({ timeout = 2e3 }) {\n    const [isCopied, setIsCopied] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const copyToClipboard = (value)=>{\n        var _a;\n        if (true) {\n            return;\n        }\n        if (!value) {\n            return;\n        }\n        navigator.clipboard.writeText(value).then(()=>{\n            setIsCopied(true);\n            setTimeout(()=>{\n                setIsCopied(false);\n            }, timeout);\n        });\n    };\n    return {\n        isCopied,\n        copyToClipboard\n    };\n}\n// src/widgets/codeblock.tsx\n\nvar programmingLanguages = {\n    javascript: \".js\",\n    python: \".py\",\n    java: \".java\",\n    c: \".c\",\n    cpp: \".cpp\",\n    \"c++\": \".cpp\",\n    \"c#\": \".cs\",\n    ruby: \".rb\",\n    php: \".php\",\n    swift: \".swift\",\n    \"objective-c\": \".m\",\n    kotlin: \".kt\",\n    typescript: \".ts\",\n    go: \".go\",\n    perl: \".pl\",\n    rust: \".rs\",\n    scala: \".scala\",\n    haskell: \".hs\",\n    lua: \".lua\",\n    shell: \".sh\",\n    sql: \".sql\",\n    html: \".html\",\n    css: \".css\"\n};\nvar generateRandomString = (length, lowercase = false)=>{\n    const chars = \"ABCDEFGHJKLMNPQRSTUVWXY3456789\";\n    let result = \"\";\n    for(let i = 0; i < length; i++){\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return lowercase ? result.toLowerCase() : result;\n};\nvar CodeBlock = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ language, value, className })=>{\n    const { isCopied, copyToClipboard } = useCopyToClipboard({\n        timeout: 2e3\n    });\n    const codeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"CodeBlock.useEffect\": ()=>{\n            if (codeRef.current && codeRef.current.dataset.highlighted !== \"yes\") {\n                highlight_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].highlightElement(codeRef.current);\n            }\n        }\n    }[\"CodeBlock.useEffect\"], [\n        language,\n        value\n    ]);\n    const downloadAsFile = ()=>{\n        if (true) {\n            return;\n        }\n        const fileExtension = programmingLanguages[language] || \".file\";\n        const suggestedFileName = `file-${generateRandomString(3, true)}${fileExtension}`;\n        const fileName = window.prompt(\"Enter file name\", suggestedFileName);\n        if (!fileName) {\n            return;\n        }\n        const blob = new Blob([\n            value\n        ], {\n            type: \"text/plain\"\n        });\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.download = fileName;\n        link.href = url;\n        link.style.display = \"none\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n    };\n    const onCopy = ()=>{\n        if (isCopied) return;\n        copyToClipboard(value);\n    };\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: `codeblock relative w-full bg-zinc-950 font-sans ${className}`,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                className: \"flex w-full items-center justify-between bg-zinc-800 px-6 py-2 pr-4 text-zinc-100\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                        className: \"text-xs lowercase\",\n                        children: language\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                        className: \"flex items-center space-x-1\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Button, {\n                                variant: \"ghost\",\n                                onClick: downloadAsFile,\n                                size: \"icon\",\n                                children: [\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {}),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Download\"\n                                    })\n                                ]\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                onClick: onCopy,\n                                children: [\n                                    isCopied ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"h-4 w-4\"\n                                    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                        className: \"h-4 w-4\"\n                                    }),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                                        className: \"sr-only\",\n                                        children: \"Copy code\"\n                                    })\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"pre\", {\n                className: \"border border-zinc-700 text-white\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"code\", {\n                    ref: codeRef,\n                    className: `language-${language} font-mono`,\n                    children: value\n                })\n            })\n        ]\n    });\n});\nCodeBlock.displayName = \"CodeBlock\";\n// src/chat/annotation.ts\nvar DOCUMENT_FILE_TYPES = [\n    \"csv\",\n    \"pdf\",\n    \"txt\",\n    \"docx\"\n];\n// src/widgets/document-info.tsx\n\n\n// src/widgets/pdf-dialog.tsx\n\n\nvar PDFViewer = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/pdfjs-dist@4.4.168_encoding@0.1.13_supports-color@8.1.1\"), __webpack_require__.e(\"vendor-chunks/react-window@1.8.9_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96-20241106__r_phyojsx7krd2drlsnwhvoepa4i\"), __webpack_require__.e(\"vendor-chunks/react-pdf@9.1.1_@types+react@18.3.12_encoding@0.1.13_react-dom@19.0.0-rc-66855b96-20241106_re_opw7dwstcahfg6cewivxc3fuo4\"), __webpack_require__.e(\"vendor-chunks/fuse.js@6.6.2\"), __webpack_require__.e(\"vendor-chunks/@llamaindex+pdf-viewer@1.2.0_@types+react@18.3.12_encoding@0.1.13_react-dom@19.0.0-rc-66855b9_vfnkaiuylj37mytqdqvt3xakfy\"), __webpack_require__.e(\"vendor-chunks/lodash.debounce@4.0.8\"), __webpack_require__.e(\"vendor-chunks/react-intersection-observer@9.5.1_react@19.0.0-rc-66855b96-20241106\"), __webpack_require__.e(\"vendor-chunks/make-event-props@1.6.2\"), __webpack_require__.e(\"vendor-chunks/warning@4.0.3\"), __webpack_require__.e(\"vendor-chunks/@wojtekmaj+react-hooks@1.17.2_react@19.0.0-rc-66855b96-20241106\"), __webpack_require__.e(\"vendor-chunks/memoize-one@5.2.1\"), __webpack_require__.e(\"vendor-chunks/@babel+runtime@7.26.0\"), __webpack_require__.e(\"vendor-chunks/merge-refs@1.3.0_@types+react@18.3.12\"), __webpack_require__.e(\"vendor-chunks/make-cancellable-promise@1.3.2\"), __webpack_require__.e(\"vendor-chunks/tiny-invariant@1.3.3\")]).then(__webpack_require__.bind(__webpack_require__, /*! @llamaindex/pdf-viewer */ \"(ssr)/./node_modules/.pnpm/@llamaindex+pdf-viewer@1.2.0_@types+react@18.3.12_encoding@0.1.13_react-dom@19.0.0-rc-66855b9_vfnkaiuylj37mytqdqvt3xakfy/node_modules/@llamaindex/pdf-viewer/dist/esm/index.js\")).then((m)=>({\n            default: m.PDFViewer\n        })));\nvar PdfFocusProvider = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.lazy)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/pdfjs-dist@4.4.168_encoding@0.1.13_supports-color@8.1.1\"), __webpack_require__.e(\"vendor-chunks/react-window@1.8.9_react-dom@19.0.0-rc-66855b96-20241106_react@19.0.0-rc-66855b96-20241106__r_phyojsx7krd2drlsnwhvoepa4i\"), __webpack_require__.e(\"vendor-chunks/react-pdf@9.1.1_@types+react@18.3.12_encoding@0.1.13_react-dom@19.0.0-rc-66855b96-20241106_re_opw7dwstcahfg6cewivxc3fuo4\"), __webpack_require__.e(\"vendor-chunks/fuse.js@6.6.2\"), __webpack_require__.e(\"vendor-chunks/@llamaindex+pdf-viewer@1.2.0_@types+react@18.3.12_encoding@0.1.13_react-dom@19.0.0-rc-66855b9_vfnkaiuylj37mytqdqvt3xakfy\"), __webpack_require__.e(\"vendor-chunks/lodash.debounce@4.0.8\"), __webpack_require__.e(\"vendor-chunks/react-intersection-observer@9.5.1_react@19.0.0-rc-66855b96-20241106\"), __webpack_require__.e(\"vendor-chunks/make-event-props@1.6.2\"), __webpack_require__.e(\"vendor-chunks/warning@4.0.3\"), __webpack_require__.e(\"vendor-chunks/@wojtekmaj+react-hooks@1.17.2_react@19.0.0-rc-66855b96-20241106\"), __webpack_require__.e(\"vendor-chunks/memoize-one@5.2.1\"), __webpack_require__.e(\"vendor-chunks/@babel+runtime@7.26.0\"), __webpack_require__.e(\"vendor-chunks/merge-refs@1.3.0_@types+react@18.3.12\"), __webpack_require__.e(\"vendor-chunks/make-cancellable-promise@1.3.2\"), __webpack_require__.e(\"vendor-chunks/tiny-invariant@1.3.3\")]).then(__webpack_require__.bind(__webpack_require__, /*! @llamaindex/pdf-viewer */ \"(ssr)/./node_modules/.pnpm/@llamaindex+pdf-viewer@1.2.0_@types+react@18.3.12_encoding@0.1.13_react-dom@19.0.0-rc-66855b9_vfnkaiuylj37mytqdqvt3xakfy/node_modules/@llamaindex/pdf-viewer/dist/esm/index.js\")).then((m)=>({\n            default: m.PdfFocusProvider\n        })));\nfunction PdfDialog(props) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Drawer, {\n        direction: \"left\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerTrigger, {\n                asChild: true,\n                children: props.trigger\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DrawerContent, {\n                className: \"mt-24 h-full max-h-[96%] w-3/5 \",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DrawerHeader, {\n                        className: \"flex justify-between\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                                className: \"space-y-2\",\n                                children: [\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerTitle, {\n                                        children: \"PDF Content\"\n                                    }),\n                                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DrawerDescription, {\n                                        children: [\n                                            \"File URL:\",\n                                            \" \",\n                                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n                                                className: \"hover:text-blue-900\",\n                                                href: props.url,\n                                                target: \"_blank\",\n                                                rel: \"noopener\",\n                                                children: props.url\n                                            })\n                                        ]\n                                    })\n                                ]\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerClose, {\n                                asChild: true,\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Button, {\n                                    variant: \"outline\",\n                                    children: \"Close\"\n                                })\n                            })\n                        ]\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        className: \"m-4\",\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PdfFocusProvider, {\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PDFViewer, {\n                                file: {\n                                    id: props.documentId,\n                                    url: props.url\n                                }\n                            })\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\n// src/widgets/source-number-button.tsx\n\nfunction SourceNumberButton({ index, className }) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n        className: cn(\"inline-flex h-5 w-5 items-center justify-center rounded-full bg-gray-100 text-xs\", className),\n        children: index + 1\n    });\n}\n// src/ui/icons/docx.tsx\n\nvar DocxIcon = ({ width = 40, height = 40, className })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"svg\", {\n        width,\n        height,\n        viewBox: \"-4 0 64 64\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                fillRule: \"evenodd\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        d: \"m5.11 0a5.07 5.07 0 0 0 -5.11 5v53.88a5.07 5.07 0 0 0 5.11 5.12h45.78a5.07 5.07 0 0 0 5.11-5.12v-38.6l-18.94-20.28z\",\n                        fill: \"#107cad\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        d: \"m56 20.35v1h-12.82s-6.31-1.26-6.13-6.71c0 0 .21 5.71 6 5.71z\",\n                        fill: \"#084968\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        d: \"m37.07 0v14.56a5.78 5.78 0 0 0 6.11 5.79h12.82z\",\n                        fill: \"#90d0fe\",\n                        opacity: \".5\"\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                d: \"m14.24 53.86h-3a1.08 1.08 0 0 1 -1.08-1.08v-9.85a1.08 1.08 0 0 1 1.08-1.08h3a6 6 0 1 1 0 12zm0-10.67h-2.61v9.34h2.61a4.41 4.41 0 0 0 4.61-4.66 4.38 4.38 0 0 0 -4.61-4.68zm14.42 10.89a5.86 5.86 0 0 1 -6-6.21 6 6 0 1 1 11.92 0 5.87 5.87 0 0 1 -5.92 6.21zm0-11.09c-2.7 0-4.41 2.07-4.41 4.88s1.71 4.88 4.41 4.88 4.41-2.09 4.41-4.88-1.72-4.87-4.41-4.87zm18.45.38a.75.75 0 0 1 .2.52.71.71 0 0 1 -.7.72.64.64 0 0 1 -.51-.24 4.06 4.06 0 0 0 -3-1.38 4.61 4.61 0 0 0 -4.63 4.88 4.63 4.63 0 0 0 4.63 4.88 4 4 0 0 0 3-1.37.7.7 0 0 1 .51-.24.72.72 0 0 1 .7.74.78.78 0 0 1 -.2.51 5.33 5.33 0 0 1 -4 1.69 6.22 6.22 0 0 1 0-12.43 5.26 5.26 0 0 1 4 1.72z\",\n                fill: \"#ffffff\"\n            })\n        ]\n    });\n};\n// src/ui/icons/pdf.tsx\n\nvar PDFIcon = ({ className, width = 40, height = 40 })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"svg\", {\n        width,\n        height,\n        version: \"1.1\",\n        id: \"Layer_1\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n        viewBox: \"0 0 309.267 309.267\",\n        className,\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                    style: {\n                        fill: \"#E2574C\"\n                    },\n                    d: \"M38.658,0h164.23l87.049,86.711v203.227c0,10.679-8.659,19.329-19.329,19.329H38.658\\n            c-10.67,0-19.329-8.65-19.329-19.329V19.329C19.329,8.65,27.989,0,38.658,0z\"\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                    style: {\n                        fill: \"#B53629\"\n                    },\n                    d: \"M289.658,86.981h-67.372c-10.67,0-19.329-8.659-19.329-19.329V0.193L289.658,86.981z\"\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                    style: {\n                        fill: \"#FFFFFF\"\n                    },\n                    d: \"M217.434,146.544c3.238,0,4.823-2.822,4.823-5.557c0-2.832-1.653-5.567-4.823-5.567h-18.44\\n            c-3.605,0-5.615,2.986-5.615,6.282v45.317c0,4.04,2.3,6.282,5.412,6.282c3.093,0,5.403-2.242,5.403-6.282v-12.438h11.153\\n            c3.46,0,5.19-2.832,5.19-5.644c0-2.754-1.73-5.49-5.19-5.49h-11.153v-16.903C204.194,146.544,217.434,146.544,217.434,146.544z\\n            M155.107,135.42h-13.492c-3.663,0-6.263,2.513-6.263,6.243v45.395c0,4.629,3.74,6.079,6.417,6.079h14.159\\n            c16.758,0,27.824-11.027,27.824-28.047C183.743,147.095,173.325,135.42,155.107,135.42z M155.755,181.946h-8.225v-35.334h7.413\\n            c11.221,0,16.101,7.529,16.101,17.918C171.044,174.253,166.25,181.946,155.755,181.946z M106.33,135.42H92.964\\n            c-3.779,0-5.886,2.493-5.886,6.282v45.317c0,4.04,2.416,6.282,5.663,6.282s5.663-2.242,5.663-6.282v-13.231h8.379\\n            c10.341,0,18.875-7.326,18.875-19.107C125.659,143.152,117.425,135.42,106.33,135.42z M106.108,163.158h-7.703v-17.097h7.703\\n            c4.755,0,7.78,3.711,7.78,8.553C113.878,159.447,110.863,163.158,106.108,163.158z\"\n                })\n            ]\n        })\n    });\n};\n// src/ui/icons/sheet.tsx\n\nvar SheetIcon = ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"svg\", {\n        width: \"49px\",\n        height: \"67px\",\n        viewBox: \"0 0 49 67\",\n        version: \"1.1\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"title\", {\n                children: \"Sheets-icon\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"desc\", {\n                children: \"Created with Sketch.\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"defs\", {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        d: \"M29.5833333,0 L4.4375,0 C1.996875,0 0,1.996875 0,4.4375 L0,60.6458333 C0,63.0864583 1.996875,65.0833333 4.4375,65.0833333 L42.8958333,65.0833333 C45.3364583,65.0833333 47.3333333,63.0864583 47.3333333,60.6458333 L47.3333333,17.75 L29.5833333,0 Z\",\n                        id: \"path-1\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"linearGradient\", {\n                        x1: \"50.0053945%\",\n                        y1: \"8.58610612%\",\n                        x2: \"50.0053945%\",\n                        y2: \"100.013939%\",\n                        id: \"linearGradient-7\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"stop\", {\n                                stopColor: \"#263238\",\n                                stopOpacity: \"0.2\",\n                                offset: \"0%\"\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"stop\", {\n                                stopColor: \"#263238\",\n                                stopOpacity: \"0.02\",\n                                offset: \"100%\"\n                            })\n                        ]\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"radialGradient\", {\n                        cx: \"3.16804688%\",\n                        cy: \"2.71744318%\",\n                        fx: \"3.16804688%\",\n                        fy: \"2.71744318%\",\n                        r: \"161.248516%\",\n                        gradientTransform: \"translate(0.031680,0.027174),scale(1.000000,0.727273),translate(-0.031680,-0.027174)\",\n                        id: \"radialGradient-16\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"stop\", {\n                                stopColor: \"#FFFFFF\",\n                                stopOpacity: \"0.1\",\n                                offset: \"0%\"\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"stop\", {\n                                stopColor: \"#FFFFFF\",\n                                stopOpacity: \"0\",\n                                offset: \"100%\"\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                id: \"Page-1\",\n                stroke: \"none\",\n                strokeWidth: \"1\",\n                fill: \"none\",\n                fillRule: \"evenodd\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                    id: \"Consumer-Apps-Sheets-Large-VD-R8-\",\n                    transform: \"translate(-451.000000, -451.000000)\",\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                        id: \"Hero\",\n                        transform: \"translate(0.000000, 63.000000)\",\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                            id: \"Personal\",\n                            transform: \"translate(277.000000, 299.000000)\",\n                            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                                id: \"Sheets-icon\",\n                                transform: \"translate(174.833333, 89.958333)\",\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                    id: \"Group\",\n                                    children: [\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                            id: \"Clipped\",\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"mask\", {\n                                                    id: \"mask-2\",\n                                                    fill: \"white\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"use\", {\n                                                        xlinkHref: \"#path-1\"\n                                                    })\n                                                }),\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                                                    d: \"M29.5833333,0 L4.4375,0 C1.996875,0 0,1.996875 0,4.4375 L0,60.6458333 C0,63.0864583 1.996875,65.0833333 4.4375,65.0833333 L42.8958333,65.0833333 C45.3364583,65.0833333 47.3333333,63.0864583 47.3333333,60.6458333 L47.3333333,17.75 L36.9791667,10.3541667 L29.5833333,0 Z\",\n                                                    id: \"Path\",\n                                                    fill: \"#0F9D58\",\n                                                    fillRule: \"nonzero\",\n                                                    mask: \"url(#mask-2)\"\n                                                })\n                                            ]\n                                        }),\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                            id: \"Clipped\",\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"mask\", {\n                                                    id: \"mask-4\",\n                                                    fill: \"white\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"use\", {\n                                                        xlinkHref: \"#path-1\"\n                                                    })\n                                                }),\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                                                    d: \"M11.8333333,31.8020833 L11.8333333,53.25 L35.5,53.25 L35.5,31.8020833 L11.8333333,31.8020833 Z M22.1875,50.2916667 L14.7916667,50.2916667 L14.7916667,46.59375 L22.1875,46.59375 L22.1875,50.2916667 Z M22.1875,44.375 L14.7916667,44.375 L14.7916667,40.6770833 L22.1875,40.6770833 L22.1875,44.375 Z M22.1875,38.4583333 L14.7916667,38.4583333 L14.7916667,34.7604167 L22.1875,34.7604167 L22.1875,38.4583333 Z M32.5416667,50.2916667 L25.1458333,50.2916667 L25.1458333,46.59375 L32.5416667,46.59375 L32.5416667,50.2916667 Z M32.5416667,44.375 L25.1458333,44.375 L25.1458333,40.6770833 L32.5416667,40.6770833 L32.5416667,44.375 Z M32.5416667,38.4583333 L25.1458333,38.4583333 L25.1458333,34.7604167 L32.5416667,34.7604167 L32.5416667,38.4583333 Z\",\n                                                    id: \"Shape\",\n                                                    fill: \"#F1F1F1\",\n                                                    fillRule: \"nonzero\",\n                                                    mask: \"url(#mask-4)\"\n                                                })\n                                            ]\n                                        }),\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                            id: \"Clipped\",\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"mask\", {\n                                                    id: \"mask-6\",\n                                                    fill: \"white\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"use\", {\n                                                        xlinkHref: \"#path-1\"\n                                                    })\n                                                }),\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"polygon\", {\n                                                    id: \"Path\",\n                                                    fill: \"url(#linearGradient-7)\",\n                                                    fillRule: \"nonzero\",\n                                                    mask: \"url(#mask-6)\",\n                                                    points: \"30.8813021 16.4520313 47.3333333 32.9003646 47.3333333 17.75\"\n                                                })\n                                            ]\n                                        }),\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                            id: \"Clipped\",\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"mask\", {\n                                                    id: \"mask-9\",\n                                                    fill: \"white\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"use\", {\n                                                        xlinkHref: \"#path-1\"\n                                                    })\n                                                }),\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                                                    id: \"Group\",\n                                                    mask: \"url(#mask-9)\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"g\", {\n                                                        transform: \"translate(26.625000, -2.958333)\",\n                                                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                                                            d: \"M2.95833333,2.95833333 L2.95833333,16.2708333 C2.95833333,18.7225521 4.94411458,20.7083333 7.39583333,20.7083333 L20.7083333,20.7083333 L2.95833333,2.95833333 Z\",\n                                                            id: \"Path\",\n                                                            fill: \"#87CEAC\",\n                                                            fillRule: \"nonzero\"\n                                                        })\n                                                    })\n                                                })\n                                            ]\n                                        }),\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                            id: \"Clipped\",\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"mask\", {\n                                                    id: \"mask-11\",\n                                                    fill: \"white\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"use\", {\n                                                        xlinkHref: \"#path-1\"\n                                                    })\n                                                }),\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                                                    d: \"M4.4375,0 C1.996875,0 0,1.996875 0,4.4375 L0,4.80729167 C0,2.36666667 1.996875,0.369791667 4.4375,0.369791667 L29.5833333,0.369791667 L29.5833333,0 L4.4375,0 Z\",\n                                                    id: \"Path\",\n                                                    fillOpacity: \"0.2\",\n                                                    fill: \"#FFFFFF\",\n                                                    fillRule: \"nonzero\",\n                                                    mask: \"url(#mask-11)\"\n                                                })\n                                            ]\n                                        }),\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                                            id: \"Clipped\",\n                                            children: [\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"mask\", {\n                                                    id: \"mask-13\",\n                                                    fill: \"white\",\n                                                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"use\", {\n                                                        xlinkHref: \"#path-1\"\n                                                    })\n                                                }),\n                                                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                                                    d: \"M42.8958333,64.7135417 L4.4375,64.7135417 C1.996875,64.7135417 0,62.7166667 0,60.2760417 L0,60.6458333 C0,63.0864583 1.996875,65.0833333 4.4375,65.0833333 L42.8958333,65.0833333 C45.3364583,65.0833333 47.3333333,63.0864583 47.3333333,60.6458333 L47.3333333,25.1666667 L42.8958333,21.0208333 L42.8958333,64.7135417 Z\",\n                                                    id: \"Path\",\n                                                    fill: \"url(#radialGradient-16)\",\n                                                    fillRule: \"nonzero\",\n                                                    mask: \"url(#mask-13)\"\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                })\n                            })\n                        })\n                    })\n                })\n            })\n        ]\n    });\n// src/ui/icons/txt.tsx\n\nvar TxtIcon = ({ className, width = 40, height = 40 })=>{\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"svg\", {\n        width,\n        height,\n        version: \"1.1\",\n        id: \"Layer_1\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n        viewBox: \"0 0 512 512\",\n        className,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                style: {\n                    fill: \"#E2E5E7\"\n                },\n                d: \"M128,0c-17.6,0-32,14.4-32,32v448c0,17.6,14.4,32,32,32h320c17.6,0,32-14.4,32-32V128L352,0H128z\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                style: {\n                    fill: \"#B0B7BD\"\n                },\n                d: \"M384,128h96L352,0v96C352,113.6,366.4,128,384,128z\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"polygon\", {\n                style: {\n                    fill: \"#CAD1D8\"\n                },\n                points: \"480,224 384,128 480,128 \"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                style: {\n                    fill: \"#576D7E\"\n                },\n                d: \"M416,416c0,8.8-7.2,16-16,16H48c-8.8,0-16-7.2-16-16V256c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16V416z\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"g\", {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        style: {\n                            fill: \"#FFFFFF\"\n                        },\n                        d: \"M132.784,311.472H110.4c-11.136,0-11.136-16.368,0-16.368h60.512c11.392,0,11.392,16.368,0,16.368h-21.248v64.592c0,11.12-16.896,11.392-16.896,0v-64.592H132.784z\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        style: {\n                            fill: \"#FFFFFF\"\n                        },\n                        d: \"M224.416,326.176l22.272-27.888c6.656-8.688,19.568,2.432,12.288,10.752c-7.68,9.088-15.728,18.944-23.424,29.024l26.112,32.496c7.024,9.6-7.04,18.816-13.952,9.344l-23.536-30.192l-23.152,30.832c-6.528,9.328-20.992-1.152-13.68-9.856l25.696-32.624c-8.048-10.096-15.856-19.936-23.664-29.024c-8.064-9.6,6.912-19.44,12.784-10.48L224.416,326.176z\"\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                        style: {\n                            fill: \"#FFFFFF\"\n                        },\n                        d: \"M298.288,311.472H275.92c-11.136,0-11.136-16.368,0-16.368h60.496c11.392,0,11.392,16.368,0,16.368h-21.232v64.592c0,11.12-16.896,11.392-16.896,0V311.472z\"\n                    })\n                ]\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"path\", {\n                style: {\n                    fill: \"#CAD1D8\"\n                },\n                d: \"M400,432H96v16h304c8.8,0,16-7.2,16-16v-16C416,424.8,408.8,432,400,432z\"\n            })\n        ]\n    });\n};\n// src/widgets/document-info.tsx\n\nfunction DocumentInfo({ document: document2, className, onRemove }) {\n    const { url, sources } = document2;\n    const urlParts = url.split(\"/\");\n    const fileName = urlParts.length > 0 ? urlParts[urlParts.length - 1] : url;\n    const fileExt = fileName == null ? void 0 : fileName.split(\".\").pop();\n    const previewFile = {\n        name: fileName,\n        type: fileExt\n    };\n    const DocumentDetail = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: `relative ${className}`,\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocumentPreviewCard, {\n                className: \"cursor-pointer\",\n                file: previewFile,\n                onRemove\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: \"absolute bottom-2 right-2 flex space-x-2\",\n                children: sources.map((node, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SourceInfo, {\n                            node,\n                            index\n                        })\n                    }, node.id))\n            })\n        ]\n    });\n    if (url.endsWith(\".pdf\")) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PdfDialog, {\n            documentId: url,\n            url,\n            trigger: DocumentDetail\n        });\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        onClick: ()=>window.open(url, \"_blank\"),\n        children: DocumentDetail\n    });\n}\nfunction SourceInfo({ node, index }) {\n    if (!node) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SourceNumberButton, {\n        index\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_radix_ui_react_hover_card__WEBPACK_IMPORTED_MODULE_11__.HoverCard, {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_radix_ui_react_hover_card__WEBPACK_IMPORTED_MODULE_11__.HoverCardTrigger, {\n                className: \"cursor-default\",\n                onClick: (e)=>{\n                    e.preventDefault();\n                    e.stopPropagation();\n                },\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SourceNumberButton, {\n                    index,\n                    className: \"hover:bg-primary hover:text-white\"\n                })\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_radix_ui_react_hover_card__WEBPACK_IMPORTED_MODULE_11__.HoverCardContent, {\n                className: \"w-[400px] bg-white p-4\",\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(NodeInfo, {\n                    nodeInfo: node\n                })\n            })\n        ]\n    });\n}\nfunction NodeInfo({ nodeInfo }) {\n    var _a, _b, _c, _d;\n    const { isCopied, copyToClipboard } = useCopyToClipboard({\n        timeout: 1e3\n    });\n    const pageNumber = // XXX: page_label is used in Python, but page_number is used by Typescript\n    (_d = (_c = (_a = nodeInfo.metadata) == null ? void 0 : _a.page_number) != null ? _c : (_b = nodeInfo.metadata) == null ? void 0 : _b.page_label) != null ? _d : null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"space-y-4\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                        className: \"font-semibold\",\n                        children: pageNumber ? `On page ${pageNumber}:` : \"Node content:\"\n                    }),\n                    nodeInfo.text && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Button, {\n                        onClick: (e)=>{\n                            e.stopPropagation();\n                            copyToClipboard(nodeInfo.text);\n                        },\n                        size: \"icon\",\n                        variant: \"ghost\",\n                        className: \"h-12 w-12 shrink-0\",\n                        children: isCopied ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                            className: \"h-4 w-4\"\n                        }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_Download_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            className: \"h-4 w-4\"\n                        })\n                    })\n                ]\n            }),\n            nodeInfo.text && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"pre\", {\n                className: \"max-h-[200px] overflow-auto whitespace-pre-line\",\n                children: [\n                    \"\\u201C\",\n                    nodeInfo.text,\n                    \"\\u201D\"\n                ]\n            })\n        ]\n    });\n}\nvar FileIconMap = {\n    csv: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SheetIcon, {}),\n    pdf: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(PDFIcon, {}),\n    docx: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocxIcon, {}),\n    txt: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TxtIcon, {})\n};\nfunction DocumentPreviewCard(props) {\n    var _a;\n    const { onRemove, file, className } = props;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: cn(\"bg-secondary relative w-60 max-w-60 rounded-lg p-2 text-sm\", className),\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                className: \"flex flex-row items-center gap-2\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        className: \"relative flex h-8 w-8 shrink-0 items-center justify-center overflow-hidden rounded-md\",\n                        children: (_a = FileIconMap[file.type]) != null ? _a : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_FileIcon_XCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {})\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                        className: \"overflow-hidden\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                                className: \"truncate font-semibold\",\n                                children: [\n                                    file.name,\n                                    \" \",\n                                    file.size ? `(${inKB(file.size)} KB)` : \"\"\n                                ]\n                            }),\n                            file.type && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                                className: \"text-token-text-tertiary flex items-center gap-2 truncate\",\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n                                    children: [\n                                        file.type.toUpperCase(),\n                                        \" File\"\n                                    ]\n                                })\n                            })\n                        ]\n                    })\n                ]\n            }),\n            onRemove && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: cn(\"absolute -right-2 -top-2 z-10 h-6 w-6 rounded-full bg-gray-500 text-white\"),\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_FileIcon_XCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    className: \"h-6 w-6 rounded-full bg-gray-500 text-white\",\n                    onClick: (e)=>{\n                        e.stopPropagation();\n                        onRemove();\n                    }\n                })\n            })\n        ]\n    });\n}\nfunction inKB(size) {\n    return Math.round(size / 1024 * 10) / 10;\n}\n// src/widgets/markdown.tsx\n\nvar MemoizedReactMarkdown = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(react_markdown__WEBPACK_IMPORTED_MODULE_14__.ReactMarkdown, (prevProps, nextProps)=>prevProps.children === nextProps.children && prevProps.className === nextProps.className);\nvar preprocessLaTeX = (content)=>{\n    const blockProcessedContent = content.replace(/\\\\\\[([\\s\\S]*?)\\\\\\]/g, (_, equation)=>`$$${equation}$$`);\n    const inlineProcessedContent = blockProcessedContent.replace(/\\\\\\[([\\s\\S]*?)\\\\\\]/g, (_, equation)=>`$${equation}$`);\n    return inlineProcessedContent;\n};\nvar preprocessCitations = (input, sources)=>{\n    let content = input;\n    if (sources) {\n        const citationRegex = /\\[citation:(.+?)\\]\\(\\)/g;\n        let match;\n        while((match = citationRegex.exec(content)) !== null){\n            const citationId = match[1];\n            const sourceNode = sources.nodes.find((node)=>node.id === citationId);\n            if (sourceNode !== void 0) {\n                content = content.replace(match[0], `[citation:${sources.nodes.indexOf(sourceNode)}]()`);\n            } else {\n                content = content.replace(match[0], \"\");\n            }\n        }\n    }\n    return content;\n};\nvar preprocessContent = (content, sources)=>{\n    return preprocessCitations(preprocessLaTeX(content), sources);\n};\nfunction Markdown({ content, sources, backend }) {\n    const processedContent = preprocessContent(content, sources);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"style\", {\n                children: `\n        .custom-markdown ul {\n          list-style-type: disc;\n          margin-left: 20px;\n          margin-top: 20px;\n          margin-bottom: 20px;\n        }\n\n        .custom-markdown ol {\n          list-style-type: decimal;\n          margin-left: 20px;\n          margin-top: 20px;\n          margin-bottom: 20px;\n        }\n\n        .custom-markdown li {\n          margin-bottom: 5px;\n        }\n\n        .custom-markdown ol ol {\n          list-style: lower-alpha;\n        }\n\n        .custom-markdown ul ul,\n        .custom-markdown ol ol {\n          margin-left: 20px;\n        }\n\n        .custom-markdown img {\n          border-radius: 8px;\n          box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n          margin: 10px 0;\n        }\n\n        .custom-markdown a {\n          text-decoration: underline;\n          color: #007bff;\n        }\n\n        .custom-markdown h1,\n        h2,\n        h3,\n        h4,\n        h5,\n        h6 {\n          font-weight: bold;\n          margin-bottom: 20px;\n          margin-top: 20px;\n        }\n\n        .custom-markdown h6 {\n          font-size: 16px;\n        }\n\n        .custom-markdown h5 {\n          font-size: 18px;\n        }\n\n        .custom-markdown h4 {\n          font-size: 20px;\n        }\n\n        .custom-markdown h3 {\n          font-size: 22px;\n        }\n\n        .custom-markdown h2 {\n          font-size: 24px;\n        }\n\n        .custom-markdown h1 {\n          font-size: 26px;\n        }\n\n        .custom-markdown hr {\n          border: 0;\n          border-top: 1px solid #e1e4e8;\n          margin: 20px 0;\n        }\n      `\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(MemoizedReactMarkdown, {\n                className: \"prose dark:prose-invert prose-p:leading-relaxed prose-pre:p-0 custom-markdown break-words\",\n                remarkPlugins: [\n                    remark_gfm__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n                    remark_math__WEBPACK_IMPORTED_MODULE_16__[\"default\"]\n                ],\n                rehypePlugins: [\n                    rehype_katex__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n                ],\n                components: {\n                    p ({ children }) {\n                        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                            className: \"mb-2 last:mb-0\",\n                            children\n                        });\n                    },\n                    code (_a) {\n                        var _b = _a, { inline, className, children } = _b, props = __objRest(_b, [\n                            \"inline\",\n                            \"className\",\n                            \"children\"\n                        ]);\n                        if (children.length) {\n                            if (children[0] === \"\\u258D\") {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                                    className: \"mt-1 animate-pulse cursor-default\",\n                                    children: \"\\u258D\"\n                                });\n                            }\n                            children[0] = children[0].replace(\"`\\u258D`\", \"\\u258D\");\n                        }\n                        const match = /language-(\\w+)/.exec(className || \"\");\n                        if (inline) {\n                            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"code\", __spreadProps(__spreadValues({\n                                className\n                            }, props), {\n                                children\n                            }));\n                        }\n                        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CodeBlock, __spreadValues({\n                            language: match && match[1] || \"\",\n                            value: String(children).replace(/\\n$/, \"\"),\n                            className: \"mb-2\"\n                        }, props), Math.random());\n                    },\n                    a ({ href, children }) {\n                        var _a;\n                        if (href == null ? void 0 : href.startsWith(`${backend}/api/files`)) {\n                            const fileExtension = (_a = href.split(\".\").pop()) == null ? void 0 : _a.toLowerCase();\n                            if (fileExtension && DOCUMENT_FILE_TYPES.includes(fileExtension)) {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocumentInfo, {\n                                    document: {\n                                        url: backend ? new URL(decodeURIComponent(href)).href : href,\n                                        sources: []\n                                    },\n                                    className: \"mb-2 mt-2\"\n                                });\n                            }\n                        }\n                        if (Array.isArray(children) && typeof children[0] === \"string\" && children[0].startsWith(\"citation:\")) {\n                            const index = Number(children[0].replace(\"citation:\", \"\"));\n                            if (!isNaN(index)) {\n                                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(SourceNumberButton, {\n                                    index\n                                });\n                            }\n                            return null;\n                        }\n                        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n                            href,\n                            target: \"_blank\",\n                            rel: \"noopener\",\n                            children\n                        });\n                    }\n                },\n                children: processedContent\n            })\n        ]\n    });\n}\n// src/ui/progress.tsx\n\n\n\nvar Progress = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((_a, ref)=>{\n    var _b = _a, { className, value } = _b, props = __objRest(_b, [\n        \"className\",\n        \"value\"\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_18__.Root, __spreadProps(__spreadValues({\n        ref,\n        className: cn(\"bg-secondary relative h-4 w-full overflow-hidden rounded-full\", className)\n    }, props), {\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_18__.Indicator, {\n            className: \"bg-primary h-full w-full flex-1 transition-all\",\n            style: {\n                transform: `translateX(-${100 - (value || 0)}%)`\n            }\n        })\n    }));\n});\nProgress.displayName = _radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_18__.Root.displayName;\n// src/widgets/chat-agent-events.tsx\n\nvar AgentIcons = {\n    bot: _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n    researcher: _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n    writer: _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n    reviewer: _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n    publisher: _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"]\n};\nfunction ChatAgentEvents({ data, isFinished }) {\n    const events = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"ChatAgentEvents.useMemo[events]\": ()=>mergeAdjacentEvents(data)\n    }[\"ChatAgentEvents.useMemo[events]\"], [\n        data\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        className: \"pl-2\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n            className: \"space-y-4 text-sm\",\n            children: events.map((eventItem, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(AgentEventContent, {\n                    event: eventItem,\n                    isLast: index === events.length - 1,\n                    isFinished\n                }, index))\n        })\n    });\n}\nvar MAX_TEXT_LENGTH = 150;\nfunction TextContent({ agent, step }) {\n    const { displayText, showMore } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"TextContent.useMemo\": ()=>({\n                displayText: step.text.slice(0, MAX_TEXT_LENGTH),\n                showMore: step.text.length > MAX_TEXT_LENGTH\n            })\n    }[\"TextContent.useMemo\"], [\n        step.text\n    ]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"whitespace-break-spaces\",\n        children: [\n            !showMore && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                children: step.text\n            }),\n            showMore && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n                        children: [\n                            displayText,\n                            \"...\"\n                        ]\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(AgentEventDialog, {\n                        content: step.text,\n                        title: `Agent \"${agent}\"`,\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                            className: \"ml-2 cursor-pointer font-semibold underline\",\n                            children: \"Show more\"\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\nfunction ProgressContent({ step }) {\n    const progressValue = step.progress.total !== 0 ? Math.round((step.progress.current + 1) / step.progress.total * 100) : 0;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"mt-2 space-y-2\",\n        children: [\n            step.text && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n                className: \"text-muted-foreground text-sm\",\n                children: step.text\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Progress, {\n                value: progressValue,\n                className: \"h-2 w-full\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n                className: \"text-muted-foreground text-sm\",\n                children: [\n                    \"Processing \",\n                    step.progress.current + 1,\n                    \" of \",\n                    step.progress.total,\n                    \" steps...\"\n                ]\n            })\n        ]\n    });\n}\nfunction AgentEventContent({ event, isLast, isFinished }) {\n    const { agent, steps } = event;\n    const AgentIcon = event.icon;\n    const textSteps = steps.filter((step)=>!(\"progress\" in step));\n    const progressSteps = steps.filter((step)=>\"progress\" in step);\n    const lastProgressStep = progressSteps.length > 0 ? progressSteps[progressSteps.length - 1] : void 0;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"fadein-agent flex items-center gap-4 border-b pb-4\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                className: \"flex w-[100px] flex-col items-center gap-2\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                        className: \"relative\",\n                        children: [\n                            isLast && !isFinished && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                                className: \"absolute -right-4 -top-0\",\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"span\", {\n                                    className: \"relative flex h-3 w-3\",\n                                    children: [\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                                            className: \"absolute inline-flex h-full w-full animate-ping rounded-full bg-sky-400 opacity-75\"\n                                        }),\n                                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                                            className: \"relative inline-flex h-3 w-3 rounded-full bg-sky-500\"\n                                        })\n                                    ]\n                                })\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(AgentIcon, {})\n                        ]\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                        className: \"font-bold\",\n                        children: agent\n                    })\n                ]\n            }),\n            textSteps.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                className: \"flex-1\",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"ul\", {\n                        className: \"list-decimal space-y-2\",\n                        children: textSteps.map((step, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"li\", {\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(TextContent, {\n                                    agent,\n                                    step\n                                })\n                            }, index))\n                    }),\n                    lastProgressStep && !isFinished && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ProgressContent, {\n                        step: lastProgressStep\n                    })\n                ]\n            })\n        ]\n    });\n}\nfunction AgentEventDialog(props) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Drawer, {\n        direction: \"left\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerTrigger, {\n                asChild: true,\n                children: props.children\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DrawerContent, {\n                className: \"mt-24 h-full max-h-[96%] w-3/5 \",\n                children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(DrawerHeader, {\n                        className: \"flex justify-between\",\n                        children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                                className: \"space-y-2\",\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerTitle, {\n                                    children: props.title\n                                })\n                            }),\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DrawerClose, {\n                                asChild: true,\n                                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Button, {\n                                    variant: \"outline\",\n                                    children: \"Close\"\n                                })\n                            })\n                        ]\n                    }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        className: \"m-4 overflow-auto\",\n                        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Markdown, {\n                            content: props.content\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\nfunction mergeAdjacentEvents(events) {\n    var _a;\n    const mergedEvents = [];\n    for (const event of events){\n        const lastMergedEvent = mergedEvents[mergedEvents.length - 1];\n        const eventStep = event.data ? {\n            text: event.text,\n            progress: event.data\n        } : {\n            text: event.text\n        };\n        if (lastMergedEvent && lastMergedEvent.agent === event.agent) {\n            lastMergedEvent.steps.push(eventStep);\n        } else {\n            mergedEvents.push({\n                agent: event.agent,\n                steps: [\n                    eventStep\n                ],\n                icon: (_a = AgentIcons[event.agent.toLowerCase()]) != null ? _a : _barrel_optimize_names_icons_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"]\n            });\n        }\n    }\n    return mergedEvents;\n}\n// src/widgets/chat-events.tsx\n\n\n// src/ui/collapsible.tsx\n\nvar Collapsible = _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_24__.Root;\nvar CollapsibleTrigger2 = _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_24__.CollapsibleTrigger;\nvar CollapsibleContent2 = _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_24__.CollapsibleContent;\n// src/widgets/chat-events.tsx\n\nfunction ChatEvents({ data, showLoading }) {\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const buttonLabel = isOpen ? \"Hide events\" : \"Show events\";\n    const EventIcon = isOpen ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n        className: \"h-4 w-4\"\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n        className: \"h-4 w-4\"\n    });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        className: \"border-l-2 border-indigo-400 pl-2\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Collapsible, {\n            open: isOpen,\n            onOpenChange: setIsOpen,\n            children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CollapsibleTrigger2, {\n                    asChild: true,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Button, {\n                        variant: \"secondary\",\n                        className: \"space-x-2\",\n                        children: [\n                            showLoading ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                className: \"h-4 w-4 animate-spin\"\n                            }) : null,\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                                children: buttonLabel\n                            }),\n                            EventIcon\n                        ]\n                    })\n                }),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(CollapsibleContent2, {\n                    asChild: true,\n                    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        className: \"mt-4 space-y-2 text-sm\",\n                        children: data.map((eventItem, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                                className: \"whitespace-break-spaces\",\n                                children: eventItem.title\n                            }, index))\n                    })\n                })\n            ]\n        })\n    });\n}\n// src/widgets/chat-files.tsx\n\nfunction ChatFiles({ data }) {\n    if (!data.files.length) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: data.files.map((file)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocumentInfo, {\n                document: {\n                    url: file.url,\n                    sources: []\n                },\n                className: \"mb-2 mt-2\"\n            }, file.id))\n    });\n}\n// src/widgets/chat-image.tsx\n\nfunction ChatImage({ data }) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        className: \"max-w-[200px] rounded-md shadow-md\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"img\", {\n            src: data.url,\n            alt: \"chat_image\",\n            className: \"h-auto w-full\"\n        })\n    });\n}\n// src/widgets/chat-sources.tsx\n\n\nfunction ChatSources({ data }) {\n    const documents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"ChatSources.useMemo2[documents]\": ()=>{\n            const nodesByUrl = {};\n            data.nodes.forEach({\n                \"ChatSources.useMemo2[documents]\": (node)=>{\n                    var _a;\n                    const key = node.url;\n                    (_a = nodesByUrl[key]) != null ? _a : nodesByUrl[key] = [];\n                    nodesByUrl[key].push(node);\n                }\n            }[\"ChatSources.useMemo2[documents]\"]);\n            return Object.entries(nodesByUrl).map({\n                \"ChatSources.useMemo2[documents]\": ([url, sources])=>({\n                        url,\n                        sources\n                    })\n            }[\"ChatSources.useMemo2[documents]\"]);\n        }\n    }[\"ChatSources.useMemo2[documents]\"], [\n        data.nodes\n    ]);\n    if (documents.length === 0) return null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"space-y-2 text-sm\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: \"text-lg font-semibold\",\n                children: \"Sources:\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: \"flex flex-wrap gap-3\",\n                children: documents.map((document2)=>{\n                    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DocumentInfo, {\n                        document: document2\n                    }, document2.url);\n                })\n            })\n        ]\n    });\n}\n// src/widgets/suggested-questions.tsx\n\nfunction SuggestedQuestions({ questions, append }) {\n    const showQuestions = questions.length > 0;\n    return showQuestions && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        className: \"flex flex-col space-y-2\",\n        children: questions.map((question, index)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"a\", {\n                onClick: ()=>{\n                    append({\n                        role: \"user\",\n                        content: question\n                    });\n                },\n                className: \"cursor-pointer text-sm italic hover:underline\",\n                children: [\n                    \"->\",\n                    \" \",\n                    question\n                ]\n            }, index))\n    });\n}\n// src/widgets/starter-questions.tsx\n\nfunction StarterQuestions(props) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n        className: \"absolute bottom-6 left-0 w-full\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n            className: \"mx-20 grid grid-cols-2 gap-2\",\n            children: props.questions.map((question, i)=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Button, {\n                    variant: \"outline\",\n                    onClick: ()=>props.append({\n                            role: \"user\",\n                            content: question\n                        }),\n                    children: question\n                }, i))\n        })\n    });\n}\n// src/widgets/image-preview.tsx\n\n\nfunction ImagePreview({ url, onRemove }) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"group relative h-20 w-20\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"img\", {\n                src: url,\n                alt: \"uploaded_image\",\n                className: \"h-full w-full rounded-xl object-cover hover:brightness-75\"\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: cn(\"absolute -right-2 -top-2 z-10 hidden h-6 w-6 rounded-full bg-gray-500 text-white group-hover:block\"),\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Check_Copy_FileIcon_XCircleIcon_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                    className: \"h-6 w-6 rounded-full bg-gray-500 text-white\",\n                    onClick: onRemove\n                })\n            })\n        ]\n    });\n}\n// src/widgets/file-uploader.tsx\n\n\n\nvar DEFAULT_INPUT_ID = \"fileInput\";\nvar DEFAULT_FILE_SIZE_LIMIT = 1024 * 1024 * 50;\nfunction FileUploader({ config, onFileUpload, onFileError }) {\n    var _a;\n    const [uploading, setUploading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [remainingFiles, setRemainingFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const inputId = (config == null ? void 0 : config.inputId) || DEFAULT_INPUT_ID;\n    const fileSizeLimit = (config == null ? void 0 : config.fileSizeLimit) || DEFAULT_FILE_SIZE_LIMIT;\n    const allowedExtensions = config == null ? void 0 : config.allowedExtensions;\n    const defaultCheckExtension = (extension)=>{\n        if (allowedExtensions && !allowedExtensions.includes(extension)) {\n            return `Invalid file type. Please select a file with one of these formats: ${allowedExtensions.join(\",\")}`;\n        }\n        return null;\n    };\n    const checkExtension = (_a = config == null ? void 0 : config.checkExtension) != null ? _a : defaultCheckExtension;\n    const isFileSizeExceeded = (file)=>{\n        return file.size > fileSizeLimit;\n    };\n    const resetInput = ()=>{\n        const fileInput = document.getElementById(inputId);\n        fileInput.value = \"\";\n    };\n    const onFileChange = (e)=>__async(this, null, function*() {\n            const files = Array.from(e.target.files || []);\n            if (!files.length) return;\n            setUploading(true);\n            yield handleUpload(files);\n            resetInput();\n            setUploading(false);\n        });\n    const handleUpload = (files)=>__async(this, null, function*() {\n            const onFileUploadError = onFileError || window.alert;\n            if (files.length > 1 && files.some((file)=>file.type.startsWith(\"image/\"))) {\n                onFileUploadError(\"Multiple files with image are not supported\");\n                return;\n            }\n            for (const file of files){\n                const fileExtension = file.name.split(\".\").pop() || \"\";\n                const extensionFileError = checkExtension(fileExtension);\n                if (extensionFileError) {\n                    onFileUploadError(extensionFileError);\n                    return;\n                }\n                if (isFileSizeExceeded(file)) {\n                    onFileUploadError(`File size exceeded. Limit is ${fileSizeLimit / 1024 / 1024} MB`);\n                    return;\n                }\n            }\n            setRemainingFiles(files.length);\n            for (const file of files){\n                yield onFileUpload(file);\n                setRemainingFiles((prev)=>prev - 1);\n            }\n            setRemainingFiles(0);\n        });\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"self-stretch\",\n        children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n                type: \"file\",\n                id: inputId,\n                style: {\n                    display: \"none\"\n                },\n                onChange: onFileChange,\n                accept: allowedExtensions == null ? void 0 : allowedExtensions.join(\",\"),\n                disabled: (config == null ? void 0 : config.disabled) || uploading,\n                multiple: config == null ? void 0 : config.multiple\n            }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"label\", {\n                htmlFor: inputId,\n                className: cn(buttonVariants({\n                    variant: \"secondary\",\n                    size: \"icon\"\n                }), \"relative cursor-pointer\", uploading && \"opacity-50\"),\n                children: uploading ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                    className: \"relative flex h-full w-full items-center justify-center\",\n                    children: [\n                        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_ChevronDown_ChevronRight_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                            className: \"absolute h-6 w-6 animate-spin\"\n                        }),\n                        remainingFiles > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"span\", {\n                            className: \"absolute inset-0 flex items-center justify-center text-xs\",\n                            children: remainingFiles\n                        })\n                    ]\n                }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_barrel_optimize_names_Loader2_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                    className: \"h-4 w-4 -rotate-45\"\n                })\n            })\n        ]\n    });\n}\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGxsYW1haW5kZXgrY2hhdC11aUAwLjAuMTFfQHR5cGVzK3JlYWN0LWRvbUAxOC4zLjFfQHR5cGVzK3JlYWN0QDE4LjMuMTJfZW5jb2RpbmdAMC4xLjEzX3JlYWN0XzR5NTRvNzcydHhxZm0yYzZ5MmF5c25mc2RxL25vZGVfbW9kdWxlcy9AbGxhbWFpbmRleC9jaGF0LXVpL2Rpc3Qvd2lkZ2V0cy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ1Y7O0FDREg7QUFDa0I7QUFDaEI7O0FDRmU7QUFDZDtBQUVqQixTQUFTLE1BQU0sUUFBc0I7SUFDMUMsT0FBTyx1REFBTyxDQUFDLDBDQUFJLENBQUMsTUFBTSxDQUFDO0FBQzdCOztBRHVDTTtBQXZDTixJQUFNLGlCQUFpQiw2REFBRyxDQUN4QiwwUkFDQTtJQUNFLFVBQVU7UUFDUixTQUFTO1lBQ1AsU0FBUztZQUNULGFBQ0U7WUFDRixTQUNFO1lBQ0YsV0FDRTtZQUNGLE9BQU87WUFDUCxNQUFNO1FBQ1I7UUFDQSxNQUFNO1lBQ0osU0FBUztZQUNULElBQUk7WUFDSixJQUFJO1lBQ0osTUFBTTtRQUNSO0lBQ0Y7SUFDQSxpQkFBaUI7UUFDZixTQUFTO1FBQ1QsTUFBTTtJQUNSO0FBQ0Y7QUFTRixJQUFNLHVCQUFlLDhDQUNuQixDQUFDLElBQXlEO0lBQXpELGFBQUUsYUFBVyxTQUFTLE1BQU0sVUFBVSxNQXpDekMsSUF5Q0csSUFBZ0Qsa0JBQWhELElBQWdEO1FBQTlDO1FBQVc7UUFBUztRQUFNO0tBQUE7SUFDM0IsTUFBTSxPQUFPLFVBQVUsc0RBQUksR0FBRztJQUM5QixPQUNFLHVFQUFDO1FBQ0MsV0FBVyxHQUFHLGVBQWU7WUFBRTtZQUFTO1lBQU07UUFBVSxDQUFDLENBQUM7UUFDMUQ7SUFBQSxHQUNJO0FBR1Y7QUFFRixPQUFPLGNBQWM7O0FFbERFO0FBQ21CO0FBT3hDO0FBSkYsSUFBTSxTQUFTLENBQUM7SUFBQSxhQUNkLDBCQUF3QixNQVAxQixHQU1nQixJQUVYLGtCQUZXLElBRVg7UUFESDtLQUFBO0lBR0EsdUJBQUFDLHNEQUFBQSxDQUFDLHdDQUFlLENBQUMsTUFBaEI7UUFDQztJQUFBLEdBQ0k7QUFDTjtBQUVGLE9BQU8sY0FBYztBQUVyQixJQUFNLGdCQUFnRCx3Q0FBZSxDQUFDO0FBRXRFLElBQU0sZUFBOEMsd0NBQWUsQ0FBQztBQUVwRSxJQUFNLGNBQTRDLHdDQUFlLENBQUM7QUFFbEUsSUFBTSw4QkFBc0QsOENBRzFELENBQUMsSUFBeUI7SUFBekIsYUFBRSxZQTFCTCxJQTBCRyxJQUFnQixrQkFBaEIsSUFBZ0I7UUFBZDtLQUFBO0lBQ0gsdUJBQUFBLHNEQUFBQSxDQUFDLHdDQUFlLENBQUMsU0FBaEI7UUFDQztRQUNBLFdBQVcsR0FBRyxrQ0FBa0MsU0FBUztJQUFBLEdBQ3JEO0FBQ04sQ0FDRDtBQUNELGNBQWMsY0FBYyx3Q0FBZSxDQUFDLFFBQVE7QUFFcEQsSUFBTSw4QkFBc0QsOENBRzFELENBQUMsSUFBbUM7SUFBbkMsYUFBRSxhQUFXLFNBdENoQixJQXNDRyxJQUEwQixrQkFBMUIsSUFBMEI7UUFBeEI7UUFBVztLQUFBO0lBQ2QsK0VBQUM7UUFDQztZQUFBLGdCQUFBQSxzREFBQUEsQ0FBQyxpQkFBYztZQUNmLHdFQUFDLHdDQUFlLENBQUMsU0FBaEI7Z0JBQ0M7Z0JBQ0EsV0FBVyxHQUNULGtHQUNBO1lBQ0YsR0FDSSxRQU5MO2dCQVFDO29CQUFBLGdCQUFBQSxzREFBQUEsQ0FBQzt3QkFBSSxXQUFVO29CQUFBLENBQW1EO29CQUNqRTtpQkFBQTtZQUFBO1NBQ0g7SUFBQSxDQUNGO0FBQUEsQ0FDRDtBQUNELGNBQWMsY0FBYztBQUU1QixJQUFNLGVBQWUsQ0FBQztJQUFBLGFBQ3BCLGFBekRGLEdBd0RzQixJQUVqQixrQkFGaUIsSUFFakI7UUFESDtLQUFBO0lBR0EsdUJBQUFBLHNEQUFBQSxDQUFDO1FBQ0MsV0FBVyxHQUFHLDZDQUE2QyxTQUFTO0lBQUEsR0FDaEU7QUFDTjtBQUVGLGFBQWEsY0FBYztBQUUzQixJQUFNLGVBQWUsQ0FBQztJQUFBLGFBQ3BCLGFBcEVGLEdBbUVzQixJQUVqQixrQkFGaUIsSUFFakI7UUFESDtLQUFBO0lBR0EsdUJBQUFBLHNEQUFBQSxDQUFDO1FBQ0MsV0FBVyxHQUFHLG1DQUFtQyxTQUFTO0lBQUEsR0FDdEQ7QUFDTjtBQUVGLGFBQWEsY0FBYztBQUUzQixJQUFNLDRCQUFrRCw4Q0FHdEQsQ0FBQyxJQUF5QjtJQUF6QixhQUFFLFlBakZMLElBaUZHLElBQWdCLGtCQUFoQixJQUFnQjtRQUFkO0tBQUE7SUFDSCx1QkFBQUEsc0RBQUFBLENBQUMsd0NBQWUsQ0FBQyxPQUFoQjtRQUNDO1FBQ0EsV0FBVyxHQUNULHFEQUNBO0lBQ0YsR0FDSTtBQUNOLENBQ0Q7QUFDRCxZQUFZLGNBQWMsd0NBQWUsQ0FBQyxNQUFNO0FBRWhELElBQU0sa0NBQThELDhDQUdsRSxDQUFDLElBQXlCO0lBQXpCLGFBQUUsWUFoR0wsSUFnR0csSUFBZ0Isa0JBQWhCLElBQWdCO1FBQWQ7S0FBQTtJQUNILHVCQUFBQSxzREFBQUEsQ0FBQyx3Q0FBZSxDQUFDLGFBQWhCO1FBQ0M7UUFDQSxXQUFXLEdBQUcsaUNBQWlDLFNBQVM7SUFBQSxHQUNwRDtBQUNOLENBQ0Q7QUFDRCxrQkFBa0IsY0FBYyx3Q0FBZSxDQUFDLFlBQVk7O0FDdkduQztBQUNjO0FBQ2Y7QUFDRjtBQUNDOztBQ0pOO0FBQ3FCO0FBQ007O0FDQXJCO0FBTWhCLFNBQVMsbUJBQW1CLEVBQ2pDLFVBQVUsS0FDWixFQUE0QjtJQUMxQixNQUFNLENBQUMsVUFBVSxXQUFXLElBQVUsNENBQWtCLEtBQUs7SUFFN0QsTUFBTSxrQkFBa0IsQ0FBQztRQWIzQjtRQWNJLElBQUksSUFBdUQsRUFBVztZQUNwRTtRQUNGO1FBRUEsSUFBSSxDQUFDLE9BQU87WUFDVjtRQUNGO1FBRUEsVUFBVSxVQUFVLFVBQVUsS0FBSyxFQUFFLEtBQUs7WUFDeEMsWUFBWSxJQUFJO1lBRWhCLFdBQVc7Z0JBQ1QsWUFBWSxLQUFLO1lBQ25CLEdBQUcsT0FBTztRQUNaLENBQUM7SUFDSDtJQUVBLE9BQU87UUFBRTtRQUFVO0lBQWdCO0FBQ3JDOztBRG9FUTtBQXBGRCxJQUFNLHVCQUFvQztJQUMvQyxZQUFZO0lBQ1osUUFBUTtJQUNSLE1BQU07SUFDTixHQUFHO0lBQ0gsS0FBSztJQUNMLE9BQU87SUFDUCxNQUFNO0lBQ04sTUFBTTtJQUNOLEtBQUs7SUFDTCxPQUFPO0lBQ1AsZUFBZTtJQUNmLFFBQVE7SUFDUixZQUFZO0lBQ1osSUFBSTtJQUNKLE1BQU07SUFDTixNQUFNO0lBQ04sT0FBTztJQUNQLFNBQVM7SUFDVCxLQUFLO0lBQ0wsT0FBTztJQUNQLEtBQUs7SUFDTCxNQUFNO0lBQ04sS0FBSztBQUVQO0FBRU8sSUFBTSx1QkFBdUIsQ0FBQyxRQUFnQixZQUFZO0lBQy9ELE1BQU0sUUFBUTtJQUNkLElBQUksU0FBUztJQUNiLFFBQVMsSUFBSSxHQUFHLElBQUksUUFBUSxJQUFLO1FBQy9CLFVBQVUsTUFBTSxPQUFPLEtBQUssTUFBTSxLQUFLLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztJQUNqRTtJQUNBLE9BQU8sWUFBWSxPQUFPLFlBQVksSUFBSTtBQUM1QztBQUVBLElBQU0sMEJBQXVCLDJDQUFJLENBQUMsQ0FBQyxFQUFFLFVBQVUsT0FBTyxVQUFVO0lBQzlELE1BQU0sRUFBRSxVQUFVLGdCQUFnQixJQUFJLG1CQUFtQjtRQUFFLFNBQVM7SUFBSyxDQUFDO0lBQzFFLE1BQU0sVUFBVSw2Q0FBTSxDQUFjLElBQUk7SUFFeEMsZ0RBQVM7K0JBQUM7WUFDUixJQUFJLFFBQVEsV0FBVyxRQUFRLFFBQVEsUUFBUSxnQkFBZ0IsT0FBTztnQkFDcEUsb0RBQUksQ0FBQyxpQkFBaUIsUUFBUSxPQUFPO1lBQ3ZDO1FBQ0Y7OEJBQUc7UUFBQztRQUFVLEtBQUs7S0FBQztJQUVwQixNQUFNLGlCQUFpQjtRQUNyQixJQUFJLElBQWtCLEVBQWE7WUFDakM7UUFDRjtRQUNBLE1BQU0sZ0JBQWdCLHFCQUFxQixRQUFRLEtBQUs7UUFDeEQsTUFBTSxvQkFBb0IsUUFBUSxxQkFDaEMsR0FDQSxRQUNFLGFBQWE7UUFDakIsTUFBTSxXQUFXLE9BQU8sT0FBTyxtQkFBbUIsaUJBQWlCO1FBRW5FLElBQUksQ0FBQyxVQUFVO1lBRWI7UUFDRjtRQUVBLE1BQU0sT0FBTyxJQUFJLEtBQUs7WUFBQyxLQUFLO1NBQUEsRUFBRztZQUFFLE1BQU07UUFBYSxDQUFDO1FBQ3JELE1BQU0sTUFBTSxJQUFJLGdCQUFnQixJQUFJO1FBQ3BDLE1BQU0sT0FBTyxTQUFTLGNBQWMsR0FBRztRQUN2QyxLQUFLLFdBQVc7UUFDaEIsS0FBSyxPQUFPO1FBQ1osS0FBSyxNQUFNLFVBQVU7UUFDckIsU0FBUyxLQUFLLFlBQVksSUFBSTtRQUM5QixLQUFLLE1BQU07UUFDWCxTQUFTLEtBQUssWUFBWSxJQUFJO1FBQzlCLElBQUksZ0JBQWdCLEdBQUc7SUFDekI7SUFFQSxNQUFNLFNBQVM7UUFDYixJQUFJLFNBQVU7UUFDZCxnQkFBZ0IsS0FBSztJQUN2QjtJQUVBLE9BQ0UsZ0JBQUFJLHVEQUFBRixDQUFDO1FBQ0MsV0FBVyxtREFBbUQsU0FBUztRQUV2RTtZQUFBLGdCQUFBRSx1REFBQUYsQ0FBQztnQkFBSSxXQUFVO2dCQUNiO29CQUFBLGdCQUFBQyxzREFBQUgsQ0FBQzt3QkFBSyxXQUFVO3dCQUFxQjtvQkFBQSxDQUFTO29CQUM5QyxnQkFBQUksdURBQUFGLENBQUM7d0JBQUksV0FBVTt3QkFDYjs0QkFBQSxnQkFBQUUsdURBQUFGLENBQUM7Z0NBQU8sU0FBUTtnQ0FBUSxTQUFTO2dDQUFnQixNQUFLO2dDQUNwRDtvQ0FBQSxnQkFBQUMsc0RBQUFILENBQUMsK0ZBQVEsRUFBUixFQUFTO29DQUNWLGdCQUFBRyxzREFBQUgsQ0FBQzt3Q0FBSyxXQUFVO3dDQUFVO29DQUFBLENBQVE7aUNBQUE7NEJBQUEsQ0FDcEM7NEJBQ0EsZ0JBQUFJLHVEQUFBRixDQUFDO2dDQUFPLFNBQVE7Z0NBQVEsTUFBSztnQ0FBTyxTQUFTO2dDQUMxQztvQ0FBQSxXQUNDLGdCQUFBQyxzREFBQUgsQ0FBQywrRkFBSyxFQUFMO3dDQUFNLFdBQVU7b0NBQUEsQ0FBVSxJQUUzQixnQkFBQUcsc0RBQUFILENBQUMsZ0dBQUksRUFBSjt3Q0FBSyxXQUFVO29DQUFBLENBQVU7b0NBRTVCLGdCQUFBRyxzREFBQUgsQ0FBQzt3Q0FBSyxXQUFVO3dDQUFVO29DQUFBLENBQVM7aUNBQUE7NEJBQUEsQ0FDckM7eUJBQUE7b0JBQUEsQ0FDRjtpQkFBQTtZQUFBLENBQ0Y7WUFDQSxnQkFBQUcsc0RBQUFILENBQUM7Z0JBQUksV0FBVTtnQkFDYiwwQkFBQUcsc0RBQUFILENBQUM7b0JBQUssS0FBSztvQkFBUyxXQUFXLFlBQVksUUFBUTtvQkFDaEQ7Z0JBQUEsQ0FDSDtZQUFBLENBQ0Y7U0FBQTtJQUFBO0FBR04sQ0FBQztBQUNELFVBQVUsY0FBYzs7QUU5R2pCLElBQU0sc0JBQTBDO0lBQ3JEO0lBQ0E7SUFDQTtJQUNBO0NBQ0Y7O0FDZk87QUFDNEM7O0FDTDlCO0FBNEJmO0FBaEJOLElBQU0sMEJBQVksMkNBQUksQ0FBQyxJQUNyQixxb0RBQWdDLENBQUMsS0FBSyxNQUFNO1lBQUUsU0FBUyxFQUFFO1NBQVUsRUFBRTtBQUV2RSxJQUFNLGlDQUFtQiwyQ0FBSSxDQUFDLElBQzVCLHFvREFBZ0MsQ0FBQyxLQUFLLE1BQU07WUFBRSxTQUFTLEVBQUU7UUFBaUIsRUFBRTtBQVN2RSxTQUFTLFVBQVUsT0FBdUI7SUFDL0MsT0FDRSxnQkFBQVEsdURBQUFOLENBQUM7UUFBTyxXQUFVO1FBQ2hCO1lBQUEsZ0JBQUFLLHNEQUFBUCxDQUFDO2dCQUFjLFNBQU87Z0JBQUUsZ0JBQU07WUFBQSxDQUFRO1lBQ3RDLGdCQUFBUSx1REFBQU4sQ0FBQztnQkFBYyxXQUFVO2dCQUN2QjtvQkFBQSxnQkFBQU0sdURBQUFOLENBQUM7d0JBQWEsV0FBVTt3QkFDdEI7NEJBQUEsZ0JBQUFNLHVEQUFBTixDQUFDO2dDQUFJLFdBQVU7Z0NBQ2I7b0NBQUEsZ0JBQUFLLHNEQUFBUCxDQUFDO3dDQUFZO29DQUFBLENBQVc7b0NBQ3hCLGdCQUFBUSx1REFBQU4sQ0FBQzt3Q0FBa0I7NENBQUE7NENBQ1A7NENBQ1YsZ0JBQUFLLHNEQUFBUCxDQUFDO2dEQUNDLFdBQVU7Z0RBQ1YsTUFBTSxNQUFNO2dEQUNaLFFBQU87Z0RBQ1AsS0FBSTtnREFFSCxnQkFBTTs0Q0FBQTt5Q0FDVDtvQ0FBQSxDQUNGO2lDQUFBOzRCQUFBLENBQ0Y7NEJBQ0EsZ0JBQUFPLHNEQUFBUCxDQUFDO2dDQUFZLFNBQU87Z0NBQ2xCLDBCQUFBTyxzREFBQVAsQ0FBQztvQ0FBTyxTQUFRO29DQUFVO2dDQUFBLENBQUs7NEJBQUEsQ0FDakM7eUJBQUE7b0JBQUEsQ0FDRjtvQkFDQSxnQkFBQU8sc0RBQUFQLENBQUM7d0JBQUksV0FBVTt3QkFDYiwwQkFBQU8sc0RBQUFQLENBQUM7NEJBQ0MsMEJBQUFPLHNEQUFBUCxDQUFDO2dDQUNDLE1BQU07b0NBQ0osSUFBSSxNQUFNO29DQUNWLEtBQUssTUFBTTtnQ0FDYjs0QkFBQTt3QkFDRixDQUNGO29CQUFBLENBQ0Y7aUJBQUE7WUFBQSxDQUNGO1NBQUE7SUFBQSxDQUNGO0FBRUo7O0FDcERJO0FBUkcsU0FBUyxtQkFBbUIsRUFDakMsT0FDQSxXQUNGLEVBR0c7SUFDRCxPQUNFLGdCQUFBUyxzREFBQVQsQ0FBQztRQUNDLFdBQVcsR0FDVCxvRkFDQTtRQUdELGtCQUFRO0lBQUE7QUFHZjs7QUNFTTtBQWJDLElBQU0sV0FBb0MsQ0FBQyxFQUNoRCxRQUFRLElBQ1IsU0FBUyxJQUNULFdBQ0Y7SUFDRSxPQUNFLGdCQUFBVyx1REFBQVQsQ0FBQztRQUNDO1FBQ0E7UUFDQSxTQUFRO1FBQ1IsT0FBTTtRQUNOO1FBRUE7WUFBQSxnQkFBQVMsdURBQUFULENBQUM7Z0JBQUUsVUFBUztnQkFDVjtvQkFBQSxnQkFBQVEsc0RBQUFWLENBQUM7d0JBQ0MsR0FBRTt3QkFDRixNQUFLO29CQUFBO29CQUVQLGdCQUFBVSxzREFBQVYsQ0FBQzt3QkFDQyxHQUFFO3dCQUNGLE1BQUs7b0JBQUE7b0JBRVAsZ0JBQUFVLHNEQUFBVixDQUFDO3dCQUNDLEdBQUU7d0JBQ0YsTUFBSzt3QkFDTCxTQUFRO29CQUFBO2lCQUNWO1lBQUEsQ0FDRjtZQUNBLGdCQUFBVSxzREFBQVYsQ0FBQztnQkFDQyxHQUFFO2dCQUNGLE1BQUs7WUFBQTtTQUNQO0lBQUE7QUFHTjs7QUNsQk07QUFoQkMsSUFBTSxVQUFrQyxDQUFDLEVBQzlDLFdBQ0EsUUFBUSxJQUNSLFNBQVMsSUFDWDtJQUNFLE9BQ0Usc0VBQUFBLENBQUM7UUFDQztRQUNBO1FBQ0EsU0FBUTtRQUNSLElBQUc7UUFDSCxPQUFNO1FBQ04sWUFBVztRQUNYLFNBQVE7UUFDUjtRQUVBLGlGQUFBRSxDQUFDO1lBQ0M7Z0JBQUEsc0VBQUFGLENBQUM7b0JBQ0MsT0FBTzt3QkFBRSxNQUFNO29CQUFVO29CQUN6QixHQUFFO2dCQUFBO2dCQUdKLHNFQUFBQSxDQUFDO29CQUNDLE9BQU87d0JBQUUsTUFBTTtvQkFBVTtvQkFDekIsR0FBRTtnQkFBQTtnQkFFSixzRUFBQUEsQ0FBQztvQkFDQyxPQUFPO3dCQUFFLE1BQU07b0JBQVU7b0JBQ3pCLEdBQUU7Z0JBQUE7YUFTSjtRQUFBLENBQ0Y7SUFBQTtBQUdOOztBQ3RDSTtBQVRHLElBQU0sWUFBc0IsSUFDakMsdUVBQUFFLENBQUM7UUFDQyxPQUFNO1FBQ04sUUFBTztRQUNQLFNBQVE7UUFDUixTQUFRO1FBQ1IsT0FBTTtRQUNOLFlBQVc7UUFFWDtZQUFBLHNFQUFBRixDQUFDO2dCQUFNO1lBQUEsQ0FBVztZQUNsQixzRUFBQUEsQ0FBQztnQkFBSztZQUFBLENBQW9CO1lBQzFCLHVFQUFBRSxDQUFDO2dCQUNDO29CQUFBLHNFQUFBRixDQUFDO3dCQUNDLEdBQUU7d0JBQ0YsSUFBRztvQkFBQTtvQkFFTCx1RUFBQUUsQ0FBQzt3QkFDQyxJQUFHO3dCQUNILElBQUc7d0JBQ0gsSUFBRzt3QkFDSCxJQUFHO3dCQUNILElBQUc7d0JBRUg7NEJBQUEsc0VBQUFGLENBQUM7Z0NBQUssV0FBVTtnQ0FBVSxhQUFZO2dDQUFNLFFBQU87NEJBQUEsQ0FBSzs0QkFDeEQsc0VBQUFBLENBQUM7Z0NBQUssV0FBVTtnQ0FBVSxhQUFZO2dDQUFPLFFBQU87NEJBQUEsQ0FBTzt5QkFBQTtvQkFBQTtvQkFFN0QsdUVBQUFFLENBQUM7d0JBQ0MsSUFBRzt3QkFDSCxJQUFHO3dCQUNILElBQUc7d0JBQ0gsSUFBRzt3QkFDSCxHQUFFO3dCQUNGLG1CQUFrQjt3QkFDbEIsSUFBRzt3QkFFSDs0QkFBQSxzRUFBQUYsQ0FBQztnQ0FBSyxXQUFVO2dDQUFVLGFBQVk7Z0NBQU0sUUFBTzs0QkFBQSxDQUFLOzRCQUN4RCxzRUFBQUEsQ0FBQztnQ0FBSyxXQUFVO2dDQUFVLGFBQVk7Z0NBQUksUUFBTzs0QkFBQSxDQUFPO3lCQUFBO29CQUFBO2lCQUMxRDtZQUFBLENBQ0Y7WUFDQSxzRUFBQUEsQ0FBQztnQkFBRSxJQUFHO2dCQUFTLFFBQU87Z0JBQU8sYUFBWTtnQkFBSSxNQUFLO2dCQUFPLFVBQVM7Z0JBQ2hFLGdGQUFBQSxDQUFDO29CQUNDLElBQUc7b0JBQ0gsV0FBVTtvQkFFVixnRkFBQUEsQ0FBQzt3QkFBRSxJQUFHO3dCQUFPLFdBQVU7d0JBQ3JCLGdGQUFBQSxDQUFDOzRCQUFFLElBQUc7NEJBQVcsV0FBVTs0QkFDekIsZ0ZBQUFBLENBQUM7Z0NBQUUsSUFBRztnQ0FBYyxXQUFVO2dDQUM1QixpRkFBQUUsQ0FBQztvQ0FBRSxJQUFHO29DQUNKO3dDQUFBLHVFQUFBQSxDQUFDOzRDQUFFLElBQUc7NENBQ0o7Z0RBQUEsc0VBQUFGLENBQUM7b0RBQUssSUFBRztvREFBUyxNQUFLO29EQUNyQixnRkFBQUEsQ0FBQzt3REFBSSxXQUFVO29EQUFBLENBQVU7Z0RBQUEsQ0FDM0I7Z0RBQ0Esc0VBQUFBLENBQUM7b0RBQ0MsR0FBRTtvREFDRixJQUFHO29EQUNILE1BQUs7b0RBQ0wsVUFBUztvREFDVCxNQUFLO2dEQUFBOzZDQUNQO3dDQUFBLENBQ0Y7d0NBQ0EsdUVBQUFFLENBQUM7NENBQUUsSUFBRzs0Q0FDSjtnREFBQSxzRUFBQUYsQ0FBQztvREFBSyxJQUFHO29EQUFTLE1BQUs7b0RBQ3JCLGdGQUFBQSxDQUFDO3dEQUFJLFdBQVU7b0RBQUEsQ0FBVTtnREFBQSxDQUMzQjtnREFDQSxzRUFBQUEsQ0FBQztvREFDQyxHQUFFO29EQUNGLElBQUc7b0RBQ0gsTUFBSztvREFDTCxVQUFTO29EQUNULE1BQUs7Z0RBQUE7NkNBQ1A7d0NBQUEsQ0FDRjt3Q0FDQSx1RUFBQUUsQ0FBQzs0Q0FBRSxJQUFHOzRDQUNKO2dEQUFBLHNFQUFBRixDQUFDO29EQUFLLElBQUc7b0RBQVMsTUFBSztvREFDckIsZ0ZBQUFBLENBQUM7d0RBQUksV0FBVTtvREFBQSxDQUFVO2dEQUFBLENBQzNCO2dEQUNBLHNFQUFBQSxDQUFDO29EQUNDLElBQUc7b0RBQ0gsTUFBSztvREFDTCxVQUFTO29EQUNULE1BQUs7b0RBQ0wsUUFBTztnREFBQTs2Q0FDVDt3Q0FBQSxDQUNGO3dDQUNBLHVFQUFBRSxDQUFDOzRDQUFFLElBQUc7NENBQ0o7Z0RBQUEsc0VBQUFGLENBQUM7b0RBQUssSUFBRztvREFBUyxNQUFLO29EQUNyQixnRkFBQUEsQ0FBQzt3REFBSSxXQUFVO29EQUFBLENBQVU7Z0RBQUEsQ0FDM0I7Z0RBQ0Esc0VBQUFBLENBQUM7b0RBQUUsSUFBRztvREFBUSxNQUFLO29EQUNqQixnRkFBQUEsQ0FBQzt3REFBRSxXQUFVO3dEQUNYLGdGQUFBQSxDQUFDOzREQUNDLEdBQUU7NERBQ0YsSUFBRzs0REFDSCxNQUFLOzREQUNMLFVBQVM7d0RBQUE7b0RBQ1gsQ0FDRjtnREFBQSxDQUNGOzZDQUFBO3dDQUFBLENBQ0Y7d0NBQ0EsdUVBQUFFLENBQUM7NENBQUUsSUFBRzs0Q0FDSjtnREFBQSxzRUFBQUYsQ0FBQztvREFBSyxJQUFHO29EQUFVLE1BQUs7b0RBQ3RCLGdGQUFBQSxDQUFDO3dEQUFJLFdBQVU7b0RBQUEsQ0FBVTtnREFBQSxDQUMzQjtnREFDQSxzRUFBQUEsQ0FBQztvREFDQyxHQUFFO29EQUNGLElBQUc7b0RBQ0gsYUFBWTtvREFDWixNQUFLO29EQUNMLFVBQVM7b0RBQ1QsTUFBSztnREFBQTs2Q0FDUDt3Q0FBQSxDQUNGO3dDQUNBLHVFQUFBRSxDQUFDOzRDQUFFLElBQUc7NENBQ0o7Z0RBQUEsc0VBQUFGLENBQUM7b0RBQUssSUFBRztvREFBVSxNQUFLO29EQUN0QixnRkFBQUEsQ0FBQzt3REFBSSxXQUFVO29EQUFBLENBQVU7Z0RBQUEsQ0FDM0I7Z0RBQ0Esc0VBQUFBLENBQUM7b0RBQ0MsR0FBRTtvREFDRixJQUFHO29EQUNILE1BQUs7b0RBQ0wsVUFBUztvREFDVCxNQUFLO2dEQUFBOzZDQUNQO3dDQUFBLENBQ0Y7cUNBQUE7Z0NBQUEsQ0FDRjs0QkFBQSxDQUNGO3dCQUFBLENBQ0Y7b0JBQUEsQ0FDRjtnQkFBQTtZQUNGLENBQ0Y7U0FBQTtJQUFBOztBQzNHRTtBQWhCQyxJQUFNLFVBQWtDLENBQUMsRUFDOUMsV0FDQSxRQUFRLElBQ1IsU0FBUyxJQUNYO0lBQ0UsT0FDRSx1RUFBQUUsQ0FBQztRQUNDO1FBQ0E7UUFDQSxTQUFRO1FBQ1IsSUFBRztRQUNILE9BQU07UUFDTixZQUFXO1FBQ1gsU0FBUTtRQUNSO1FBRUE7WUFBQSxzRUFBQUYsQ0FBQztnQkFDQyxPQUFPO29CQUFFLE1BQU07Z0JBQVU7Z0JBQ3pCLEdBQUU7WUFBQTtZQUVKLHNFQUFBQSxDQUFDO2dCQUNDLE9BQU87b0JBQUUsTUFBTTtnQkFBVTtnQkFDekIsR0FBRTtZQUFBO1lBRUosc0VBQUFBLENBQUM7Z0JBQVEsT0FBTztvQkFBRSxNQUFNO2dCQUFVO2dCQUFHLFFBQU87WUFBQSxDQUEyQjtZQUN2RSxzRUFBQUEsQ0FBQztnQkFDQyxPQUFPO29CQUFFLE1BQU07Z0JBQVU7Z0JBQ3pCLEdBQUU7WUFBQTtZQUVKLHVFQUFBRSxDQUFDO2dCQUNDO29CQUFBLHNFQUFBRixDQUFDO3dCQUNDLE9BQU87NEJBQUUsTUFBTTt3QkFBVTt3QkFDekIsR0FBRTtvQkFBQTtvQkFFSixzRUFBQUEsQ0FBQzt3QkFDQyxPQUFPOzRCQUFFLE1BQU07d0JBQVU7d0JBQ3pCLEdBQUU7b0JBQUE7b0JBRUosc0VBQUFBLENBQUM7d0JBQ0MsT0FBTzs0QkFBRSxNQUFNO3dCQUFVO3dCQUN6QixHQUFFO29CQUFBO2lCQUNKO1lBQUEsQ0FDRjtZQUNBLHNFQUFBQSxDQUFDO2dCQUNDLE9BQU87b0JBQUUsTUFBTTtnQkFBVTtnQkFDekIsR0FBRTtZQUFBO1NBQ0o7SUFBQTtBQUdOOztBTmRJO0FBcEJHLFNBQVMsYUFBYSxFQUMzQixVQUFBSyxTQUFBQSxFQUNBLFdBQ0EsVUFDRixFQUlHO0lBQ0QsTUFBTSxFQUFFLEtBQUssUUFBUSxJQUFJQTtJQUN6QixNQUFNLFdBQVcsSUFBSSxNQUFNLEdBQUc7SUFDOUIsTUFBTSxXQUFXLFNBQVMsU0FBUyxJQUFJLFNBQVMsU0FBUyxTQUFTLENBQUMsSUFBSTtJQUN2RSxNQUFNLFVBQVUscUNBQVUsTUFBTSxLQUFLO0lBRXJDLE1BQU0sY0FBYztRQUNsQixNQUFNO1FBQ04sTUFBTTtJQUNSO0lBRUEsTUFBTSxpQkFDSix1RUFBQUgsQ0FBQztRQUFJLFdBQVcsWUFBWSxTQUFTO1FBQ25DO1lBQUEsc0VBQUFGLENBQUM7Z0JBQ0MsV0FBVTtnQkFDVixNQUFNO2dCQUNOO1lBQUE7WUFFRixzRUFBQUEsQ0FBQztnQkFBSSxXQUFVO2dCQUNaLGtCQUFRLElBQUksQ0FBQyxNQUFrQixRQUM5QixzRUFBQUEsQ0FBQzt3QkFDQyxnRkFBQUEsQ0FBQzs0QkFBVzs0QkFBWTt3QkFBQSxDQUFjO29CQUFBLEdBRDlCLEtBQUssRUFFZixDQUNEO1lBQUEsQ0FDSDtTQUFBO0lBQUEsQ0FDRjtJQUdGLElBQUksSUFBSSxTQUFTLE1BQU0sR0FBRztRQUV4QixPQUFPLHNFQUFBQSxDQUFDO1lBQVUsWUFBWTtZQUFLO1lBQVUsU0FBUztRQUFBLENBQWdCO0lBQ3hFO0lBRUEsT0FBTyxzRUFBQUEsQ0FBQztRQUFJLFNBQVMsSUFBTSxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQUk7SUFBQSxDQUFlO0FBQ3pFO0FBRUEsU0FBUyxXQUFXLEVBQUUsTUFBTSxNQUFNLEdBQXlDO0lBQ3pFLElBQUksQ0FBQyxLQUFNLFFBQU8sc0VBQUFBLENBQUM7UUFBbUI7SUFBQSxDQUFjO0lBQ3BELE9BQ0UsdUVBQUFFLENBQUMsa0VBQVMsRUFBVDtRQUNDO1lBQUEsc0VBQUFGLENBQUMseUVBQWdCLEVBQWhCO2dCQUNDLFdBQVU7Z0JBQ1YsU0FBUztvQkFDUCxFQUFFLGVBQWU7b0JBQ2pCLEVBQUUsZ0JBQWdCO2dCQUNwQjtnQkFFQSxnRkFBQUEsQ0FBQztvQkFDQztvQkFDQSxXQUFVO2dCQUFBO1lBQ1o7WUFFRixzRUFBQUEsQ0FBQyx5RUFBZ0IsRUFBaEI7Z0JBQWlCLFdBQVU7Z0JBQzFCLGdGQUFBQSxDQUFDO29CQUFTLFVBQVU7Z0JBQUEsQ0FBTTtZQUFBLENBQzVCO1NBQUE7SUFBQSxDQUNGO0FBRUo7QUFFQSxTQUFTLFNBQVMsRUFBRSxTQUFTLEdBQTZCO0lBMUYxRDtJQTJGRSxNQUFNLEVBQUUsVUFBVSxnQkFBZ0IsSUFBSSxtQkFBbUI7UUFBRSxTQUFTO0lBQUssQ0FBQztJQUUxRSxNQUFNO0tBRUgsMEJBQVMsYUFBVCxtQkFBbUIsZ0JBQW5CLGFBQ0EsY0FBUyxhQUFULG1CQUFtQixlQURuQixZQUVEO0lBRUYsT0FDRSx1RUFBQUUsQ0FBQztRQUFJLFdBQVU7UUFDYjtZQUFBLHVFQUFBQSxDQUFDO2dCQUFJLFdBQVU7Z0JBQ2I7b0JBQUEsc0VBQUFGLENBQUM7d0JBQUssV0FBVTt3QkFDYix1QkFBYSxXQUFXLFVBQVUsTUFBTTtvQkFBQSxDQUMzQztvQkFDQyxTQUFTLFFBQ1Isc0VBQUFBLENBQUM7d0JBQ0MsU0FBUzs0QkFDUCxFQUFFLGdCQUFnQjs0QkFDbEIsZ0JBQWdCLFNBQVMsSUFBSTt3QkFDL0I7d0JBQ0EsTUFBSzt3QkFDTCxTQUFRO3dCQUNSLFdBQVU7d0JBRVQscUJBQ0Msc0VBQUFBLENBQUMsK0ZBQUFHLEVBQUE7NEJBQU0sV0FBVTt3QkFBQSxDQUFVLElBRTNCLHNFQUFBSCxDQUFDLGdHQUFBSSxFQUFBOzRCQUFLLFdBQVU7d0JBQUEsQ0FBVTtvQkFBQTtpQkFFOUI7WUFBQSxDQUVKO1lBRUMsU0FBUyxRQUNSLHVFQUFBRixDQUFDO2dCQUFJLFdBQVU7Z0JBQWtEO29CQUFBO29CQUN2RCxTQUFTO29CQUFLO2lCQUFBO1lBQUEsQ0FDeEI7U0FBQTtJQUFBLENBRUo7QUFFSjtBQUVBLElBQU0sY0FBeUQ7SUFDN0QsS0FBSyxzRUFBQUYsQ0FBQyxhQUFVO0lBQ2hCLEtBQUssc0VBQUFBLENBQUMsV0FBUTtJQUNkLE1BQU0sc0VBQUFBLENBQUMsWUFBUztJQUNoQixLQUFLLHNFQUFBQSxDQUFDLFdBQVE7QUFDaEI7QUFFQSxTQUFTLG9CQUFvQixPQVExQjtJQXBKSDtJQXFKRSxNQUFNLEVBQUUsVUFBVSxNQUFNLFVBQVUsSUFBSTtJQUN0QyxPQUNFLHVFQUFBRSxDQUFDO1FBQ0MsV0FBVyxHQUNULDhEQUNBO1FBR0Y7WUFBQSx1RUFBQUEsQ0FBQztnQkFBSSxXQUFVO2dCQUNiO29CQUFBLHNFQUFBRixDQUFDO3dCQUFJLFdBQVU7d0JBQ1osNEJBQVksS0FBSyxLQUFJLEtBQXJCLFlBQTBCLHNFQUFBQSxDQUFDLDRHQUFRLEVBQVIsRUFBUztvQkFBQSxDQUN2QztvQkFDQSx1RUFBQUUsQ0FBQzt3QkFBSSxXQUFVO3dCQUNiOzRCQUFBLHVFQUFBQSxDQUFDO2dDQUFJLFdBQVU7Z0NBQ1o7b0NBQUEsS0FBSztvQ0FBSztvQ0FBRSxLQUFLLE9BQU8sSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDLFNBQVM7aUNBQUE7NEJBQUEsQ0FDdkQ7NEJBQ0MsS0FBSyxRQUNKLHNFQUFBRixDQUFDO2dDQUFJLFdBQVU7Z0NBQ2IsaUZBQUFFLENBQUM7b0NBQU07d0NBQUEsS0FBSyxLQUFLLFlBQVk7d0NBQUU7cUNBQUE7Z0NBQUEsQ0FBSzs0QkFBQSxDQUN0Qzt5QkFBQTtvQkFBQSxDQUVKO2lCQUFBO1lBQUEsQ0FDRjtZQUNDLFlBQ0Msc0VBQUFGLENBQUM7Z0JBQ0MsV0FBVyxHQUNUO2dCQUdGLGdGQUFBQSxDQUFDLDRHQUFXLEVBQVg7b0JBQ0MsV0FBVTtvQkFDVixTQUFTO3dCQUNQLEVBQUUsZ0JBQWdCO3dCQUNsQixTQUFTO29CQUNYO2dCQUFBO1lBQ0Y7U0FDRjtJQUFBO0FBSVI7QUFFQSxTQUFTLEtBQUssTUFBYztJQUMxQixPQUFPLEtBQUssTUFBTyxPQUFPLE9BQVEsRUFBRSxJQUFJO0FBQzFDOztBSmxISTtBQWpFSixJQUFNLHNDQUFxQywyQ0FBQUMsQ0FDekMsMERBQWEsRUFDYixDQUFDLFdBQVcsWUFDVixVQUFVLGFBQWEsVUFBVSxZQUNqQyxVQUFVLGNBQWMsVUFBVTtBQUd0QyxJQUFNLGtCQUFrQixDQUFDO0lBRXZCLE1BQU0sd0JBQXdCLFFBQVEsUUFDcEMsdUJBQ0EsQ0FBQyxHQUFHLFdBQWEsS0FBSyxRQUFRO0lBR2hDLE1BQU0seUJBQXlCLHNCQUFzQixRQUNuRCx1QkFDQSxDQUFDLEdBQUcsV0FBYSxJQUFJLFFBQVE7SUFFL0IsT0FBTztBQUNUO0FBS0EsSUFBTSxzQkFBc0IsQ0FBQyxPQUFlO0lBQzFDLElBQUksVUFBVTtJQUNkLElBQUksU0FBUztRQUNYLE1BQU0sZ0JBQWdCO1FBQ3RCLElBQUk7UUFFSixPQUFRLFFBQVEsY0FBYyxLQUFLLFFBQU8sTUFBTyxLQUFNO1lBQ3JELE1BQU0sYUFBYSxNQUFNLENBQUM7WUFFMUIsTUFBTSxhQUFhLFFBQVEsTUFBTSxLQUFLLFFBQVEsS0FBSyxPQUFPLFVBQVU7WUFFcEUsSUFBSSxlQUFlLFFBQVc7Z0JBQzVCLFVBQVUsUUFBUSxRQUNoQixNQUFNLENBQUMsR0FDUCxhQUFhLFFBQVEsTUFBTSxRQUFRLFVBQVUsQ0FBQztZQUVsRCxPQUFPO2dCQUVMLFVBQVUsUUFBUSxRQUFRLE1BQU0sQ0FBQyxHQUFHLEVBQUU7WUFDeEM7UUFDRjtJQUNGO0lBQ0EsT0FBTztBQUNUO0FBRUEsSUFBTSxvQkFBb0IsQ0FBQyxTQUFpQjtJQUMxQyxPQUFPLG9CQUFvQixnQkFBZ0IsT0FBTyxHQUFHLE9BQU87QUFDOUQ7QUFFTyxTQUFTLFNBQVMsRUFDdkIsU0FDQSxTQUNBLFNBQ0YsRUFJRztJQUNELE1BQU0sbUJBQW1CLGtCQUFrQixTQUFTLE9BQU87SUFFM0QsT0FDRSx1RUFBQUMsQ0FBQztRQUNDO1lBQUEsc0VBQUFGLENBQUM7Z0JBQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFBQTtZQUFBLENBK0VOO1lBQ0Ysc0VBQUFBLENBQUM7Z0JBQ0MsV0FBVTtnQkFDVixlQUFlO29CQUFDLG1EQUFTO29CQUFFLG9EQUFVO2lCQUFBO2dCQUNyQyxlQUFlO29CQUFDLHFEQUFrQjtpQkFBQTtnQkFDbEMsWUFBWTtvQkFDVixHQUFFLEVBQUUsU0FBUyxHQUFHO3dCQUNkLE9BQU8sc0VBQUFBLENBQUM7NEJBQUksV0FBVTs0QkFBa0I7d0JBQUEsQ0FBUztvQkFDbkQ7b0JBQ0EsTUFBSyxJQUEyQzt3QkFBM0MsYUFBRSxVQUFRLFdBQVcsU0F4S3BDLElBd0tlLElBQWtDLGtCQUFsQyxJQUFrQzs0QkFBaEM7NEJBQVE7NEJBQVc7eUJBQUE7d0JBQ3hCLElBQUksU0FBUyxRQUFROzRCQUNuQixJQUFJLFNBQVMsQ0FBQyxNQUFNLFVBQUs7Z0NBQ3ZCLE9BQ0Usc0VBQUFBLENBQUM7b0NBQUssV0FBVTtvQ0FBb0M7Z0NBQUEsQ0FBQzs0QkFFekQ7NEJBRUEsU0FBUyxDQUFDLElBQUssU0FBUyxDQUFDLEVBQWEsUUFBUSxZQUFPLFFBQUc7d0JBQzFEO3dCQUVBLE1BQU0sUUFBUSxpQkFBaUIsS0FBSyxhQUFhLEVBQUU7d0JBRW5ELElBQUksUUFBUTs0QkFDVixPQUNFLHNFQUFBQSxDQUFDO2dDQUFLOzRCQUFBLEdBQTBCLFFBQS9CO2dDQUNFOzRCQUFBLEVBQ0g7d0JBRUo7d0JBRUEsT0FDRSxzRUFBQUEsQ0FBQzs0QkFFQyxVQUFXLFNBQVMsTUFBTSxDQUFDLEtBQU07NEJBQ2pDLE9BQU8sT0FBTyxRQUFRLEVBQUUsUUFBUSxPQUFPLEVBQUU7NEJBQ3pDLFdBQVU7d0JBQUEsR0FDTixRQUpDLEtBQUssT0FBTztvQkFPdkI7b0JBQ0EsR0FBRSxFQUFFLE1BQU0sU0FBUyxHQUFHO3dCQXZNaEM7d0JBeU1ZLElBQUksNkJBQU0sV0FBVyxHQUFHLE9BQU8sZUFBZTs0QkFFNUMsTUFBTSxpQkFBZ0IsVUFBSyxNQUFNLEdBQUcsRUFBRSxLQUFJLEtBQXBCLG1CQUF1Qjs0QkFFN0MsSUFDRSxpQkFDQSxvQkFBb0IsU0FBUyxhQUFpQyxHQUM5RDtnQ0FDQSxPQUNFLHNFQUFBQSxDQUFDO29DQUNDLFVBQVU7d0NBQ1IsS0FBSyxVQUNELElBQUksSUFBSSxtQkFBbUIsSUFBSSxDQUFDLEVBQUUsT0FDbEM7d0NBQ0osU0FBUyxDQUFDO29DQUNaO29DQUNBLFdBQVU7Z0NBQUE7NEJBR2hCO3dCQUNGO3dCQUVBLElBQ0UsTUFBTSxRQUFRLFFBQVEsS0FDdEIsT0FBTyxTQUFTLENBQUMsTUFBTSxZQUN2QixTQUFTLENBQUMsRUFBRSxXQUFXLFdBQVcsR0FDbEM7NEJBQ0EsTUFBTSxRQUFRLE9BQU8sU0FBUyxDQUFDLEVBQUUsUUFBUSxhQUFhLEVBQUUsQ0FBQzs0QkFDekQsSUFBSSxDQUFDLE1BQU0sS0FBSyxHQUFHO2dDQUNqQixPQUFPLHNFQUFBQSxDQUFDO29DQUFtQjtnQ0FBQSxDQUFjOzRCQUMzQzs0QkFFQSxPQUFPO3dCQUNUO3dCQUNBLE9BQ0Usc0VBQUFBLENBQUM7NEJBQUU7NEJBQVksUUFBTzs0QkFBUyxLQUFJOzRCQUNoQzt3QkFBQSxDQUNIO29CQUVKO2dCQUNGO2dCQUVDO1lBQUE7U0FDSDtJQUFBLENBQ0Y7QUFFSjs7QVdyUG1DO0FBQ1o7QUFlbkI7QUFaSixJQUFNLHlCQUFpQiw4Q0FHckIsQ0FBQyxJQUFnQztJQUFoQyxhQUFFLGFBQVcsTUFUaEIsSUFTRyxJQUF1QixrQkFBdkIsSUFBdUI7UUFBckI7UUFBVztLQUFBO0lBQ2QsNkVBQUFBLENBQW1CLDZEQUFsQjtRQUNDO1FBQ0EsV0FBVyxHQUNULGlFQUNBO0lBQ0YsR0FDSSxRQU5MO1FBUUMsZ0ZBQUFBLENBQW1CLGtFQUFsQjtZQUNDLFdBQVU7WUFDVixPQUFPO2dCQUFFLFdBQVcsZUFBZSxPQUFPLFVBQVMsRUFBRTtZQUFLO1FBQUE7SUFDNUQ7QUFDRixDQUNEO0FBQ0QsU0FBUyxjQUFnQyw0REFBSzs7QWYwQnBDO0FBbkNWLElBQU0sYUFBeUM7SUFDN0MsS0FBSyxrRkFBTTtJQUNYLFlBQVksa0ZBQU07SUFDbEIsUUFBUSxrRkFBTTtJQUNkLFVBQVUsa0ZBQU07SUFDaEIsV0FBVyxrRkFBTTtBQUNuQjtBQWlCTyxTQUFTLGdCQUFnQixFQUM5QixNQUNBLFlBQ0YsRUFHRztJQUNELE1BQU0sU0FBUyw4Q0FBTzsyQ0FBQyxJQUFNLG9CQUFvQixJQUFJOzBDQUFHO1FBQUMsSUFBSTtLQUFDO0lBQzlELE9BQ0Usc0VBQUFBLENBQUM7UUFBSSxXQUFVO1FBQ2IsZ0ZBQUFBLENBQUM7WUFBSSxXQUFVO1lBQ1osaUJBQU8sSUFBSSxDQUFDLFdBQVcsUUFDdEIsc0VBQUFBLENBQUM7b0JBRUMsT0FBTztvQkFDUCxRQUFRLFVBQVUsT0FBTyxTQUFTO29CQUNsQztnQkFBQSxHQUhLO1FBS1IsQ0FDSDtJQUFBLENBQ0Y7QUFFSjtBQUVBLElBQU0sa0JBQWtCO0FBRXhCLFNBQVMsWUFBWSxFQUFFLE9BQU8sS0FBSyxHQUFzQztJQUN2RSxNQUFNLEVBQUUsYUFBYSxTQUFTLElBQUksOENBQU87K0JBQ3ZDLEtBQU87Z0JBQ0wsYUFBYSxLQUFLLEtBQUssTUFBTSxHQUFHLGVBQWU7Z0JBQy9DLFVBQVUsS0FBSyxLQUFLLFNBQVM7WUFDL0I7OEJBQ0E7UUFBQyxLQUFLLElBQUk7S0FBQTtJQUdaLE9BQ0UsdUVBQUFFLENBQUM7UUFBSSxXQUFVO1FBQ1o7WUFBQSxDQUFDLFlBQVksc0VBQUFGLENBQUM7Z0JBQU0sZUFBSztZQUFBLENBQUs7WUFDOUIsWUFDQyx1RUFBQUUsQ0FBQztnQkFDQztvQkFBQSx1RUFBQUEsQ0FBQzt3QkFBTTs0QkFBQTs0QkFBWTt5QkFBQTtvQkFBQSxDQUFHO29CQUN0QixzRUFBQUYsQ0FBQzt3QkFBaUIsU0FBUyxLQUFLO3dCQUFNLE9BQU8sVUFBVSxLQUFLO3dCQUMxRCxnRkFBQUEsQ0FBQzs0QkFBSyxXQUFVOzRCQUE4Qzt3QkFBQSxDQUU5RDtvQkFBQSxDQUNGO2lCQUFBO1lBQUEsQ0FDRjtTQUFBO0lBQUEsQ0FFSjtBQUVKO0FBRUEsU0FBUyxnQkFBZ0IsRUFBRSxLQUFLLEdBQTJCO0lBQ3pELE1BQU0sZ0JBQ0osS0FBSyxTQUFTLFVBQVUsSUFDcEIsS0FBSyxPQUFRLEtBQUssU0FBUyxXQUFVLElBQUssS0FBSyxTQUFTLFFBQVMsR0FBRyxJQUNwRTtJQUVOLE9BQ0UsdUVBQUFFLENBQUM7UUFBSSxXQUFVO1FBQ1o7WUFBQSxLQUFLLFFBQ0osc0VBQUFGLENBQUM7Z0JBQUUsV0FBVTtnQkFBaUMsZUFBSztZQUFBLENBQUs7WUFFMUQsc0VBQUFBLENBQUM7Z0JBQVMsT0FBTztnQkFBZSxXQUFVO1lBQUEsQ0FBYTtZQUN2RCx1RUFBQUUsQ0FBQztnQkFBRSxXQUFVO2dCQUFnQztvQkFBQTtvQkFDL0IsS0FBSyxTQUFTLFVBQVU7b0JBQUU7b0JBQUssS0FBSyxTQUFTO29CQUFNO2lCQUFBO1lBQUEsQ0FDakU7U0FBQTtJQUFBLENBQ0Y7QUFFSjtBQUVBLFNBQVMsa0JBQWtCLEVBQ3pCLE9BQ0EsUUFDQSxZQUNGLEVBSUc7SUFDRCxNQUFNLEVBQUUsT0FBTyxNQUFNLElBQUk7SUFDekIsTUFBTSxZQUFZLE1BQU07SUFDeEIsTUFBTSxZQUFZLE1BQU0sT0FBTyxRQUFRLEVBQUUsY0FBYyxNQUFLO0lBQzVELE1BQU0sZ0JBQWdCLE1BQU0sT0FDMUIsUUFBUSxjQUFjO0lBSXhCLE1BQU0sbUJBQ0osY0FBYyxTQUFTLElBQ25CLGNBQWMsY0FBYyxTQUFTLENBQUMsSUFDdEM7SUFFTixPQUNFLHVFQUFBQSxDQUFDO1FBQUksV0FBVTtRQUNiO1lBQUEsdUVBQUFBLENBQUM7Z0JBQUksV0FBVTtnQkFDYjtvQkFBQSx1RUFBQUEsQ0FBQzt3QkFBSSxXQUFVO3dCQUNaOzRCQUFBLFVBQVUsQ0FBQyxjQUNWLHNFQUFBRixDQUFDO2dDQUFJLFdBQVU7Z0NBQ2IsaUZBQUFFLENBQUM7b0NBQUssV0FBVTtvQ0FDZDt3Q0FBQSxzRUFBQUYsQ0FBQzs0Q0FBSyxXQUFVO3dDQUFBLENBQXFGO3dDQUNyRyxzRUFBQUEsQ0FBQzs0Q0FBSyxXQUFVO3dDQUFBLENBQXVEO3FDQUFBO2dDQUFBLENBQ3pFOzRCQUFBLENBQ0Y7NEJBRUYsc0VBQUFBLENBQUMsYUFBVTt5QkFBQTtvQkFBQSxDQUNiO29CQUNBLHNFQUFBQSxDQUFDO3dCQUFLLFdBQVU7d0JBQWE7b0JBQUEsQ0FBTTtpQkFBQTtZQUFBLENBQ3JDO1lBQ0MsVUFBVSxTQUFTLEtBQ2xCLHVFQUFBRSxDQUFDO2dCQUFJLFdBQVU7Z0JBQ2I7b0JBQUEsc0VBQUFGLENBQUM7d0JBQUcsV0FBVTt3QkFDWCxvQkFBVSxJQUFJLENBQUMsTUFBTSxRQUNwQixzRUFBQUEsQ0FBQztnQ0FDQyxnRkFBQUEsQ0FBQztvQ0FBWTtvQ0FBYztnQ0FBQSxDQUFZOzRCQUFBLEdBRGhDLEtBRVQsQ0FDRDtvQkFBQSxDQUNIO29CQUNDLG9CQUFvQixDQUFDLGNBQ3BCLHNFQUFBQSxDQUFDO3dCQUFnQixNQUFNO29CQUFBLENBQWtCO2lCQUFBO1lBQUEsQ0FFN0M7U0FBQTtJQUFBLENBRUo7QUFFSjtBQVFBLFNBQVMsaUJBQWlCLE9BQThCO0lBQ3RELE9BQ0UsdUVBQUFFLENBQUM7UUFBTyxXQUFVO1FBQ2hCO1lBQUEsc0VBQUFGLENBQUM7Z0JBQWMsU0FBTztnQkFBRSxnQkFBTTtZQUFBLENBQVM7WUFDdkMsdUVBQUFFLENBQUM7Z0JBQWMsV0FBVTtnQkFDdkI7b0JBQUEsdUVBQUFBLENBQUM7d0JBQWEsV0FBVTt3QkFDdEI7NEJBQUEsc0VBQUFGLENBQUM7Z0NBQUksV0FBVTtnQ0FDYixnRkFBQUEsQ0FBQztvQ0FBYSxnQkFBTTtnQ0FBQSxDQUFNOzRCQUFBLENBQzVCOzRCQUNBLHNFQUFBQSxDQUFDO2dDQUFZLFNBQU87Z0NBQ2xCLGdGQUFBQSxDQUFDO29DQUFPLFNBQVE7b0NBQVU7Z0NBQUEsQ0FBSzs0QkFBQSxDQUNqQzt5QkFBQTtvQkFBQSxDQUNGO29CQUNBLHNFQUFBQSxDQUFDO3dCQUFJLFdBQVU7d0JBQ2IsZ0ZBQUFBLENBQUM7NEJBQVMsU0FBUyxNQUFNO3dCQUFBLENBQVM7b0JBQUEsQ0FDcEM7aUJBQUE7WUFBQSxDQUNGO1NBQUE7SUFBQSxDQUNGO0FBRUo7QUFFQSxTQUFTLG9CQUFvQixRQUF5QztJQWhNdEU7SUFpTUUsTUFBTSxlQUE4QixDQUFDO0lBRXJDLFdBQVcsU0FBUyxPQUFRO1FBQzFCLE1BQU0sa0JBQWtCLGFBQWEsYUFBYSxTQUFTLENBQUM7UUFFNUQsTUFBTSxZQUFxQyxNQUFNLE9BQzVDO1lBQ0MsTUFBTSxNQUFNO1lBQ1osVUFBVSxNQUFNO1FBQ2xCLElBQ0M7WUFDQyxNQUFNLE1BQU07UUFDZDtRQUVKLElBQUksbUJBQW1CLGdCQUFnQixVQUFVLE1BQU0sT0FBTztZQUM1RCxnQkFBZ0IsTUFBTSxLQUFLLFNBQVM7UUFDdEMsT0FBTztZQUNMLGFBQWEsS0FBSztnQkFDaEIsT0FBTyxNQUFNO2dCQUNiLE9BQU87b0JBQUMsU0FBUztpQkFBQTtnQkFDakIsT0FBTSxnQkFBVyxNQUFNLE1BQU0sWUFBWSxFQUFDLEtBQXBDLFlBQXlDLGtGQUFNO1lBQ3ZELENBQUM7UUFDSDtJQUNGO0lBRUEsT0FBTztBQUNUOztBZ0IzTm1EO0FBQzFCOztBQ0NhO0FBRXRDLElBQU0sY0FBbUM7QUFFekMsSUFBTU8sc0JBQTBDO0FBRWhELElBQU1DLHNCQUEwQzs7QURjNUM7QUFaRyxTQUFTLFdBQVcsRUFDekIsTUFDQSxhQUNGLEVBR0c7SUFDRCxNQUFNLENBQUMsUUFBUSxTQUFTLElBQUksK0NBQUFGLENBQVMsS0FBSztJQUUxQyxNQUFNLGNBQWMsU0FBUyxnQkFBZ0I7SUFFN0MsTUFBTSxZQUFZLFNBQ2hCLHNFQUFBTixDQUFDLDZHQUFXLEVBQVg7UUFBWSxXQUFVO0lBQUEsQ0FBVSxJQUVqQyxzRUFBQUEsQ0FBQyw2R0FBWSxFQUFaO1FBQWEsV0FBVTtJQUFBLENBQVU7SUFHcEMsT0FDRSxzRUFBQUEsQ0FBQztRQUFJLFdBQVU7UUFDYixpRkFBQUUsQ0FBQztZQUFZLE1BQU07WUFBUSxjQUFjO1lBQ3ZDO2dCQUFBLHNFQUFBRixDQUFDTyxxQkFBQTtvQkFBbUIsU0FBTztvQkFDekIsaUZBQUFMLENBQUM7d0JBQU8sU0FBUTt3QkFBWSxXQUFVO3dCQUNuQzs0QkFBQSxjQUFjLHNFQUFBRixDQUFDLDZHQUFPLEVBQVA7Z0NBQVEsV0FBVTs0QkFBQSxDQUF1QixJQUFLOzRCQUM5RCxzRUFBQUEsQ0FBQztnQ0FBTTs0QkFBQSxDQUFZOzRCQUNsQjt5QkFBQTtvQkFBQSxDQUNIO2dCQUFBLENBQ0Y7Z0JBQ0Esc0VBQUFBLENBQUNRLHFCQUFBO29CQUFtQixTQUFPO29CQUN6QixnRkFBQVIsQ0FBQzt3QkFBSSxXQUFVO3dCQUNaLGVBQUssSUFBSSxDQUFDLFdBQVcsUUFDcEIsc0VBQUFBLENBQUM7Z0NBQUksV0FBVTtnQ0FDWixvQkFBVTs0QkFBQSxHQURpQyxLQUU5QyxDQUNEO29CQUFBLENBQ0g7Z0JBQUEsQ0FDRjthQUFBO1FBQUEsQ0FDRjtJQUFBLENBQ0Y7QUFFSjs7QUV6Q1E7QUFMRCxTQUFTLFVBQVUsRUFBRSxLQUFLLEdBQStCO0lBQzlELElBQUksQ0FBQyxLQUFLLE1BQU0sT0FBUSxRQUFPO0lBQy9CLE9BQ0Usc0VBQUFBLENBQUM7UUFBSSxXQUFVO1FBQ1osZUFBSyxNQUFNLElBQUksUUFDZCxzRUFBQUEsQ0FBQztnQkFFQyxVQUFVO29CQUFFLEtBQUssS0FBSztvQkFBSyxTQUFTLENBQUM7Z0JBQUU7Z0JBQ3ZDLFdBQVU7WUFBQSxHQUZMLEtBQUs7SUFJYixDQUNIO0FBRUo7O0FDWE07QUFIQyxTQUFTLFVBQVUsRUFBRSxLQUFLLEdBQXdCO0lBQ3ZELE9BQ0Usc0VBQUFBLENBQUM7UUFBSSxXQUFVO1FBQ2IsZ0ZBQUFBLENBQUM7WUFBSSxLQUFLLEtBQUs7WUFBSyxLQUFJO1lBQWEsV0FBVTtRQUFBLENBQWdCO0lBQUEsQ0FDakU7QUFFSjs7QUNSd0I7QUE2QnBCO0FBcEJHLFNBQVMsWUFBWSxFQUFFLEtBQUssR0FBeUI7SUFDMUQsTUFBTSxZQUF3Qiw4Q0FBQVM7MkNBQVE7WUFFcEMsTUFBTSxhQUEyQyxDQUFDO1lBQ2xELEtBQUssTUFBTTttREFBUTtvQkFidkI7b0JBY00sTUFBTSxNQUFNLEtBQUs7b0JBQ2pCLHdEQUFvQixDQUFDO29CQUNyQixXQUFXLEdBQUcsRUFBRSxLQUFLLElBQUk7Z0JBQzNCLENBQUM7O1lBR0QsT0FBTyxPQUFPLFFBQVEsVUFBVSxFQUFFO21EQUFJLENBQUMsQ0FBQyxLQUFLLE9BQU8sS0FBTzt3QkFDekQ7d0JBQ0E7cUJBQ0Y7O1FBQ0Y7MENBQUc7UUFBQyxLQUFLLEtBQUs7S0FBQztJQUVmLElBQUksVUFBVSxXQUFXLEVBQUcsUUFBTztJQUVuQyxPQUNFLHVFQUFBUCxDQUFDO1FBQUksV0FBVTtRQUNiO1lBQUEsc0VBQUFGLENBQUM7Z0JBQUksV0FBVTtnQkFBd0I7WUFBQSxDQUFRO1lBQy9DLHNFQUFBQSxDQUFDO2dCQUFJLFdBQVU7Z0JBQ1osb0JBQVUsSUFBSSxDQUFBSztvQkFDYixPQUFPLHNFQUFBTCxDQUFDO3dCQUFnQyxVQUFVSztvQkFBQUEsR0FBeEJBLFVBQVMsR0FBeUI7Z0JBQzlELENBQUM7WUFBQSxDQUNIO1NBQUE7SUFBQSxDQUNGO0FBRUo7O0FDekJNO0FBVkMsU0FBUyxtQkFBbUIsRUFDakMsV0FDQSxRQUNGLEVBR0c7SUFDRCxNQUFNLGdCQUFnQixVQUFVLFNBQVM7SUFDekMsT0FDRSxpQkFDRSxzRUFBQUwsQ0FBQztRQUFJLFdBQVU7UUFDWixvQkFBVSxJQUFJLENBQUMsVUFBVSxRQUN4Qix1RUFBQUUsQ0FBQztnQkFFQyxTQUFTO29CQUNQLE9BQU87d0JBQUUsTUFBTTt3QkFBUSxTQUFTO29CQUFTLENBQUM7Z0JBQzVDO2dCQUNBLFdBQVU7Z0JBRVQ7b0JBQUE7b0JBQUs7b0JBQUU7aUJBQUE7WUFBQSxHQU5IO0lBUVIsQ0FDSDtBQUdOOztBQ2ZVO0FBTEgsU0FBUyxpQkFBaUIsT0FBOEI7SUFDN0QsT0FDRSxzRUFBQUYsQ0FBQztRQUFJLFdBQVU7UUFDYixnRkFBQUEsQ0FBQztZQUFJLFdBQVU7WUFDWixnQkFBTSxVQUFVLElBQUksQ0FBQyxVQUFVLElBQzlCLHNFQUFBQSxDQUFDO29CQUVDLFNBQVE7b0JBQ1IsU0FBUyxJQUFNLE1BQU0sT0FBTzs0QkFBRSxNQUFNOzRCQUFRLFNBQVM7d0JBQVMsQ0FBQztvQkFFOUQ7Z0JBQUEsR0FKSTtRQU1SLENBQ0g7SUFBQSxDQUNGO0FBRUo7O0FDeEI0QjtBQVd4QjtBQVJHLFNBQVMsYUFBYSxFQUMzQixLQUNBLFVBQ0YsRUFHRztJQUNELE9BQ0UsdUVBQUFFLENBQUM7UUFBSSxXQUFVO1FBQ2I7WUFBQSxzRUFBQUYsQ0FBQztnQkFDQyxLQUFLO2dCQUNMLEtBQUk7Z0JBQ0osV0FBVTtZQUFBO1lBRVosc0VBQUFBLENBQUM7Z0JBQ0MsV0FBVyxHQUNUO2dCQUdGLGdGQUFBQSxDQUFDLDRHQUFBVSxFQUFBO29CQUNDLFdBQVU7b0JBQ1YsU0FBUztnQkFBQTtZQUNYO1NBQ0Y7SUFBQSxDQUNGO0FBRUo7O0FDN0JtQztBQUNHO0FBb0doQztBQW5GTixJQUFNLG1CQUFtQjtBQUN6QixJQUFNLDBCQUEwQixPQUFPLE9BQU87QUFFdkMsU0FBUyxhQUFhLEVBQzNCLFFBQ0EsY0FDQSxhQUNGLEVBQXNCO0lBekJ0QjtJQTBCRSxNQUFNLENBQUMsV0FBVyxZQUFZLElBQUksK0NBQUFKLENBQVMsS0FBSztJQUNoRCxNQUFNLENBQUMsZ0JBQWdCLGlCQUFpQixJQUFJLCtDQUFBQSxDQUFpQixDQUFDO0lBRTlELE1BQU0scUJBQVUsdUJBQVEsWUFBVztJQUNuQyxNQUFNLGlCQUFnQixpQ0FBUSxrQkFBaUI7SUFDL0MsTUFBTSxvQkFBb0IsaUNBQVE7SUFDbEMsTUFBTSx3QkFBd0IsQ0FBQztRQUM3QixJQUFJLHFCQUFxQixDQUFDLGtCQUFrQixTQUFTLFNBQVMsR0FBRztZQUMvRCxPQUFPLHNFQUFzRSxrQkFBa0IsS0FDN0YsTUFDRDtRQUNIO1FBQ0EsT0FBTztJQUNUO0lBQ0EsTUFBTSxrQkFBaUIsc0NBQVEsbUJBQVIsWUFBMEI7SUFFakQsTUFBTSxxQkFBcUIsQ0FBQztRQUMxQixPQUFPLEtBQUssT0FBTztJQUNyQjtJQUVBLE1BQU0sYUFBYTtRQUNqQixNQUFNLFlBQVksU0FBUyxlQUFlLE9BQU87UUFDakQsVUFBVSxRQUFRO0lBQ3BCO0lBRUEsTUFBTSxlQUFlLENBQU8sSUFBcUM7WUFDL0QsTUFBTSxRQUFRLE1BQU0sS0FBSyxFQUFFLE9BQU8sU0FBUyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLE1BQU0sT0FBUTtZQUVuQixhQUFhLElBQUk7WUFFakIsTUFBTSxhQUFhLEtBQUs7WUFFeEIsV0FBVztZQUNYLGFBQWEsS0FBSztRQUNwQjtJQUVBLE1BQU0sZUFBZSxDQUFPLFFBQWtCO1lBQzVDLE1BQU0sb0JBQW9CLGVBQWUsT0FBTztZQUdoRCxJQUNFLE1BQU0sU0FBUyxLQUNmLE1BQU0sS0FBSyxRQUFRLEtBQUssS0FBSyxXQUFXLFFBQVEsQ0FBQyxHQUNqRDtnQkFDQSxrQkFBa0IsNkNBQTZDO2dCQUMvRDtZQUNGO1lBRUEsV0FBVyxRQUFRLE1BQU87Z0JBQ3hCLE1BQU0sZ0JBQWdCLEtBQUssS0FBSyxNQUFNLEdBQUcsRUFBRSxJQUFJLEtBQUs7Z0JBQ3BELE1BQU0scUJBQXFCLGVBQWUsYUFBYTtnQkFDdkQsSUFBSSxvQkFBb0I7b0JBQ3RCLGtCQUFrQixrQkFBa0I7b0JBQ3BDO2dCQUNGO2dCQUVBLElBQUksbUJBQW1CLElBQUksR0FBRztvQkFDNUIsa0JBQ0UsZ0NBQWdDLGdCQUFnQixPQUFPLElBQUk7b0JBRTdEO2dCQUNGO1lBQ0Y7WUFFQSxrQkFBa0IsTUFBTSxNQUFNO1lBQzlCLFdBQVcsUUFBUSxNQUFPO2dCQUN4QixNQUFNLGFBQWEsSUFBSTtnQkFDdkIsa0JBQWtCLFFBQVEsT0FBTyxDQUFDO1lBQ3BDO1lBQ0Esa0JBQWtCLENBQUM7UUFDckI7SUFFQSxPQUNFLHVFQUFBSixDQUFDO1FBQUksV0FBVTtRQUNiO1lBQUEsc0VBQUFGLENBQUM7Z0JBQ0MsTUFBSztnQkFDTCxJQUFJO2dCQUNKLE9BQU87b0JBQUUsU0FBUztnQkFBTztnQkFDekIsVUFBVTtnQkFDVixRQUFRLHVEQUFtQixLQUFLO2dCQUNoQyxxQkFBVSx1QkFBUSxhQUFZO2dCQUM5QixVQUFVLGlDQUFRO1lBQUE7WUFFcEIsc0VBQUFBLENBQUM7Z0JBQ0MsU0FBUztnQkFDVCxXQUFXLEdBQ1QsZUFBZTtvQkFBRSxTQUFTO29CQUFhLE1BQU07Z0JBQU8sQ0FBQyxHQUNyRCwyQkFDQSxhQUFhO2dCQUdkLHNCQUNDLHVFQUFBRSxDQUFDO29CQUFJLFdBQVU7b0JBQ2I7d0JBQUEsc0VBQUFGLENBQUMsNkdBQUFXLEVBQUE7NEJBQVEsV0FBVTt3QkFBQSxDQUFnQzt3QkFDbEQsaUJBQWlCLEtBQ2hCLHNFQUFBWCxDQUFDOzRCQUFLLFdBQVU7NEJBQ2I7d0JBQUEsQ0FDSDtxQkFBQTtnQkFBQSxDQUVKLElBRUEsc0VBQUFBLENBQUMsOEZBQVMsRUFBVDtvQkFBVSxXQUFVO2dCQUFBLENBQXFCO1lBQUE7U0FFOUM7SUFBQSxDQUNGO0FBRUoiLCJzb3VyY2VzIjpbIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3dpZGdldHMvY2hhdC1hZ2VudC1ldmVudHMudHN4IiwiL2hvbWUva2VuamkvaGFjay1wcm9qZWN0cy90bC1kci9zcmMvdWkvYnV0dG9uLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL2xpYi91dGlscy50cyIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3VpL2RyYXdlci50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy93aWRnZXRzL21hcmtkb3duLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3dpZGdldHMvY29kZWJsb2NrLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL2hvb2svdXNlLWNvcHktdG8tY2xpcGJvYXJkLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL2NoYXQvYW5ub3RhdGlvbi50cyIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3dpZGdldHMvZG9jdW1lbnQtaW5mby50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy93aWRnZXRzL3BkZi1kaWFsb2cudHN4IiwiL2hvbWUva2VuamkvaGFjay1wcm9qZWN0cy90bC1kci9zcmMvd2lkZ2V0cy9zb3VyY2UtbnVtYmVyLWJ1dHRvbi50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy91aS9pY29ucy9kb2N4LnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3VpL2ljb25zL3BkZi50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy91aS9pY29ucy9zaGVldC50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy91aS9pY29ucy90eHQudHN4IiwiL2hvbWUva2VuamkvaGFjay1wcm9qZWN0cy90bC1kci9zcmMvdWkvcHJvZ3Jlc3MudHN4IiwiL2hvbWUva2VuamkvaGFjay1wcm9qZWN0cy90bC1kci9zcmMvd2lkZ2V0cy9jaGF0LWV2ZW50cy50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy91aS9jb2xsYXBzaWJsZS50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy93aWRnZXRzL2NoYXQtZmlsZXMudHN4IiwiL2hvbWUva2VuamkvaGFjay1wcm9qZWN0cy90bC1kci9zcmMvd2lkZ2V0cy9jaGF0LWltYWdlLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3dpZGdldHMvY2hhdC1zb3VyY2VzLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3dpZGdldHMvc3VnZ2VzdGVkLXF1ZXN0aW9ucy50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy93aWRnZXRzL3N0YXJ0ZXItcXVlc3Rpb25zLnRzeCIsIi9ob21lL2tlbmppL2hhY2stcHJvamVjdHMvdGwtZHIvc3JjL3dpZGdldHMvaW1hZ2UtcHJldmlldy50c3giLCIvaG9tZS9rZW5qaS9oYWNrLXByb2plY3RzL3RsLWRyL3NyYy93aWRnZXRzL2ZpbGUtdXBsb2FkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGljb25zLCBMdWNpZGVJY29uIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvYnV0dG9uJ1xuaW1wb3J0IHtcbiAgRHJhd2VyLFxuICBEcmF3ZXJDbG9zZSxcbiAgRHJhd2VyQ29udGVudCxcbiAgRHJhd2VySGVhZGVyLFxuICBEcmF3ZXJUaXRsZSxcbiAgRHJhd2VyVHJpZ2dlcixcbn0gZnJvbSAnLi4vdWkvZHJhd2VyJ1xuaW1wb3J0IHsgTWFya2Rvd24gfSBmcm9tICcuL21hcmtkb3duJ1xuaW1wb3J0IHsgQWdlbnRFdmVudERhdGEsIFByb2dyZXNzRGF0YSB9IGZyb20gJy4uL2NoYXQvYW5ub3RhdGlvbidcbmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSAnLi4vdWkvcHJvZ3Jlc3MnXG5cbmNvbnN0IEFnZW50SWNvbnM6IFJlY29yZDxzdHJpbmcsIEx1Y2lkZUljb24+ID0ge1xuICBib3Q6IGljb25zLkJvdCxcbiAgcmVzZWFyY2hlcjogaWNvbnMuU2NhblNlYXJjaCxcbiAgd3JpdGVyOiBpY29ucy5QZW5MaW5lLFxuICByZXZpZXdlcjogaWNvbnMuTWVzc2FnZUNpcmNsZSxcbiAgcHVibGlzaGVyOiBpY29ucy5Cb29rQ2hlY2ssXG59XG5cbnR5cGUgU3RlcFRleHQgPSB7XG4gIHRleHQ6IHN0cmluZ1xufVxuXG50eXBlIFN0ZXBQcm9ncmVzcyA9IHtcbiAgdGV4dDogc3RyaW5nXG4gIHByb2dyZXNzOiBQcm9ncmVzc0RhdGFcbn1cblxudHlwZSBNZXJnZWRFdmVudCA9IHtcbiAgYWdlbnQ6IHN0cmluZ1xuICBpY29uOiBMdWNpZGVJY29uXG4gIHN0ZXBzOiAoU3RlcFRleHQgfCBTdGVwUHJvZ3Jlc3MpW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRBZ2VudEV2ZW50cyh7XG4gIGRhdGEsXG4gIGlzRmluaXNoZWQsXG59OiB7XG4gIGRhdGE6IEFnZW50RXZlbnREYXRhW11cbiAgaXNGaW5pc2hlZDogYm9vbGVhblxufSkge1xuICBjb25zdCBldmVudHMgPSB1c2VNZW1vKCgpID0+IG1lcmdlQWRqYWNlbnRFdmVudHMoZGF0YSksIFtkYXRhXSlcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInBsLTJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHRleHQtc21cIj5cbiAgICAgICAge2V2ZW50cy5tYXAoKGV2ZW50SXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICA8QWdlbnRFdmVudENvbnRlbnRcbiAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICBldmVudD17ZXZlbnRJdGVtfVxuICAgICAgICAgICAgaXNMYXN0PXtpbmRleCA9PT0gZXZlbnRzLmxlbmd0aCAtIDF9XG4gICAgICAgICAgICBpc0ZpbmlzaGVkPXtpc0ZpbmlzaGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuY29uc3QgTUFYX1RFWFRfTEVOR1RIID0gMTUwXG5cbmZ1bmN0aW9uIFRleHRDb250ZW50KHsgYWdlbnQsIHN0ZXAgfTogeyBhZ2VudDogc3RyaW5nOyBzdGVwOiBTdGVwVGV4dCB9KSB7XG4gIGNvbnN0IHsgZGlzcGxheVRleHQsIHNob3dNb3JlIH0gPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBkaXNwbGF5VGV4dDogc3RlcC50ZXh0LnNsaWNlKDAsIE1BWF9URVhUX0xFTkdUSCksXG4gICAgICBzaG93TW9yZTogc3RlcC50ZXh0Lmxlbmd0aCA+IE1BWF9URVhUX0xFTkdUSCxcbiAgICB9KSxcbiAgICBbc3RlcC50ZXh0XVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtYnJlYWstc3BhY2VzXCI+XG4gICAgICB7IXNob3dNb3JlICYmIDxzcGFuPntzdGVwLnRleHR9PC9zcGFuPn1cbiAgICAgIHtzaG93TW9yZSAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHNwYW4+e2Rpc3BsYXlUZXh0fS4uLjwvc3Bhbj5cbiAgICAgICAgICA8QWdlbnRFdmVudERpYWxvZyBjb250ZW50PXtzdGVwLnRleHR9IHRpdGxlPXtgQWdlbnQgXCIke2FnZW50fVwiYH0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIGN1cnNvci1wb2ludGVyIGZvbnQtc2VtaWJvbGQgdW5kZXJsaW5lXCI+XG4gICAgICAgICAgICAgIFNob3cgbW9yZVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvQWdlbnRFdmVudERpYWxvZz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmZ1bmN0aW9uIFByb2dyZXNzQ29udGVudCh7IHN0ZXAgfTogeyBzdGVwOiBTdGVwUHJvZ3Jlc3MgfSkge1xuICBjb25zdCBwcm9ncmVzc1ZhbHVlID1cbiAgICBzdGVwLnByb2dyZXNzLnRvdGFsICE9PSAwXG4gICAgICA/IE1hdGgucm91bmQoKChzdGVwLnByb2dyZXNzLmN1cnJlbnQgKyAxKSAvIHN0ZXAucHJvZ3Jlc3MudG90YWwpICogMTAwKVxuICAgICAgOiAwXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0yXCI+XG4gICAgICB7c3RlcC50ZXh0ICYmIChcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc21cIj57c3RlcC50ZXh0fTwvcD5cbiAgICAgICl9XG4gICAgICA8UHJvZ3Jlc3MgdmFsdWU9e3Byb2dyZXNzVmFsdWV9IGNsYXNzTmFtZT1cImgtMiB3LWZ1bGxcIiAvPlxuICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc21cIj5cbiAgICAgICAgUHJvY2Vzc2luZyB7c3RlcC5wcm9ncmVzcy5jdXJyZW50ICsgMX0gb2Yge3N0ZXAucHJvZ3Jlc3MudG90YWx9IHN0ZXBzLi4uXG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gQWdlbnRFdmVudENvbnRlbnQoe1xuICBldmVudCxcbiAgaXNMYXN0LFxuICBpc0ZpbmlzaGVkLFxufToge1xuICBldmVudDogTWVyZ2VkRXZlbnRcbiAgaXNMYXN0OiBib29sZWFuXG4gIGlzRmluaXNoZWQ6IGJvb2xlYW5cbn0pIHtcbiAgY29uc3QgeyBhZ2VudCwgc3RlcHMgfSA9IGV2ZW50XG4gIGNvbnN0IEFnZW50SWNvbiA9IGV2ZW50Lmljb25cbiAgY29uc3QgdGV4dFN0ZXBzID0gc3RlcHMuZmlsdGVyKHN0ZXAgPT4gISgncHJvZ3Jlc3MnIGluIHN0ZXApKVxuICBjb25zdCBwcm9ncmVzc1N0ZXBzID0gc3RlcHMuZmlsdGVyKFxuICAgIHN0ZXAgPT4gJ3Byb2dyZXNzJyBpbiBzdGVwXG4gICkgYXMgU3RlcFByb2dyZXNzW11cbiAgLy8gV2Ugb25seSBzaG93IHByb2dyZXNzIGF0IHRoZSBsYXN0IHN0ZXBcbiAgLy8gVE9ETzogb25jZSB3ZSBzdXBwb3J0IHN0ZXBzIHRoYXQgd29yayBpbiBwYXJhbGxlbCwgd2UgbmVlZCB0byB1cGRhdGUgdGhpc1xuICBjb25zdCBsYXN0UHJvZ3Jlc3NTdGVwID1cbiAgICBwcm9ncmVzc1N0ZXBzLmxlbmd0aCA+IDBcbiAgICAgID8gcHJvZ3Jlc3NTdGVwc1twcm9ncmVzc1N0ZXBzLmxlbmd0aCAtIDFdXG4gICAgICA6IHVuZGVmaW5lZFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmYWRlaW4tYWdlbnQgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgYm9yZGVyLWIgcGItNFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctWzEwMHB4XSBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgIHtpc0xhc3QgJiYgIWlzRmluaXNoZWQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtcmlnaHQtNCAtdG9wLTBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleCBoLTMgdy0zXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5saW5lLWZsZXggaC1mdWxsIHctZnVsbCBhbmltYXRlLXBpbmcgcm91bmRlZC1mdWxsIGJnLXNreS00MDAgb3BhY2l0eS03NVwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVsYXRpdmUgaW5saW5lLWZsZXggaC0zIHctMyByb3VuZGVkLWZ1bGwgYmctc2t5LTUwMFwiIC8+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPEFnZW50SWNvbiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+e2FnZW50fTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICAge3RleHRTdGVwcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibGlzdC1kZWNpbWFsIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAge3RleHRTdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICA8VGV4dENvbnRlbnQgYWdlbnQ9e2FnZW50fSBzdGVwPXtzdGVwfSAvPlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgICB7bGFzdFByb2dyZXNzU3RlcCAmJiAhaXNGaW5pc2hlZCAmJiAoXG4gICAgICAgICAgICA8UHJvZ3Jlc3NDb250ZW50IHN0ZXA9e2xhc3RQcm9ncmVzc1N0ZXB9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG5cbnR5cGUgQWdlbnRFdmVudERpYWxvZ1Byb3BzID0ge1xuICB0aXRsZTogc3RyaW5nXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG59XG5cbmZ1bmN0aW9uIEFnZW50RXZlbnREaWFsb2cocHJvcHM6IEFnZW50RXZlbnREaWFsb2dQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxEcmF3ZXIgZGlyZWN0aW9uPVwibGVmdFwiPlxuICAgICAgPERyYXdlclRyaWdnZXIgYXNDaGlsZD57cHJvcHMuY2hpbGRyZW59PC9EcmF3ZXJUcmlnZ2VyPlxuICAgICAgPERyYXdlckNvbnRlbnQgY2xhc3NOYW1lPVwibXQtMjQgaC1mdWxsIG1heC1oLVs5NiVdIHctMy81IFwiPlxuICAgICAgICA8RHJhd2VySGVhZGVyIGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxEcmF3ZXJUaXRsZT57cHJvcHMudGl0bGV9PC9EcmF3ZXJUaXRsZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8RHJhd2VyQ2xvc2UgYXNDaGlsZD5cbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIj5DbG9zZTwvQnV0dG9uPlxuICAgICAgICAgIDwvRHJhd2VyQ2xvc2U+XG4gICAgICAgIDwvRHJhd2VySGVhZGVyPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm0tNCBvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgICAgPE1hcmtkb3duIGNvbnRlbnQ9e3Byb3BzLmNvbnRlbnR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9EcmF3ZXJDb250ZW50PlxuICAgIDwvRHJhd2VyPlxuICApXG59XG5cbmZ1bmN0aW9uIG1lcmdlQWRqYWNlbnRFdmVudHMoZXZlbnRzOiBBZ2VudEV2ZW50RGF0YVtdKTogTWVyZ2VkRXZlbnRbXSB7XG4gIGNvbnN0IG1lcmdlZEV2ZW50czogTWVyZ2VkRXZlbnRbXSA9IFtdXG5cbiAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHMpIHtcbiAgICBjb25zdCBsYXN0TWVyZ2VkRXZlbnQgPSBtZXJnZWRFdmVudHNbbWVyZ2VkRXZlbnRzLmxlbmd0aCAtIDFdXG5cbiAgICBjb25zdCBldmVudFN0ZXA6IFN0ZXBUZXh0IHwgU3RlcFByb2dyZXNzID0gZXZlbnQuZGF0YVxuICAgICAgPyAoe1xuICAgICAgICAgIHRleHQ6IGV2ZW50LnRleHQsXG4gICAgICAgICAgcHJvZ3Jlc3M6IGV2ZW50LmRhdGEsXG4gICAgICAgIH0gYXMgU3RlcFByb2dyZXNzKVxuICAgICAgOiAoe1xuICAgICAgICAgIHRleHQ6IGV2ZW50LnRleHQsXG4gICAgICAgIH0gYXMgU3RlcFRleHQpXG5cbiAgICBpZiAobGFzdE1lcmdlZEV2ZW50ICYmIGxhc3RNZXJnZWRFdmVudC5hZ2VudCA9PT0gZXZlbnQuYWdlbnQpIHtcbiAgICAgIGxhc3RNZXJnZWRFdmVudC5zdGVwcy5wdXNoKGV2ZW50U3RlcClcbiAgICB9IGVsc2Uge1xuICAgICAgbWVyZ2VkRXZlbnRzLnB1c2goe1xuICAgICAgICBhZ2VudDogZXZlbnQuYWdlbnQsXG4gICAgICAgIHN0ZXBzOiBbZXZlbnRTdGVwXSxcbiAgICAgICAgaWNvbjogQWdlbnRJY29uc1tldmVudC5hZ2VudC50b0xvd2VyQ2FzZSgpXSA/PyBpY29ucy5Cb3QsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZXJnZWRFdmVudHNcbn1cbiIsImltcG9ydCB7IFNsb3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3Qtc2xvdCdcbmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNuIH0gZnJvbSAnLi4vbGliL3V0aWxzJ1xuXG5jb25zdCBidXR0b25WYXJpYW50cyA9IGN2YShcbiAgJ2lubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gcmluZy1vZmZzZXQtYmFja2dyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwJyxcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6ICdiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXByaW1hcnkvOTAnLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICAnYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIGhvdmVyOmJnLWRlc3RydWN0aXZlLzkwJyxcbiAgICAgICAgb3V0bGluZTpcbiAgICAgICAgICAnYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIGhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kJyxcbiAgICAgICAgc2Vjb25kYXJ5OlxuICAgICAgICAgICdiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1zZWNvbmRhcnkvODAnLFxuICAgICAgICBnaG9zdDogJ2hvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kJyxcbiAgICAgICAgbGluazogJ3RleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lJyxcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIGRlZmF1bHQ6ICdoLTEwIHB4LTQgcHktMicsXG4gICAgICAgIHNtOiAnaC05IHJvdW5kZWQtbWQgcHgtMycsXG4gICAgICAgIGxnOiAnaC0xMSByb3VuZGVkLW1kIHB4LTgnLFxuICAgICAgICBpY29uOiAnaC0xMCB3LTEwJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6ICdkZWZhdWx0JyxcbiAgICAgIHNpemU6ICdkZWZhdWx0JyxcbiAgICB9LFxuICB9XG4pXG5cbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uUHJvcHNcbiAgZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4sXG4gICAgVmFyaWFudFByb3BzPHR5cGVvZiBidXR0b25WYXJpYW50cz4ge1xuICBhc0NoaWxkPzogYm9vbGVhblxufVxuXG5jb25zdCBCdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oXG4gICh7IGNsYXNzTmFtZSwgdmFyaWFudCwgc2l6ZSwgYXNDaGlsZCA9IGZhbHNlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QgOiAnYnV0dG9uJ1xuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG4pXG5CdXR0b24uZGlzcGxheU5hbWUgPSAnQnV0dG9uJ1xuXG5leHBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH1cbiIsImltcG9ydCB7IGNsc3gsIHR5cGUgQ2xhc3NWYWx1ZSB9IGZyb20gJ2Nsc3gnXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSAndGFpbHdpbmQtbWVyZ2UnXG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXG59XG4iLCIndXNlIGNsaWVudCdcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBEcmF3ZXIgYXMgRHJhd2VyUHJpbWl0aXZlIH0gZnJvbSAndmF1bCdcbmltcG9ydCB7IGNuIH0gZnJvbSAnLi4vbGliL3V0aWxzJ1xuXG5jb25zdCBEcmF3ZXIgPSAoe1xuICBzaG91bGRTY2FsZUJhY2tncm91bmQgPSB0cnVlLFxuICAuLi5wcm9wc1xufTogUmVhY3QuQ29tcG9uZW50UHJvcHM8dHlwZW9mIERyYXdlclByaW1pdGl2ZS5Sb290PikgPT4gKFxuICA8RHJhd2VyUHJpbWl0aXZlLlJvb3RcbiAgICBzaG91bGRTY2FsZUJhY2tncm91bmQ9e3Nob3VsZFNjYWxlQmFja2dyb3VuZH1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pXG5EcmF3ZXIuZGlzcGxheU5hbWUgPSAnRHJhd2VyJ1xuXG5jb25zdCBEcmF3ZXJUcmlnZ2VyOiB0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLlRyaWdnZXIgPSBEcmF3ZXJQcmltaXRpdmUuVHJpZ2dlclxuXG5jb25zdCBEcmF3ZXJQb3J0YWw6IHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuUG9ydGFsID0gRHJhd2VyUHJpbWl0aXZlLlBvcnRhbFxuXG5jb25zdCBEcmF3ZXJDbG9zZTogdHlwZW9mIERyYXdlclByaW1pdGl2ZS5DbG9zZSA9IERyYXdlclByaW1pdGl2ZS5DbG9zZVxuXG5jb25zdCBEcmF3ZXJPdmVybGF5OiB0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLk92ZXJsYXkgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuT3ZlcmxheT4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLk92ZXJsYXk+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxEcmF3ZXJQcmltaXRpdmUuT3ZlcmxheVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oJ2ZpeGVkIGluc2V0LTAgei01MCBiZy1ibGFjay84MCcsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkRyYXdlck92ZXJsYXkuZGlzcGxheU5hbWUgPSBEcmF3ZXJQcmltaXRpdmUuT3ZlcmxheS5kaXNwbGF5TmFtZVxuXG5jb25zdCBEcmF3ZXJDb250ZW50OiB0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLkNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuQ29udGVudD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLkNvbnRlbnQ+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJhd2VyUG9ydGFsPlxuICAgIDxEcmF3ZXJPdmVybGF5IC8+XG4gICAgPERyYXdlclByaW1pdGl2ZS5Db250ZW50XG4gICAgICByZWY9e3JlZn1cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICdiZy1iYWNrZ3JvdW5kIGZpeGVkIGluc2V0LXgtMCBib3R0b20tMCB6LTUwIG10LTI0IGZsZXggaC1hdXRvIGZsZXgtY29sIHJvdW5kZWQtdC1bMTBweF0gYm9yZGVyJyxcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApfVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctbXV0ZWQgbXgtYXV0byBtdC00IGgtMiB3LVsxMDBweF0gcm91bmRlZC1mdWxsXCIgLz5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0RyYXdlclByaW1pdGl2ZS5Db250ZW50PlxuICA8L0RyYXdlclBvcnRhbD5cbikpXG5EcmF3ZXJDb250ZW50LmRpc3BsYXlOYW1lID0gJ0RyYXdlckNvbnRlbnQnXG5cbmNvbnN0IERyYXdlckhlYWRlciA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PikgPT4gKFxuICA8ZGl2XG4gICAgY2xhc3NOYW1lPXtjbignZ3JpZCBnYXAtMS41IHAtNCB0ZXh0LWNlbnRlciBzbTp0ZXh0LWxlZnQnLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbilcbkRyYXdlckhlYWRlci5kaXNwbGF5TmFtZSA9ICdEcmF3ZXJIZWFkZXInXG5cbmNvbnN0IERyYXdlckZvb3RlciA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PikgPT4gKFxuICA8ZGl2XG4gICAgY2xhc3NOYW1lPXtjbignbXQtYXV0byBmbGV4IGZsZXgtY29sIGdhcC0yIHAtNCcsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKVxuRHJhd2VyRm9vdGVyLmRpc3BsYXlOYW1lID0gJ0RyYXdlckZvb3RlcidcblxuY29uc3QgRHJhd2VyVGl0bGU6IHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuVGl0bGUgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcmF3ZXJQcmltaXRpdmUuVGl0bGU+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyYXdlclByaW1pdGl2ZS5UaXRsZT5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyYXdlclByaW1pdGl2ZS5UaXRsZVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAndGV4dC1sZyBmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodCcsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5EcmF3ZXJUaXRsZS5kaXNwbGF5TmFtZSA9IERyYXdlclByaW1pdGl2ZS5UaXRsZS5kaXNwbGF5TmFtZVxuXG5jb25zdCBEcmF3ZXJEZXNjcmlwdGlvbjogdHlwZW9mIERyYXdlclByaW1pdGl2ZS5EZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyYXdlclByaW1pdGl2ZS5EZXNjcmlwdGlvbj4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJhd2VyUHJpbWl0aXZlLkRlc2NyaXB0aW9uPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJhd2VyUHJpbWl0aXZlLkRlc2NyaXB0aW9uXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbigndGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc20nLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5EcmF3ZXJEZXNjcmlwdGlvbi5kaXNwbGF5TmFtZSA9IERyYXdlclByaW1pdGl2ZS5EZXNjcmlwdGlvbi5kaXNwbGF5TmFtZVxuXG5leHBvcnQge1xuICBEcmF3ZXIsXG4gIERyYXdlckNsb3NlLFxuICBEcmF3ZXJDb250ZW50LFxuICBEcmF3ZXJEZXNjcmlwdGlvbixcbiAgRHJhd2VyRm9vdGVyLFxuICBEcmF3ZXJIZWFkZXIsXG4gIERyYXdlck92ZXJsYXksXG4gIERyYXdlclBvcnRhbCxcbiAgRHJhd2VyVGl0bGUsXG4gIERyYXdlclRyaWdnZXIsXG59XG4iLCJpbXBvcnQgeyBGQywgbWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFJlYWN0TWFya2Rvd24sIHsgT3B0aW9ucyB9IGZyb20gJ3JlYWN0LW1hcmtkb3duJ1xuaW1wb3J0IHJlaHlwZUthdGV4IGZyb20gJ3JlaHlwZS1rYXRleCdcbmltcG9ydCByZW1hcmtHZm0gZnJvbSAncmVtYXJrLWdmbSdcbmltcG9ydCByZW1hcmtNYXRoIGZyb20gJ3JlbWFyay1tYXRoJ1xuaW1wb3J0IHsgQ29kZUJsb2NrIH0gZnJvbSAnLi9jb2RlYmxvY2snXG5pbXBvcnQge1xuICBET0NVTUVOVF9GSUxFX1RZUEVTLFxuICBEb2N1bWVudEZpbGVUeXBlLFxuICBTb3VyY2VEYXRhLFxufSBmcm9tICcuLi9jaGF0L2Fubm90YXRpb24nXG5pbXBvcnQgeyBEb2N1bWVudEluZm8gfSBmcm9tICcuL2RvY3VtZW50LWluZm8nXG5pbXBvcnQgeyBTb3VyY2VOdW1iZXJCdXR0b24gfSBmcm9tICcuL3NvdXJjZS1udW1iZXItYnV0dG9uJ1xuXG5jb25zdCBNZW1vaXplZFJlYWN0TWFya2Rvd246IEZDPE9wdGlvbnM+ID0gbWVtbyhcbiAgUmVhY3RNYXJrZG93bixcbiAgKHByZXZQcm9wcywgbmV4dFByb3BzKSA9PlxuICAgIHByZXZQcm9wcy5jaGlsZHJlbiA9PT0gbmV4dFByb3BzLmNoaWxkcmVuICYmXG4gICAgcHJldlByb3BzLmNsYXNzTmFtZSA9PT0gbmV4dFByb3BzLmNsYXNzTmFtZVxuKVxuXG5jb25zdCBwcmVwcm9jZXNzTGFUZVggPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gIC8vIFJlcGxhY2UgYmxvY2stbGV2ZWwgTGFUZVggZGVsaW1pdGVycyBcXFsgXFxdIHdpdGggJCQgJCRcbiAgY29uc3QgYmxvY2tQcm9jZXNzZWRDb250ZW50ID0gY29udGVudC5yZXBsYWNlKFxuICAgIC9cXFxcXFxbKFtcXHNcXFNdKj8pXFxcXFxcXS9nLFxuICAgIChfLCBlcXVhdGlvbikgPT4gYCQkJHtlcXVhdGlvbn0kJGBcbiAgKVxuICAvLyBSZXBsYWNlIGlubGluZSBMYVRlWCBkZWxpbWl0ZXJzIFxcKCBcXCkgd2l0aCAkICRcbiAgY29uc3QgaW5saW5lUHJvY2Vzc2VkQ29udGVudCA9IGJsb2NrUHJvY2Vzc2VkQ29udGVudC5yZXBsYWNlKFxuICAgIC9cXFxcXFxbKFtcXHNcXFNdKj8pXFxcXFxcXS9nLFxuICAgIChfLCBlcXVhdGlvbikgPT4gYCQke2VxdWF0aW9ufSRgXG4gIClcbiAgcmV0dXJuIGlubGluZVByb2Nlc3NlZENvbnRlbnRcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNpdGF0aW9uIGZsYWcgW2NpdGF0aW9uOmlkXSgpIHRvIHRoZSBuZXcgZm9ybWF0IFtjaXRhdGlvbjppbmRleF0odXJsKVxuICovXG5jb25zdCBwcmVwcm9jZXNzQ2l0YXRpb25zID0gKGlucHV0OiBzdHJpbmcsIHNvdXJjZXM/OiBTb3VyY2VEYXRhKSA9PiB7XG4gIGxldCBjb250ZW50ID0gaW5wdXRcbiAgaWYgKHNvdXJjZXMpIHtcbiAgICBjb25zdCBjaXRhdGlvblJlZ2V4ID0gL1xcW2NpdGF0aW9uOiguKz8pXFxdXFwoXFwpL2dcbiAgICBsZXQgbWF0Y2hcbiAgICAvLyBGaW5kIGFsbCB0aGUgY2l0YXRpb24gcmVmZXJlbmNlcyBpbiB0aGUgY29udGVudFxuICAgIHdoaWxlICgobWF0Y2ggPSBjaXRhdGlvblJlZ2V4LmV4ZWMoY29udGVudCkpICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBjaXRhdGlvbklkID0gbWF0Y2hbMV1cbiAgICAgIC8vIEZpbmQgdGhlIHNvdXJjZSBub2RlIHdpdGggdGhlIGlkIGVxdWFsIHRvIHRoZSBjaXRhdGlvbi1pZCwgYWxzbyBnZXQgdGhlIGluZGV4IG9mIHRoZSBzb3VyY2Ugbm9kZVxuICAgICAgY29uc3Qgc291cmNlTm9kZSA9IHNvdXJjZXMubm9kZXMuZmluZChub2RlID0+IG5vZGUuaWQgPT09IGNpdGF0aW9uSWQpXG4gICAgICAvLyBJZiB0aGUgc291cmNlIG5vZGUgaXMgZm91bmQsIHJlcGxhY2UgdGhlIGNpdGF0aW9uIHJlZmVyZW5jZSB3aXRoIHRoZSBuZXcgZm9ybWF0XG4gICAgICBpZiAoc291cmNlTm9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoXG4gICAgICAgICAgbWF0Y2hbMF0sXG4gICAgICAgICAgYFtjaXRhdGlvbjoke3NvdXJjZXMubm9kZXMuaW5kZXhPZihzb3VyY2VOb2RlKX1dKClgXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBzb3VyY2Ugbm9kZSBpcyBub3QgZm91bmQsIHJlbW92ZSB0aGUgY2l0YXRpb24gcmVmZXJlbmNlXG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UobWF0Y2hbMF0sICcnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29udGVudFxufVxuXG5jb25zdCBwcmVwcm9jZXNzQ29udGVudCA9IChjb250ZW50OiBzdHJpbmcsIHNvdXJjZXM/OiBTb3VyY2VEYXRhKSA9PiB7XG4gIHJldHVybiBwcmVwcm9jZXNzQ2l0YXRpb25zKHByZXByb2Nlc3NMYVRlWChjb250ZW50KSwgc291cmNlcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE1hcmtkb3duKHtcbiAgY29udGVudCxcbiAgc291cmNlcyxcbiAgYmFja2VuZCxcbn06IHtcbiAgY29udGVudDogc3RyaW5nXG4gIHNvdXJjZXM/OiBTb3VyY2VEYXRhXG4gIGJhY2tlbmQ/OiBzdHJpbmdcbn0pIHtcbiAgY29uc3QgcHJvY2Vzc2VkQ29udGVudCA9IHByZXByb2Nlc3NDb250ZW50KGNvbnRlbnQsIHNvdXJjZXMpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPHN0eWxlPntgXG4gICAgICAgIC5jdXN0b20tbWFya2Rvd24gdWwge1xuICAgICAgICAgIGxpc3Qtc3R5bGUtdHlwZTogZGlzYztcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgIH1cblxuICAgICAgICAuY3VzdG9tLW1hcmtkb3duIG9sIHtcbiAgICAgICAgICBsaXN0LXN0eWxlLXR5cGU6IGRlY2ltYWw7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBsaSB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBvbCBvbCB7XG4gICAgICAgICAgbGlzdC1zdHlsZTogbG93ZXItYWxwaGE7XG4gICAgICAgIH1cblxuICAgICAgICAuY3VzdG9tLW1hcmtkb3duIHVsIHVsLFxuICAgICAgICAuY3VzdG9tLW1hcmtkb3duIG9sIG9sIHtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jdXN0b20tbWFya2Rvd24gaW1nIHtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBhIHtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgICBjb2xvcjogIzAwN2JmZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jdXN0b20tbWFya2Rvd24gaDEsXG4gICAgICAgIGgyLFxuICAgICAgICBoMyxcbiAgICAgICAgaDQsXG4gICAgICAgIGg1LFxuICAgICAgICBoNiB7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBoNiB7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBoNSB7XG4gICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBoNCB7XG4gICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBoMyB7XG4gICAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBoMiB7XG4gICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBoMSB7XG4gICAgICAgICAgZm9udC1zaXplOiAyNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmN1c3RvbS1tYXJrZG93biBociB7XG4gICAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTFlNGU4O1xuICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgICA8TWVtb2l6ZWRSZWFjdE1hcmtkb3duXG4gICAgICAgIGNsYXNzTmFtZT1cInByb3NlIGRhcms6cHJvc2UtaW52ZXJ0IHByb3NlLXA6bGVhZGluZy1yZWxheGVkIHByb3NlLXByZTpwLTAgY3VzdG9tLW1hcmtkb3duIGJyZWFrLXdvcmRzXCJcbiAgICAgICAgcmVtYXJrUGx1Z2lucz17W3JlbWFya0dmbSwgcmVtYXJrTWF0aF19XG4gICAgICAgIHJlaHlwZVBsdWdpbnM9e1tyZWh5cGVLYXRleCBhcyBhbnldfVxuICAgICAgICBjb21wb25lbnRzPXt7XG4gICAgICAgICAgcCh7IGNoaWxkcmVuIH0pIHtcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgbGFzdDptYi0wXCI+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgICAgIH0sXG4gICAgICAgICAgY29kZSh7IGlubGluZSwgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5bMF0gPT09ICfilo0nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm10LTEgYW5pbWF0ZS1wdWxzZSBjdXJzb3ItZGVmYXVsdFwiPuKWjTwvc3Bhbj5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjaGlsZHJlblswXSA9IChjaGlsZHJlblswXSBhcyBzdHJpbmcpLnJlcGxhY2UoJ2Dilo1gJywgJ+KWjScpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gL2xhbmd1YWdlLShcXHcrKS8uZXhlYyhjbGFzc05hbWUgfHwgJycpXG5cbiAgICAgICAgICAgIGlmIChpbmxpbmUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Y29kZSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gey4uLnByb3BzfT5cbiAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2NvZGU+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPENvZGVCbG9ja1xuICAgICAgICAgICAgICAgIGtleT17TWF0aC5yYW5kb20oKX1cbiAgICAgICAgICAgICAgICBsYW5ndWFnZT17KG1hdGNoICYmIG1hdGNoWzFdKSB8fCAnJ31cbiAgICAgICAgICAgICAgICB2YWx1ZT17U3RyaW5nKGNoaWxkcmVuKS5yZXBsYWNlKC9cXG4kLywgJycpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTJcIlxuICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGEoeyBocmVmLCBjaGlsZHJlbiB9KSB7XG4gICAgICAgICAgICAvLyBJZiBocmVmIHN0YXJ0cyB3aXRoIGB7YmFja2VuZH0vYXBpL2ZpbGVzYCwgdGhlbiBpdCdzIGEgbG9jYWwgZG9jdW1lbnQgYW5kIHdlIHVzZSBEb2N1bWVuSW5mbyBmb3IgcmVuZGVyaW5nXG4gICAgICAgICAgICBpZiAoaHJlZj8uc3RhcnRzV2l0aChgJHtiYWNrZW5kfS9hcGkvZmlsZXNgKSkge1xuICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZmlsZSBpcyBkb2N1bWVudCBmaWxlIHR5cGVcbiAgICAgICAgICAgICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGhyZWYuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKVxuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBmaWxlRXh0ZW5zaW9uICYmXG4gICAgICAgICAgICAgICAgRE9DVU1FTlRfRklMRV9UWVBFUy5pbmNsdWRlcyhmaWxlRXh0ZW5zaW9uIGFzIERvY3VtZW50RmlsZVR5cGUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8RG9jdW1lbnRJbmZvXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50PXt7XG4gICAgICAgICAgICAgICAgICAgICAgdXJsOiBiYWNrZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBVUkwoZGVjb2RlVVJJQ29tcG9uZW50KGhyZWYpKS5ocmVmXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGhyZWYsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTIgbXQtMlwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgYSB0ZXh0IGxpbmsgc3RhcnRzIHdpdGggJ2NpdGF0aW9uOicsIHRoZW4gcmVuZGVyIGl0IGFzIGEgY2l0YXRpb24gcmVmZXJlbmNlXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBjaGlsZHJlblswXSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgY2hpbGRyZW5bMF0uc3RhcnRzV2l0aCgnY2l0YXRpb246JylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IE51bWJlcihjaGlsZHJlblswXS5yZXBsYWNlKCdjaXRhdGlvbjonLCAnJykpXG4gICAgICAgICAgICAgIGlmICghaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxTb3VyY2VOdW1iZXJCdXR0b24gaW5kZXg9e2luZGV4fSAvPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIGNpdGF0aW9uIGlzIG5vdCBsb29rZWQgdXAgeWV0LCBkb24ndCByZW5kZXIgYW55dGhpbmdcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxhIGhyZWY9e2hyZWZ9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyXCI+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge3Byb2Nlc3NlZENvbnRlbnR9XG4gICAgICA8L01lbW9pemVkUmVhY3RNYXJrZG93bj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IGhsanMgZnJvbSAnaGlnaGxpZ2h0LmpzJ1xuaW1wb3J0IHsgQ2hlY2ssIENvcHksIERvd25sb2FkIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgRkMsIG1lbW8sIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9idXR0b24nXG5pbXBvcnQgeyB1c2VDb3B5VG9DbGlwYm9hcmQgfSBmcm9tICcuLi9ob29rL3VzZS1jb3B5LXRvLWNsaXBib2FyZCdcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGFuZ3VhZ2U6IHN0cmluZ1xuICB2YWx1ZTogc3RyaW5nXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgbGFuZ3VhZ2VNYXAge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IHByb2dyYW1taW5nTGFuZ3VhZ2VzOiBsYW5ndWFnZU1hcCA9IHtcbiAgamF2YXNjcmlwdDogJy5qcycsXG4gIHB5dGhvbjogJy5weScsXG4gIGphdmE6ICcuamF2YScsXG4gIGM6ICcuYycsXG4gIGNwcDogJy5jcHAnLFxuICAnYysrJzogJy5jcHAnLFxuICAnYyMnOiAnLmNzJyxcbiAgcnVieTogJy5yYicsXG4gIHBocDogJy5waHAnLFxuICBzd2lmdDogJy5zd2lmdCcsXG4gICdvYmplY3RpdmUtYyc6ICcubScsXG4gIGtvdGxpbjogJy5rdCcsXG4gIHR5cGVzY3JpcHQ6ICcudHMnLFxuICBnbzogJy5nbycsXG4gIHBlcmw6ICcucGwnLFxuICBydXN0OiAnLnJzJyxcbiAgc2NhbGE6ICcuc2NhbGEnLFxuICBoYXNrZWxsOiAnLmhzJyxcbiAgbHVhOiAnLmx1YScsXG4gIHNoZWxsOiAnLnNoJyxcbiAgc3FsOiAnLnNxbCcsXG4gIGh0bWw6ICcuaHRtbCcsXG4gIGNzczogJy5jc3MnLFxuICAvLyBhZGQgbW9yZSBmaWxlIGV4dGVuc2lvbnMgaGVyZSwgbWFrZSBzdXJlIHRoZSBrZXkgaXMgc2FtZSBhcyBsYW5ndWFnZSBwcm9wIGluIENvZGVCbG9jay50c3ggY29tcG9uZW50XG59XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJhbmRvbVN0cmluZyA9IChsZW5ndGg6IG51bWJlciwgbG93ZXJjYXNlID0gZmFsc2UpID0+IHtcbiAgY29uc3QgY2hhcnMgPSAnQUJDREVGR0hKS0xNTlBRUlNUVVZXWFkzNDU2Nzg5JyAvLyBleGNsdWRpbmcgc2ltaWxhciBsb29raW5nIGNoYXJhY3RlcnMgbGlrZSBaLCAyLCBJLCAxLCBPLCAwXG4gIGxldCByZXN1bHQgPSAnJ1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFycy5sZW5ndGgpKVxuICB9XG4gIHJldHVybiBsb3dlcmNhc2UgPyByZXN1bHQudG9Mb3dlckNhc2UoKSA6IHJlc3VsdFxufVxuXG5jb25zdCBDb2RlQmxvY2s6IEZDPFByb3BzPiA9IG1lbW8oKHsgbGFuZ3VhZ2UsIHZhbHVlLCBjbGFzc05hbWUgfSkgPT4ge1xuICBjb25zdCB7IGlzQ29waWVkLCBjb3B5VG9DbGlwYm9hcmQgfSA9IHVzZUNvcHlUb0NsaXBib2FyZCh7IHRpbWVvdXQ6IDIwMDAgfSlcbiAgY29uc3QgY29kZVJlZiA9IHVzZVJlZjxIVE1MRWxlbWVudD4obnVsbClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb2RlUmVmLmN1cnJlbnQgJiYgY29kZVJlZi5jdXJyZW50LmRhdGFzZXQuaGlnaGxpZ2h0ZWQgIT09ICd5ZXMnKSB7XG4gICAgICBobGpzLmhpZ2hsaWdodEVsZW1lbnQoY29kZVJlZi5jdXJyZW50KVxuICAgIH1cbiAgfSwgW2xhbmd1YWdlLCB2YWx1ZV0pXG5cbiAgY29uc3QgZG93bmxvYWRBc0ZpbGUgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IHByb2dyYW1taW5nTGFuZ3VhZ2VzW2xhbmd1YWdlXSB8fCAnLmZpbGUnXG4gICAgY29uc3Qgc3VnZ2VzdGVkRmlsZU5hbWUgPSBgZmlsZS0ke2dlbmVyYXRlUmFuZG9tU3RyaW5nKFxuICAgICAgMyxcbiAgICAgIHRydWVcbiAgICApfSR7ZmlsZUV4dGVuc2lvbn1gXG4gICAgY29uc3QgZmlsZU5hbWUgPSB3aW5kb3cucHJvbXB0KCdFbnRlciBmaWxlIG5hbWUnLCBzdWdnZXN0ZWRGaWxlTmFtZSlcblxuICAgIGlmICghZmlsZU5hbWUpIHtcbiAgICAgIC8vIFVzZXIgcHJlc3NlZCBjYW5jZWwgb24gcHJvbXB0LlxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFt2YWx1ZV0sIHsgdHlwZTogJ3RleHQvcGxhaW4nIH0pXG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKVxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWVcbiAgICBsaW5rLmhyZWYgPSB1cmxcbiAgICBsaW5rLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspXG4gICAgbGluay5jbGljaygpXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKVxuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKVxuICB9XG5cbiAgY29uc3Qgb25Db3B5ID0gKCkgPT4ge1xuICAgIGlmIChpc0NvcGllZCkgcmV0dXJuXG4gICAgY29weVRvQ2xpcGJvYXJkKHZhbHVlKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2Bjb2RlYmxvY2sgcmVsYXRpdmUgdy1mdWxsIGJnLXppbmMtOTUwIGZvbnQtc2FucyAke2NsYXNzTmFtZX1gfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy16aW5jLTgwMCBweC02IHB5LTIgcHItNCB0ZXh0LXppbmMtMTAwXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgbG93ZXJjYXNlXCI+e2xhbmd1YWdlfTwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIG9uQ2xpY2s9e2Rvd25sb2FkQXNGaWxlfSBzaXplPVwiaWNvblwiPlxuICAgICAgICAgICAgPERvd25sb2FkIC8+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+RG93bmxvYWQ8L3NwYW4+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwiaWNvblwiIG9uQ2xpY2s9e29uQ29weX0+XG4gICAgICAgICAgICB7aXNDb3BpZWQgPyAoXG4gICAgICAgICAgICAgIDxDaGVjayBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxDb3B5IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Db3B5IGNvZGU8L3NwYW4+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8cHJlIGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItemluYy03MDAgdGV4dC13aGl0ZVwiPlxuICAgICAgICA8Y29kZSByZWY9e2NvZGVSZWZ9IGNsYXNzTmFtZT17YGxhbmd1YWdlLSR7bGFuZ3VhZ2V9IGZvbnQtbW9ub2B9PlxuICAgICAgICAgIHt2YWx1ZX1cbiAgICAgICAgPC9jb2RlPlxuICAgICAgPC9wcmU+XG4gICAgPC9kaXY+XG4gIClcbn0pXG5Db2RlQmxvY2suZGlzcGxheU5hbWUgPSAnQ29kZUJsb2NrJ1xuXG5leHBvcnQgeyBDb2RlQmxvY2sgfVxuIiwiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNvcHlUb0NsaXBib2FyZFByb3BzIHtcbiAgdGltZW91dD86IG51bWJlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29weVRvQ2xpcGJvYXJkKHtcbiAgdGltZW91dCA9IDIwMDAsXG59OiBVc2VDb3B5VG9DbGlwYm9hcmRQcm9wcykge1xuICBjb25zdCBbaXNDb3BpZWQsIHNldElzQ29waWVkXSA9IFJlYWN0LnVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuXG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IuY2xpcGJvYXJkPy53cml0ZVRleHQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgIHNldElzQ29waWVkKHRydWUpXG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRJc0NvcGllZChmYWxzZSlcbiAgICAgIH0sIHRpbWVvdXQpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiB7IGlzQ29waWVkLCBjb3B5VG9DbGlwYm9hcmQgfVxufVxuIiwiZXhwb3J0IGVudW0gTWVzc2FnZUFubm90YXRpb25UeXBlIHtcbiAgSU1BR0UgPSAnaW1hZ2UnLFxuICBET0NVTUVOVF9GSUxFID0gJ2RvY3VtZW50X2ZpbGUnLFxuICBTT1VSQ0VTID0gJ3NvdXJjZXMnLFxuICBFVkVOVFMgPSAnZXZlbnRzJyxcbiAgU1VHR0VTVEVEX1FVRVNUSU9OUyA9ICdzdWdnZXN0ZWRfcXVlc3Rpb25zJyxcbiAgQUdFTlRfRVZFTlRTID0gJ2FnZW50Jyxcbn1cblxuZXhwb3J0IHR5cGUgSW1hZ2VEYXRhID0ge1xuICB1cmw6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBEb2N1bWVudEZpbGVUeXBlID0gJ2NzdicgfCAncGRmJyB8ICd0eHQnIHwgJ2RvY3gnXG5leHBvcnQgY29uc3QgRE9DVU1FTlRfRklMRV9UWVBFUzogRG9jdW1lbnRGaWxlVHlwZVtdID0gW1xuICAnY3N2JyxcbiAgJ3BkZicsXG4gICd0eHQnLFxuICAnZG9jeCcsXG5dXG5cbmV4cG9ydCB0eXBlIERvY3VtZW50RmlsZSA9IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmcgLy8gVGhlIHVwbG9hZGVkIGZpbGUgbmFtZSBpbiB0aGUgYmFja2VuZFxuICBzaXplOiBudW1iZXIgLy8gVGhlIGZpbGUgc2l6ZSBpbiBieXRlc1xuICB0eXBlOiBEb2N1bWVudEZpbGVUeXBlXG4gIHVybDogc3RyaW5nIC8vIFRoZSBVUkwgb2YgdGhlIHVwbG9hZGVkIGZpbGUgaW4gdGhlIGJhY2tlbmRcbiAgcmVmcz86IHN0cmluZ1tdIC8vIERvY3VtZW50SURzIG9mIHRoZSB1cGxvYWRlZCBmaWxlIGluIHRoZSB2ZWN0b3IgaW5kZXhcbn1cblxuZXhwb3J0IHR5cGUgRG9jdW1lbnRGaWxlRGF0YSA9IHtcbiAgZmlsZXM6IERvY3VtZW50RmlsZVtdXG59XG5cbmV4cG9ydCB0eXBlIFNvdXJjZU5vZGUgPSB7XG4gIGlkOiBzdHJpbmdcbiAgbWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4gIHNjb3JlPzogbnVtYmVyXG4gIHRleHQ6IHN0cmluZ1xuICB1cmw6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBTb3VyY2VEYXRhID0ge1xuICBub2RlczogU291cmNlTm9kZVtdXG59XG5cbmV4cG9ydCB0eXBlIEV2ZW50RGF0YSA9IHtcbiAgdGl0bGU6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBQcm9ncmVzc0RhdGEgPSB7XG4gIGlkOiBzdHJpbmdcbiAgdG90YWw6IG51bWJlclxuICBjdXJyZW50OiBudW1iZXJcbn1cblxuZXhwb3J0IHR5cGUgQWdlbnRFdmVudERhdGEgPSB7XG4gIGFnZW50OiBzdHJpbmdcbiAgdGV4dDogc3RyaW5nXG4gIHR5cGU6ICd0ZXh0JyB8ICdwcm9ncmVzcydcbiAgZGF0YT86IFByb2dyZXNzRGF0YVxufVxuXG5leHBvcnQgdHlwZSBTdWdnZXN0ZWRRdWVzdGlvbnNEYXRhID0gc3RyaW5nW11cblxuZXhwb3J0IHR5cGUgQW5ub3RhdGlvbkRhdGEgPVxuICB8IEltYWdlRGF0YVxuICB8IERvY3VtZW50RmlsZURhdGFcbiAgfCBTb3VyY2VEYXRhXG4gIHwgRXZlbnREYXRhXG4gIHwgQWdlbnRFdmVudERhdGFcbiAgfCBTdWdnZXN0ZWRRdWVzdGlvbnNEYXRhXG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2VBbm5vdGF0aW9uID0ge1xuICB0eXBlOiBNZXNzYWdlQW5ub3RhdGlvblR5cGVcbiAgZGF0YTogQW5ub3RhdGlvbkRhdGFcbn1cblxuY29uc3QgTk9ERV9TQ09SRV9USFJFU0hPTEQgPSAwLjI1XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbm5vdGF0aW9uRGF0YTxUIGV4dGVuZHMgQW5ub3RhdGlvbkRhdGE+KFxuICBhbm5vdGF0aW9uczogTWVzc2FnZUFubm90YXRpb25bXSxcbiAgdHlwZTogc3RyaW5nXG4pOiBUW10ge1xuICBpZiAoIWFubm90YXRpb25zPy5sZW5ndGgpIHJldHVybiBbXVxuICByZXR1cm4gYW5ub3RhdGlvbnNcbiAgICAuZmlsdGVyKGEgPT4gYS50eXBlLnRvU3RyaW5nKCkgPT09IHR5cGUpXG4gICAgLm1hcChhID0+IGEuZGF0YSBhcyBUKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U291cmNlQW5ub3RhdGlvbkRhdGEoXG4gIGFubm90YXRpb25zOiBNZXNzYWdlQW5ub3RhdGlvbltdXG4pOiBTb3VyY2VEYXRhW10ge1xuICBjb25zdCBkYXRhID0gZ2V0QW5ub3RhdGlvbkRhdGE8U291cmNlRGF0YT4oXG4gICAgYW5ub3RhdGlvbnMsXG4gICAgTWVzc2FnZUFubm90YXRpb25UeXBlLlNPVVJDRVNcbiAgKVxuICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgY29uc3Qgc291cmNlRGF0YSA9IGRhdGFbMF1cbiAgICBpZiAoc291cmNlRGF0YS5ub2Rlcykge1xuICAgICAgc291cmNlRGF0YS5ub2RlcyA9IHByZXByb2Nlc3NTb3VyY2VOb2Rlcyhzb3VyY2VEYXRhLm5vZGVzKVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzU291cmNlTm9kZXMobm9kZXM6IFNvdXJjZU5vZGVbXSk6IFNvdXJjZU5vZGVbXSB7XG4gIC8vIEZpbHRlciBzb3VyY2Ugbm9kZXMgaGFzIGxvd2VyIHNjb3JlXG4gIGNvbnN0IHByb2Nlc3NlZE5vZGVzID0gbm9kZXNcbiAgICAuZmlsdGVyKG5vZGUgPT4gKG5vZGUuc2NvcmUgPz8gMSkgPiBOT0RFX1NDT1JFX1RIUkVTSE9MRClcbiAgICAuZmlsdGVyKG5vZGUgPT4gbm9kZS51cmwgJiYgbm9kZS51cmwudHJpbSgpICE9PSAnJylcbiAgICAuc29ydCgoYSwgYikgPT4gKGIuc2NvcmUgPz8gMSkgLSAoYS5zY29yZSA/PyAxKSlcbiAgICAubWFwKG5vZGUgPT4ge1xuICAgICAgLy8gcmVtb3ZlIHRyYWlsaW5nIHNsYXNoIGZvciBub2RlIHVybCBpZiBleGlzdHNcbiAgICAgIG5vZGUudXJsID0gbm9kZS51cmwucmVwbGFjZSgvXFwvJC8sICcnKVxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9KVxuICByZXR1cm4gcHJvY2Vzc2VkTm9kZXNcbn1cbiIsImltcG9ydCB7XG4gIEhvdmVyQ2FyZCxcbiAgSG92ZXJDYXJkQ29udGVudCxcbiAgSG92ZXJDYXJkVHJpZ2dlcixcbn0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LWhvdmVyLWNhcmQnXG5pbXBvcnQgeyBDaGVjaywgQ29weSwgRmlsZUljb24sIFhDaXJjbGVJY29uIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgRG9jdW1lbnRGaWxlVHlwZSwgU291cmNlTm9kZSB9IGZyb20gJy4uL2NoYXQvYW5ub3RhdGlvbidcbmltcG9ydCB7IHVzZUNvcHlUb0NsaXBib2FyZCB9IGZyb20gJy4uL2hvb2svdXNlLWNvcHktdG8tY2xpcGJvYXJkJ1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvYnV0dG9uJ1xuaW1wb3J0IHsgUGRmRGlhbG9nIH0gZnJvbSAnLi9wZGYtZGlhbG9nJ1xuaW1wb3J0IHsgU291cmNlTnVtYmVyQnV0dG9uIH0gZnJvbSAnLi9zb3VyY2UtbnVtYmVyLWJ1dHRvbidcblxuaW1wb3J0IHsgY24gfSBmcm9tICcuLi9saWIvdXRpbHMnXG5pbXBvcnQgeyBEb2N4SWNvbiB9IGZyb20gJy4uL3VpL2ljb25zL2RvY3gnXG5pbXBvcnQgeyBQREZJY29uIH0gZnJvbSAnLi4vdWkvaWNvbnMvcGRmJ1xuaW1wb3J0IHsgU2hlZXRJY29uIH0gZnJvbSAnLi4vdWkvaWNvbnMvc2hlZXQnXG5pbXBvcnQgeyBUeHRJY29uIH0gZnJvbSAnLi4vdWkvaWNvbnMvdHh0J1xuXG50eXBlIERvY3VtZW50ID0ge1xuICB1cmw6IHN0cmluZ1xuICBzb3VyY2VzOiBTb3VyY2VOb2RlW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERvY3VtZW50SW5mbyh7XG4gIGRvY3VtZW50LFxuICBjbGFzc05hbWUsXG4gIG9uUmVtb3ZlLFxufToge1xuICBkb2N1bWVudDogRG9jdW1lbnRcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIG9uUmVtb3ZlPzogKCkgPT4gdm9pZFxufSkge1xuICBjb25zdCB7IHVybCwgc291cmNlcyB9ID0gZG9jdW1lbnRcbiAgY29uc3QgdXJsUGFydHMgPSB1cmwuc3BsaXQoJy8nKVxuICBjb25zdCBmaWxlTmFtZSA9IHVybFBhcnRzLmxlbmd0aCA+IDAgPyB1cmxQYXJ0c1t1cmxQYXJ0cy5sZW5ndGggLSAxXSA6IHVybFxuICBjb25zdCBmaWxlRXh0ID0gZmlsZU5hbWU/LnNwbGl0KCcuJykucG9wKCkgYXMgRG9jdW1lbnRGaWxlVHlwZSB8IHVuZGVmaW5lZFxuXG4gIGNvbnN0IHByZXZpZXdGaWxlID0ge1xuICAgIG5hbWU6IGZpbGVOYW1lLFxuICAgIHR5cGU6IGZpbGVFeHQgYXMgRG9jdW1lbnRGaWxlVHlwZSxcbiAgfVxuXG4gIGNvbnN0IERvY3VtZW50RGV0YWlsID0gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgJHtjbGFzc05hbWV9YH0+XG4gICAgICA8RG9jdW1lbnRQcmV2aWV3Q2FyZFxuICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgIGZpbGU9e3ByZXZpZXdGaWxlfVxuICAgICAgICBvblJlbW92ZT17b25SZW1vdmV9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMiByaWdodC0yIGZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgIHtzb3VyY2VzLm1hcCgobm9kZTogU291cmNlTm9kZSwgaW5kZXg6IG51bWJlcikgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtub2RlLmlkfT5cbiAgICAgICAgICAgIDxTb3VyY2VJbmZvIG5vZGU9e25vZGV9IGluZGV4PXtpbmRleH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG4gIGlmICh1cmwuZW5kc1dpdGgoJy5wZGYnKSkge1xuICAgIC8vIG9wZW4gaW50ZXJuYWwgcGRmIGRpYWxvZyBmb3IgcGRmIGZpbGVzIHdoZW4gY2xpY2sgZG9jdW1lbnQgY2FyZFxuICAgIHJldHVybiA8UGRmRGlhbG9nIGRvY3VtZW50SWQ9e3VybH0gdXJsPXt1cmx9IHRyaWdnZXI9e0RvY3VtZW50RGV0YWlsfSAvPlxuICB9XG4gIC8vIG9wZW4gZXh0ZXJuYWwgbGluayB3aGVuIGNsaWNrIGRvY3VtZW50IGNhcmQgZm9yIG90aGVyIGZpbGUgdHlwZXNcbiAgcmV0dXJuIDxkaXYgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJyl9PntEb2N1bWVudERldGFpbH08L2Rpdj5cbn1cblxuZnVuY3Rpb24gU291cmNlSW5mbyh7IG5vZGUsIGluZGV4IH06IHsgbm9kZT86IFNvdXJjZU5vZGU7IGluZGV4OiBudW1iZXIgfSkge1xuICBpZiAoIW5vZGUpIHJldHVybiA8U291cmNlTnVtYmVyQnV0dG9uIGluZGV4PXtpbmRleH0gLz5cbiAgcmV0dXJuIChcbiAgICA8SG92ZXJDYXJkPlxuICAgICAgPEhvdmVyQ2FyZFRyaWdnZXJcbiAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLWRlZmF1bHRcIlxuICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxTb3VyY2VOdW1iZXJCdXR0b25cbiAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiaG92ZXI6YmctcHJpbWFyeSBob3Zlcjp0ZXh0LXdoaXRlXCJcbiAgICAgICAgLz5cbiAgICAgIDwvSG92ZXJDYXJkVHJpZ2dlcj5cbiAgICAgIDxIb3ZlckNhcmRDb250ZW50IGNsYXNzTmFtZT1cInctWzQwMHB4XSBiZy13aGl0ZSBwLTRcIj5cbiAgICAgICAgPE5vZGVJbmZvIG5vZGVJbmZvPXtub2RlfSAvPlxuICAgICAgPC9Ib3ZlckNhcmRDb250ZW50PlxuICAgIDwvSG92ZXJDYXJkPlxuICApXG59XG5cbmZ1bmN0aW9uIE5vZGVJbmZvKHsgbm9kZUluZm8gfTogeyBub2RlSW5mbzogU291cmNlTm9kZSB9KSB7XG4gIGNvbnN0IHsgaXNDb3BpZWQsIGNvcHlUb0NsaXBib2FyZCB9ID0gdXNlQ29weVRvQ2xpcGJvYXJkKHsgdGltZW91dDogMTAwMCB9KVxuXG4gIGNvbnN0IHBhZ2VOdW1iZXIgPVxuICAgIC8vIFhYWDogcGFnZV9sYWJlbCBpcyB1c2VkIGluIFB5dGhvbiwgYnV0IHBhZ2VfbnVtYmVyIGlzIHVzZWQgYnkgVHlwZXNjcmlwdFxuICAgIChub2RlSW5mby5tZXRhZGF0YT8ucGFnZV9udW1iZXIgYXMgbnVtYmVyKSA/P1xuICAgIChub2RlSW5mby5tZXRhZGF0YT8ucGFnZV9sYWJlbCBhcyBudW1iZXIpID8/XG4gICAgbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICB7cGFnZU51bWJlciA/IGBPbiBwYWdlICR7cGFnZU51bWJlcn06YCA6ICdOb2RlIGNvbnRlbnQ6J31cbiAgICAgICAgPC9zcGFuPlxuICAgICAgICB7bm9kZUluZm8udGV4dCAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgY29weVRvQ2xpcGJvYXJkKG5vZGVJbmZvLnRleHQpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc2l6ZT1cImljb25cIlxuICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTIgdy0xMiBzaHJpbmstMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2lzQ29waWVkID8gKFxuICAgICAgICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8Q29weSBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAge25vZGVJbmZvLnRleHQgJiYgKFxuICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIm1heC1oLVsyMDBweF0gb3ZlcmZsb3ctYXV0byB3aGl0ZXNwYWNlLXByZS1saW5lXCI+XG4gICAgICAgICAgJmxkcXVvO3tub2RlSW5mby50ZXh0fSZyZHF1bztcbiAgICAgICAgPC9wcmU+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApXG59XG5cbmNvbnN0IEZpbGVJY29uTWFwOiBSZWNvcmQ8RG9jdW1lbnRGaWxlVHlwZSwgUmVhY3QuUmVhY3ROb2RlPiA9IHtcbiAgY3N2OiA8U2hlZXRJY29uIC8+LFxuICBwZGY6IDxQREZJY29uIC8+LFxuICBkb2N4OiA8RG9jeEljb24gLz4sXG4gIHR4dDogPFR4dEljb24gLz4sXG59XG5cbmZ1bmN0aW9uIERvY3VtZW50UHJldmlld0NhcmQocHJvcHM6IHtcbiAgZmlsZToge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIHNpemU/OiBudW1iZXJcbiAgICB0eXBlOiBEb2N1bWVudEZpbGVUeXBlXG4gIH1cbiAgb25SZW1vdmU/OiAoKSA9PiB2b2lkXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xufSkge1xuICBjb25zdCB7IG9uUmVtb3ZlLCBmaWxlLCBjbGFzc05hbWUgfSA9IHByb3BzXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgJ2JnLXNlY29uZGFyeSByZWxhdGl2ZSB3LTYwIG1heC13LTYwIHJvdW5kZWQtbGcgcC0yIHRleHQtc20nLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICl9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggaC04IHctOCBzaHJpbmstMCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICB7RmlsZUljb25NYXBbZmlsZS50eXBlXSA/PyA8RmlsZUljb24gLz59XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ1bmNhdGUgZm9udC1zZW1pYm9sZFwiPlxuICAgICAgICAgICAge2ZpbGUubmFtZX0ge2ZpbGUuc2l6ZSA/IGAoJHtpbktCKGZpbGUuc2l6ZSl9IEtCKWAgOiAnJ31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7ZmlsZS50eXBlICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC10b2tlbi10ZXh0LXRlcnRpYXJ5IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgIDxzcGFuPntmaWxlLnR5cGUudG9VcHBlckNhc2UoKX0gRmlsZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB7b25SZW1vdmUgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICdhYnNvbHV0ZSAtcmlnaHQtMiAtdG9wLTIgei0xMCBoLTYgdy02IHJvdW5kZWQtZnVsbCBiZy1ncmF5LTUwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICl9XG4gICAgICAgID5cbiAgICAgICAgICA8WENpcmNsZUljb25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNiB3LTYgcm91bmRlZC1mdWxsIGJnLWdyYXktNTAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgb25SZW1vdmUoKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gaW5LQihzaXplOiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQoKHNpemUgLyAxMDI0KSAqIDEwKSAvIDEwXG59XG4iLCJpbXBvcnQgeyBsYXp5IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi91aS9idXR0b24nXG5pbXBvcnQge1xuICBEcmF3ZXIsXG4gIERyYXdlckNsb3NlLFxuICBEcmF3ZXJDb250ZW50LFxuICBEcmF3ZXJEZXNjcmlwdGlvbixcbiAgRHJhd2VySGVhZGVyLFxuICBEcmF3ZXJUaXRsZSxcbiAgRHJhd2VyVHJpZ2dlcixcbn0gZnJvbSAnLi4vdWkvZHJhd2VyJ1xuXG5jb25zdCBQREZWaWV3ZXIgPSBsYXp5KCgpID0+XG4gIGltcG9ydCgnQGxsYW1haW5kZXgvcGRmLXZpZXdlcicpLnRoZW4obSA9PiAoeyBkZWZhdWx0OiBtLlBERlZpZXdlciB9KSlcbilcbmNvbnN0IFBkZkZvY3VzUHJvdmlkZXIgPSBsYXp5KCgpID0+XG4gIGltcG9ydCgnQGxsYW1haW5kZXgvcGRmLXZpZXdlcicpLnRoZW4obSA9PiAoeyBkZWZhdWx0OiBtLlBkZkZvY3VzUHJvdmlkZXIgfSkpXG4pXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGRmRGlhbG9nUHJvcHMge1xuICBkb2N1bWVudElkOiBzdHJpbmdcbiAgdXJsOiBzdHJpbmdcbiAgdHJpZ2dlcjogUmVhY3QuUmVhY3ROb2RlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQZGZEaWFsb2cocHJvcHM6IFBkZkRpYWxvZ1Byb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPERyYXdlciBkaXJlY3Rpb249XCJsZWZ0XCI+XG4gICAgICA8RHJhd2VyVHJpZ2dlciBhc0NoaWxkPntwcm9wcy50cmlnZ2VyfTwvRHJhd2VyVHJpZ2dlcj5cbiAgICAgIDxEcmF3ZXJDb250ZW50IGNsYXNzTmFtZT1cIm10LTI0IGgtZnVsbCBtYXgtaC1bOTYlXSB3LTMvNSBcIj5cbiAgICAgICAgPERyYXdlckhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8RHJhd2VyVGl0bGU+UERGIENvbnRlbnQ8L0RyYXdlclRpdGxlPlxuICAgICAgICAgICAgPERyYXdlckRlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICBGaWxlIFVSTDp7JyAnfVxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhvdmVyOnRleHQtYmx1ZS05MDBcIlxuICAgICAgICAgICAgICAgIGhyZWY9e3Byb3BzLnVybH1cbiAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtwcm9wcy51cmx9XG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvRHJhd2VyRGVzY3JpcHRpb24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPERyYXdlckNsb3NlIGFzQ2hpbGQ+XG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCI+Q2xvc2U8L0J1dHRvbj5cbiAgICAgICAgICA8L0RyYXdlckNsb3NlPlxuICAgICAgICA8L0RyYXdlckhlYWRlcj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtLTRcIj5cbiAgICAgICAgICA8UGRmRm9jdXNQcm92aWRlcj5cbiAgICAgICAgICAgIDxQREZWaWV3ZXJcbiAgICAgICAgICAgICAgZmlsZT17e1xuICAgICAgICAgICAgICAgIGlkOiBwcm9wcy5kb2N1bWVudElkLFxuICAgICAgICAgICAgICAgIHVybDogcHJvcHMudXJsLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L1BkZkZvY3VzUHJvdmlkZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9EcmF3ZXJDb250ZW50PlxuICAgIDwvRHJhd2VyPlxuICApXG59XG4iLCJpbXBvcnQgeyBjbiB9IGZyb20gJy4uL2xpYi91dGlscydcblxuZXhwb3J0IGZ1bmN0aW9uIFNvdXJjZU51bWJlckJ1dHRvbih7XG4gIGluZGV4LFxuICBjbGFzc05hbWUsXG59OiB7XG4gIGluZGV4OiBudW1iZXJcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG59KSB7XG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgICdpbmxpbmUtZmxleCBoLTUgdy01IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctZ3JheS0xMDAgdGV4dC14cycsXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICA+XG4gICAgICB7aW5kZXggKyAxfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbnRlcmZhY2UgRG9jeEljb25Qcm9wcyB7XG4gIHdpZHRoPzogbnVtYmVyIHwgc3RyaW5nXG4gIGhlaWdodD86IG51bWJlciB8IHN0cmluZ1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IERvY3hJY29uOiBSZWFjdC5GQzxEb2N4SWNvblByb3BzPiA9ICh7XG4gIHdpZHRoID0gNDAsXG4gIGhlaWdodCA9IDQwLFxuICBjbGFzc05hbWUsXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHN2Z1xuICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICB2aWV3Qm94PVwiLTQgMCA2NCA2NFwiXG4gICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgID5cbiAgICAgIDxnIGZpbGxSdWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJtNS4xMSAwYTUuMDcgNS4wNyAwIDAgMCAtNS4xMSA1djUzLjg4YTUuMDcgNS4wNyAwIDAgMCA1LjExIDUuMTJoNDUuNzhhNS4wNyA1LjA3IDAgMCAwIDUuMTEtNS4xMnYtMzguNmwtMTguOTQtMjAuMjh6XCJcbiAgICAgICAgICBmaWxsPVwiIzEwN2NhZFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZD1cIm01NiAyMC4zNXYxaC0xMi44MnMtNi4zMS0xLjI2LTYuMTMtNi43MWMwIDAgLjIxIDUuNzEgNiA1LjcxelwiXG4gICAgICAgICAgZmlsbD1cIiMwODQ5NjhcIlxuICAgICAgICAvPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIGQ9XCJtMzcuMDcgMHYxNC41NmE1Ljc4IDUuNzggMCAwIDAgNi4xMSA1Ljc5aDEyLjgyelwiXG4gICAgICAgICAgZmlsbD1cIiM5MGQwZmVcIlxuICAgICAgICAgIG9wYWNpdHk9XCIuNVwiXG4gICAgICAgIC8+XG4gICAgICA8L2c+XG4gICAgICA8cGF0aFxuICAgICAgICBkPVwibTE0LjI0IDUzLjg2aC0zYTEuMDggMS4wOCAwIDAgMSAtMS4wOC0xLjA4di05Ljg1YTEuMDggMS4wOCAwIDAgMSAxLjA4LTEuMDhoM2E2IDYgMCAxIDEgMCAxMnptMC0xMC42N2gtMi42MXY5LjM0aDIuNjFhNC40MSA0LjQxIDAgMCAwIDQuNjEtNC42NiA0LjM4IDQuMzggMCAwIDAgLTQuNjEtNC42OHptMTQuNDIgMTAuODlhNS44NiA1Ljg2IDAgMCAxIC02LTYuMjEgNiA2IDAgMSAxIDExLjkyIDAgNS44NyA1Ljg3IDAgMCAxIC01LjkyIDYuMjF6bTAtMTEuMDljLTIuNyAwLTQuNDEgMi4wNy00LjQxIDQuODhzMS43MSA0Ljg4IDQuNDEgNC44OCA0LjQxLTIuMDkgNC40MS00Ljg4LTEuNzItNC44Ny00LjQxLTQuODd6bTE4LjQ1LjM4YS43NS43NSAwIDAgMSAuMi41Mi43MS43MSAwIDAgMSAtLjcuNzIuNjQuNjQgMCAwIDEgLS41MS0uMjQgNC4wNiA0LjA2IDAgMCAwIC0zLTEuMzggNC42MSA0LjYxIDAgMCAwIC00LjYzIDQuODggNC42MyA0LjYzIDAgMCAwIDQuNjMgNC44OCA0IDQgMCAwIDAgMy0xLjM3LjcuNyAwIDAgMSAuNTEtLjI0LjcyLjcyIDAgMCAxIC43Ljc0Ljc4Ljc4IDAgMCAxIC0uMi41MSA1LjMzIDUuMzMgMCAwIDEgLTQgMS42OSA2LjIyIDYuMjIgMCAwIDEgMC0xMi40MyA1LjI2IDUuMjYgMCAwIDEgNCAxLjcyelwiXG4gICAgICAgIGZpbGw9XCIjZmZmZmZmXCJcbiAgICAgIC8+XG4gICAgPC9zdmc+XG4gIClcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIFBERkljb25Qcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICB3aWR0aD86IG51bWJlciB8IHN0cmluZ1xuICBoZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IFBERkljb246IFJlYWN0LkZDPFBERkljb25Qcm9wcz4gPSAoe1xuICBjbGFzc05hbWUsXG4gIHdpZHRoID0gNDAsXG4gIGhlaWdodCA9IDQwLFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxzdmdcbiAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgICBpZD1cIkxheWVyXzFcIlxuICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICB4bWxuc1hsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICB2aWV3Qm94PVwiMCAwIDMwOS4yNjcgMzA5LjI2N1wiXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICA+XG4gICAgICA8Zz5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBzdHlsZT17eyBmaWxsOiAnI0UyNTc0QycgfX1cbiAgICAgICAgICBkPVwiTTM4LjY1OCwwaDE2NC4yM2w4Ny4wNDksODYuNzExdjIwMy4yMjdjMCwxMC42NzktOC42NTksMTkuMzI5LTE5LjMyOSwxOS4zMjlIMzguNjU4XG4gICAgICAgICAgICBjLTEwLjY3LDAtMTkuMzI5LTguNjUtMTkuMzI5LTE5LjMyOVYxOS4zMjlDMTkuMzI5LDguNjUsMjcuOTg5LDAsMzguNjU4LDB6XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBzdHlsZT17eyBmaWxsOiAnI0I1MzYyOScgfX1cbiAgICAgICAgICBkPVwiTTI4OS42NTgsODYuOTgxaC02Ny4zNzJjLTEwLjY3LDAtMTkuMzI5LTguNjU5LTE5LjMyOS0xOS4zMjlWMC4xOTNMMjg5LjY1OCw4Ni45ODF6XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBzdHlsZT17eyBmaWxsOiAnI0ZGRkZGRicgfX1cbiAgICAgICAgICBkPVwiTTIxNy40MzQsMTQ2LjU0NGMzLjIzOCwwLDQuODIzLTIuODIyLDQuODIzLTUuNTU3YzAtMi44MzItMS42NTMtNS41NjctNC44MjMtNS41NjdoLTE4LjQ0XG4gICAgICAgICAgICBjLTMuNjA1LDAtNS42MTUsMi45ODYtNS42MTUsNi4yODJ2NDUuMzE3YzAsNC4wNCwyLjMsNi4yODIsNS40MTIsNi4yODJjMy4wOTMsMCw1LjQwMy0yLjI0Miw1LjQwMy02LjI4MnYtMTIuNDM4aDExLjE1M1xuICAgICAgICAgICAgYzMuNDYsMCw1LjE5LTIuODMyLDUuMTktNS42NDRjMC0yLjc1NC0xLjczLTUuNDktNS4xOS01LjQ5aC0xMS4xNTN2LTE2LjkwM0MyMDQuMTk0LDE0Ni41NDQsMjE3LjQzNCwxNDYuNTQ0LDIxNy40MzQsMTQ2LjU0NHpcbiAgICAgICAgICAgIE0xNTUuMTA3LDEzNS40MmgtMTMuNDkyYy0zLjY2MywwLTYuMjYzLDIuNTEzLTYuMjYzLDYuMjQzdjQ1LjM5NWMwLDQuNjI5LDMuNzQsNi4wNzksNi40MTcsNi4wNzloMTQuMTU5XG4gICAgICAgICAgICBjMTYuNzU4LDAsMjcuODI0LTExLjAyNywyNy44MjQtMjguMDQ3QzE4My43NDMsMTQ3LjA5NSwxNzMuMzI1LDEzNS40MiwxNTUuMTA3LDEzNS40MnogTTE1NS43NTUsMTgxLjk0NmgtOC4yMjV2LTM1LjMzNGg3LjQxM1xuICAgICAgICAgICAgYzExLjIyMSwwLDE2LjEwMSw3LjUyOSwxNi4xMDEsMTcuOTE4QzE3MS4wNDQsMTc0LjI1MywxNjYuMjUsMTgxLjk0NiwxNTUuNzU1LDE4MS45NDZ6IE0xMDYuMzMsMTM1LjQySDkyLjk2NFxuICAgICAgICAgICAgYy0zLjc3OSwwLTUuODg2LDIuNDkzLTUuODg2LDYuMjgydjQ1LjMxN2MwLDQuMDQsMi40MTYsNi4yODIsNS42NjMsNi4yODJzNS42NjMtMi4yNDIsNS42NjMtNi4yODJ2LTEzLjIzMWg4LjM3OVxuICAgICAgICAgICAgYzEwLjM0MSwwLDE4Ljg3NS03LjMyNiwxOC44NzUtMTkuMTA3QzEyNS42NTksMTQzLjE1MiwxMTcuNDI1LDEzNS40MiwxMDYuMzMsMTM1LjQyeiBNMTA2LjEwOCwxNjMuMTU4aC03LjcwM3YtMTcuMDk3aDcuNzAzXG4gICAgICAgICAgICBjNC43NTUsMCw3Ljc4LDMuNzExLDcuNzgsOC41NTNDMTEzLjg3OCwxNTkuNDQ3LDExMC44NjMsMTYzLjE1OCwxMDYuMTA4LDE2My4xNTh6XCJcbiAgICAgICAgLz5cbiAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgU2hlZXRJY29uOiBSZWFjdC5GQyA9ICgpID0+IChcbiAgPHN2Z1xuICAgIHdpZHRoPVwiNDlweFwiXG4gICAgaGVpZ2h0PVwiNjdweFwiXG4gICAgdmlld0JveD1cIjAgMCA0OSA2N1wiXG4gICAgdmVyc2lvbj1cIjEuMVwiXG4gICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgeG1sbnNYbGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICA+XG4gICAgPHRpdGxlPlNoZWV0cy1pY29uPC90aXRsZT5cbiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz5cbiAgICA8ZGVmcz5cbiAgICAgIDxwYXRoXG4gICAgICAgIGQ9XCJNMjkuNTgzMzMzMywwIEw0LjQzNzUsMCBDMS45OTY4NzUsMCAwLDEuOTk2ODc1IDAsNC40Mzc1IEwwLDYwLjY0NTgzMzMgQzAsNjMuMDg2NDU4MyAxLjk5Njg3NSw2NS4wODMzMzMzIDQuNDM3NSw2NS4wODMzMzMzIEw0Mi44OTU4MzMzLDY1LjA4MzMzMzMgQzQ1LjMzNjQ1ODMsNjUuMDgzMzMzMyA0Ny4zMzMzMzMzLDYzLjA4NjQ1ODMgNDcuMzMzMzMzMyw2MC42NDU4MzMzIEw0Ny4zMzMzMzMzLDE3Ljc1IEwyOS41ODMzMzMzLDAgWlwiXG4gICAgICAgIGlkPVwicGF0aC0xXCJcbiAgICAgIC8+XG4gICAgICA8bGluZWFyR3JhZGllbnRcbiAgICAgICAgeDE9XCI1MC4wMDUzOTQ1JVwiXG4gICAgICAgIHkxPVwiOC41ODYxMDYxMiVcIlxuICAgICAgICB4Mj1cIjUwLjAwNTM5NDUlXCJcbiAgICAgICAgeTI9XCIxMDAuMDEzOTM5JVwiXG4gICAgICAgIGlkPVwibGluZWFyR3JhZGllbnQtN1wiXG4gICAgICA+XG4gICAgICAgIDxzdG9wIHN0b3BDb2xvcj1cIiMyNjMyMzhcIiBzdG9wT3BhY2l0eT1cIjAuMlwiIG9mZnNldD1cIjAlXCIgLz5cbiAgICAgICAgPHN0b3Agc3RvcENvbG9yPVwiIzI2MzIzOFwiIHN0b3BPcGFjaXR5PVwiMC4wMlwiIG9mZnNldD1cIjEwMCVcIiAvPlxuICAgICAgPC9saW5lYXJHcmFkaWVudD5cbiAgICAgIDxyYWRpYWxHcmFkaWVudFxuICAgICAgICBjeD1cIjMuMTY4MDQ2ODglXCJcbiAgICAgICAgY3k9XCIyLjcxNzQ0MzE4JVwiXG4gICAgICAgIGZ4PVwiMy4xNjgwNDY4OCVcIlxuICAgICAgICBmeT1cIjIuNzE3NDQzMTglXCJcbiAgICAgICAgcj1cIjE2MS4yNDg1MTYlXCJcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm09XCJ0cmFuc2xhdGUoMC4wMzE2ODAsMC4wMjcxNzQpLHNjYWxlKDEuMDAwMDAwLDAuNzI3MjczKSx0cmFuc2xhdGUoLTAuMDMxNjgwLC0wLjAyNzE3NClcIlxuICAgICAgICBpZD1cInJhZGlhbEdyYWRpZW50LTE2XCJcbiAgICAgID5cbiAgICAgICAgPHN0b3Agc3RvcENvbG9yPVwiI0ZGRkZGRlwiIHN0b3BPcGFjaXR5PVwiMC4xXCIgb2Zmc2V0PVwiMCVcIiAvPlxuICAgICAgICA8c3RvcCBzdG9wQ29sb3I9XCIjRkZGRkZGXCIgc3RvcE9wYWNpdHk9XCIwXCIgb2Zmc2V0PVwiMTAwJVwiIC8+XG4gICAgICA8L3JhZGlhbEdyYWRpZW50PlxuICAgIDwvZGVmcz5cbiAgICA8ZyBpZD1cIlBhZ2UtMVwiIHN0cm9rZT1cIm5vbmVcIiBzdHJva2VXaWR0aD1cIjFcIiBmaWxsPVwibm9uZVwiIGZpbGxSdWxlPVwiZXZlbm9kZFwiPlxuICAgICAgPGdcbiAgICAgICAgaWQ9XCJDb25zdW1lci1BcHBzLVNoZWV0cy1MYXJnZS1WRC1SOC1cIlxuICAgICAgICB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTQ1MS4wMDAwMDAsIC00NTEuMDAwMDAwKVwiXG4gICAgICA+XG4gICAgICAgIDxnIGlkPVwiSGVyb1wiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLjAwMDAwMCwgNjMuMDAwMDAwKVwiPlxuICAgICAgICAgIDxnIGlkPVwiUGVyc29uYWxcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMjc3LjAwMDAwMCwgMjk5LjAwMDAwMClcIj5cbiAgICAgICAgICAgIDxnIGlkPVwiU2hlZXRzLWljb25cIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMTc0LjgzMzMzMywgODkuOTU4MzMzKVwiPlxuICAgICAgICAgICAgICA8ZyBpZD1cIkdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGcgaWQ9XCJDbGlwcGVkXCI+XG4gICAgICAgICAgICAgICAgICA8bWFzayBpZD1cIm1hc2stMlwiIGZpbGw9XCJ3aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rSHJlZj1cIiNwYXRoLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9tYXNrPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0yOS41ODMzMzMzLDAgTDQuNDM3NSwwIEMxLjk5Njg3NSwwIDAsMS45OTY4NzUgMCw0LjQzNzUgTDAsNjAuNjQ1ODMzMyBDMCw2My4wODY0NTgzIDEuOTk2ODc1LDY1LjA4MzMzMzMgNC40Mzc1LDY1LjA4MzMzMzMgTDQyLjg5NTgzMzMsNjUuMDgzMzMzMyBDNDUuMzM2NDU4Myw2NS4wODMzMzMzIDQ3LjMzMzMzMzMsNjMuMDg2NDU4MyA0Ny4zMzMzMzMzLDYwLjY0NTgzMzMgTDQ3LjMzMzMzMzMsMTcuNzUgTDM2Ljk3OTE2NjcsMTAuMzU0MTY2NyBMMjkuNTgzMzMzMywwIFpcIlxuICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiIzBGOUQ1OFwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSdWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICAgIG1hc2s9XCJ1cmwoI21hc2stMilcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgPGcgaWQ9XCJDbGlwcGVkXCI+XG4gICAgICAgICAgICAgICAgICA8bWFzayBpZD1cIm1hc2stNFwiIGZpbGw9XCJ3aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rSHJlZj1cIiNwYXRoLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9tYXNrPlxuICAgICAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMS44MzMzMzMzLDMxLjgwMjA4MzMgTDExLjgzMzMzMzMsNTMuMjUgTDM1LjUsNTMuMjUgTDM1LjUsMzEuODAyMDgzMyBMMTEuODMzMzMzMywzMS44MDIwODMzIFogTTIyLjE4NzUsNTAuMjkxNjY2NyBMMTQuNzkxNjY2Nyw1MC4yOTE2NjY3IEwxNC43OTE2NjY3LDQ2LjU5Mzc1IEwyMi4xODc1LDQ2LjU5Mzc1IEwyMi4xODc1LDUwLjI5MTY2NjcgWiBNMjIuMTg3NSw0NC4zNzUgTDE0Ljc5MTY2NjcsNDQuMzc1IEwxNC43OTE2NjY3LDQwLjY3NzA4MzMgTDIyLjE4NzUsNDAuNjc3MDgzMyBMMjIuMTg3NSw0NC4zNzUgWiBNMjIuMTg3NSwzOC40NTgzMzMzIEwxNC43OTE2NjY3LDM4LjQ1ODMzMzMgTDE0Ljc5MTY2NjcsMzQuNzYwNDE2NyBMMjIuMTg3NSwzNC43NjA0MTY3IEwyMi4xODc1LDM4LjQ1ODMzMzMgWiBNMzIuNTQxNjY2Nyw1MC4yOTE2NjY3IEwyNS4xNDU4MzMzLDUwLjI5MTY2NjcgTDI1LjE0NTgzMzMsNDYuNTkzNzUgTDMyLjU0MTY2NjcsNDYuNTkzNzUgTDMyLjU0MTY2NjcsNTAuMjkxNjY2NyBaIE0zMi41NDE2NjY3LDQ0LjM3NSBMMjUuMTQ1ODMzMyw0NC4zNzUgTDI1LjE0NTgzMzMsNDAuNjc3MDgzMyBMMzIuNTQxNjY2Nyw0MC42NzcwODMzIEwzMi41NDE2NjY3LDQ0LjM3NSBaIE0zMi41NDE2NjY3LDM4LjQ1ODMzMzMgTDI1LjE0NTgzMzMsMzguNDU4MzMzMyBMMjUuMTQ1ODMzMywzNC43NjA0MTY3IEwzMi41NDE2NjY3LDM0Ljc2MDQxNjcgTDMyLjU0MTY2NjcsMzguNDU4MzMzMyBaXCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJTaGFwZVwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCIjRjFGMUYxXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbFJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgbWFzaz1cInVybCgjbWFzay00KVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICA8ZyBpZD1cIkNsaXBwZWRcIj5cbiAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPVwibWFzay02XCIgZmlsbD1cIndoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbmtIcmVmPVwiI3BhdGgtMVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L21hc2s+XG4gICAgICAgICAgICAgICAgICA8cG9seWdvblxuICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwidXJsKCNsaW5lYXJHcmFkaWVudC03KVwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSdWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICAgIG1hc2s9XCJ1cmwoI21hc2stNilcIlxuICAgICAgICAgICAgICAgICAgICBwb2ludHM9XCIzMC44ODEzMDIxIDE2LjQ1MjAzMTMgNDcuMzMzMzMzMyAzMi45MDAzNjQ2IDQ3LjMzMzMzMzMgMTcuNzVcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgPGcgaWQ9XCJDbGlwcGVkXCI+XG4gICAgICAgICAgICAgICAgICA8bWFzayBpZD1cIm1hc2stOVwiIGZpbGw9XCJ3aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rSHJlZj1cIiNwYXRoLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9tYXNrPlxuICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJHcm91cFwiIG1hc2s9XCJ1cmwoI21hc2stOSlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDI2LjYyNTAwMCwgLTIuOTU4MzMzKVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTIuOTU4MzMzMzMsMi45NTgzMzMzMyBMMi45NTgzMzMzMywxNi4yNzA4MzMzIEMyLjk1ODMzMzMzLDE4LjcyMjU1MjEgNC45NDQxMTQ1OCwyMC43MDgzMzMzIDcuMzk1ODMzMzMsMjAuNzA4MzMzMyBMMjAuNzA4MzMzMywyMC43MDgzMzMzIEwyLjk1ODMzMzMzLDIuOTU4MzMzMzMgWlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cIlBhdGhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD1cIiM4N0NFQUNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbFJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgIDxnIGlkPVwiQ2xpcHBlZFwiPlxuICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9XCJtYXNrLTExXCIgZmlsbD1cIndoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbmtIcmVmPVwiI3BhdGgtMVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L21hc2s+XG4gICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICBkPVwiTTQuNDM3NSwwIEMxLjk5Njg3NSwwIDAsMS45OTY4NzUgMCw0LjQzNzUgTDAsNC44MDcyOTE2NyBDMCwyLjM2NjY2NjY3IDEuOTk2ODc1LDAuMzY5NzkxNjY3IDQuNDM3NSwwLjM2OTc5MTY2NyBMMjkuNTgzMzMzMywwLjM2OTc5MTY2NyBMMjkuNTgzMzMzMywwIEw0LjQzNzUsMCBaXCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJQYXRoXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk9XCIwLjJcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwiI0ZGRkZGRlwiXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSdWxlPVwibm9uemVyb1wiXG4gICAgICAgICAgICAgICAgICAgIG1hc2s9XCJ1cmwoI21hc2stMTEpXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgICAgIDxnIGlkPVwiQ2xpcHBlZFwiPlxuICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9XCJtYXNrLTEzXCIgZmlsbD1cIndoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbmtIcmVmPVwiI3BhdGgtMVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L21hc2s+XG4gICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICBkPVwiTTQyLjg5NTgzMzMsNjQuNzEzNTQxNyBMNC40Mzc1LDY0LjcxMzU0MTcgQzEuOTk2ODc1LDY0LjcxMzU0MTcgMCw2Mi43MTY2NjY3IDAsNjAuMjc2MDQxNyBMMCw2MC42NDU4MzMzIEMwLDYzLjA4NjQ1ODMgMS45OTY4NzUsNjUuMDgzMzMzMyA0LjQzNzUsNjUuMDgzMzMzMyBMNDIuODk1ODMzMyw2NS4wODMzMzMzIEM0NS4zMzY0NTgzLDY1LjA4MzMzMzMgNDcuMzMzMzMzMyw2My4wODY0NTgzIDQ3LjMzMzMzMzMsNjAuNjQ1ODMzMyBMNDcuMzMzMzMzMywyNS4xNjY2NjY3IEw0Mi44OTU4MzMzLDIxLjAyMDgzMzMgTDQyLjg5NTgzMzMsNjQuNzEzNTQxNyBaXCJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJQYXRoXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cInVybCgjcmFkaWFsR3JhZGllbnQtMTYpXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbFJ1bGU9XCJub256ZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgbWFzaz1cInVybCgjbWFzay0xMylcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICA8L2c+XG4gICAgICAgIDwvZz5cbiAgICAgIDwvZz5cbiAgICA8L2c+XG4gIDwvc3ZnPlxuKVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbnRlcmZhY2UgVHh0SWNvblByb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHdpZHRoPzogbnVtYmVyIHwgc3RyaW5nXG4gIGhlaWdodD86IG51bWJlciB8IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgVHh0SWNvbjogUmVhY3QuRkM8VHh0SWNvblByb3BzPiA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgd2lkdGggPSA0MCxcbiAgaGVpZ2h0ID0gNDAsXG59KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHN2Z1xuICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICB2ZXJzaW9uPVwiMS4xXCJcbiAgICAgIGlkPVwiTGF5ZXJfMVwiXG4gICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgIHhtbG5zWGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiXG4gICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICA+XG4gICAgICA8cGF0aFxuICAgICAgICBzdHlsZT17eyBmaWxsOiAnI0UyRTVFNycgfX1cbiAgICAgICAgZD1cIk0xMjgsMGMtMTcuNiwwLTMyLDE0LjQtMzIsMzJ2NDQ4YzAsMTcuNiwxNC40LDMyLDMyLDMyaDMyMGMxNy42LDAsMzItMTQuNCwzMi0zMlYxMjhMMzUyLDBIMTI4elwiXG4gICAgICAvPlxuICAgICAgPHBhdGhcbiAgICAgICAgc3R5bGU9e3sgZmlsbDogJyNCMEI3QkQnIH19XG4gICAgICAgIGQ9XCJNMzg0LDEyOGg5NkwzNTIsMHY5NkMzNTIsMTEzLjYsMzY2LjQsMTI4LDM4NCwxMjh6XCJcbiAgICAgIC8+XG4gICAgICA8cG9seWdvbiBzdHlsZT17eyBmaWxsOiAnI0NBRDFEOCcgfX0gcG9pbnRzPVwiNDgwLDIyNCAzODQsMTI4IDQ4MCwxMjggXCIgLz5cbiAgICAgIDxwYXRoXG4gICAgICAgIHN0eWxlPXt7IGZpbGw6ICcjNTc2RDdFJyB9fVxuICAgICAgICBkPVwiTTQxNiw0MTZjMCw4LjgtNy4yLDE2LTE2LDE2SDQ4Yy04LjgsMC0xNi03LjItMTYtMTZWMjU2YzAtOC44LDcuMi0xNiwxNi0xNmgzNTJjOC44LDAsMTYsNy4yLDE2LDE2VjQxNnpcIlxuICAgICAgLz5cbiAgICAgIDxnPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIHN0eWxlPXt7IGZpbGw6ICcjRkZGRkZGJyB9fVxuICAgICAgICAgIGQ9XCJNMTMyLjc4NCwzMTEuNDcySDExMC40Yy0xMS4xMzYsMC0xMS4xMzYtMTYuMzY4LDAtMTYuMzY4aDYwLjUxMmMxMS4zOTIsMCwxMS4zOTIsMTYuMzY4LDAsMTYuMzY4aC0yMS4yNDh2NjQuNTkyYzAsMTEuMTItMTYuODk2LDExLjM5Mi0xNi44OTYsMHYtNjQuNTkySDEzMi43ODR6XCJcbiAgICAgICAgLz5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBzdHlsZT17eyBmaWxsOiAnI0ZGRkZGRicgfX1cbiAgICAgICAgICBkPVwiTTIyNC40MTYsMzI2LjE3NmwyMi4yNzItMjcuODg4YzYuNjU2LTguNjg4LDE5LjU2OCwyLjQzMiwxMi4yODgsMTAuNzUyYy03LjY4LDkuMDg4LTE1LjcyOCwxOC45NDQtMjMuNDI0LDI5LjAyNGwyNi4xMTIsMzIuNDk2YzcuMDI0LDkuNi03LjA0LDE4LjgxNi0xMy45NTIsOS4zNDRsLTIzLjUzNi0zMC4xOTJsLTIzLjE1MiwzMC44MzJjLTYuNTI4LDkuMzI4LTIwLjk5Mi0xLjE1Mi0xMy42OC05Ljg1NmwyNS42OTYtMzIuNjI0Yy04LjA0OC0xMC4wOTYtMTUuODU2LTE5LjkzNi0yMy42NjQtMjkuMDI0Yy04LjA2NC05LjYsNi45MTItMTkuNDQsMTIuNzg0LTEwLjQ4TDIyNC40MTYsMzI2LjE3NnpcIlxuICAgICAgICAvPlxuICAgICAgICA8cGF0aFxuICAgICAgICAgIHN0eWxlPXt7IGZpbGw6ICcjRkZGRkZGJyB9fVxuICAgICAgICAgIGQ9XCJNMjk4LjI4OCwzMTEuNDcySDI3NS45MmMtMTEuMTM2LDAtMTEuMTM2LTE2LjM2OCwwLTE2LjM2OGg2MC40OTZjMTEuMzkyLDAsMTEuMzkyLDE2LjM2OCwwLDE2LjM2OGgtMjEuMjMydjY0LjU5MmMwLDExLjEyLTE2Ljg5NiwxMS4zOTItMTYuODk2LDBWMzExLjQ3MnpcIlxuICAgICAgICAvPlxuICAgICAgPC9nPlxuICAgICAgPHBhdGhcbiAgICAgICAgc3R5bGU9e3sgZmlsbDogJyNDQUQxRDgnIH19XG4gICAgICAgIGQ9XCJNNDAwLDQzMkg5NnYxNmgzMDRjOC44LDAsMTYtNy4yLDE2LTE2di0xNkM0MTYsNDI0LjgsNDA4LjgsNDMyLDQwMCw0MzJ6XCJcbiAgICAgIC8+XG4gICAgPC9zdmc+XG4gIClcbn1cbiIsIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgKiBhcyBQcm9ncmVzc1ByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcHJvZ3Jlc3MnXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNuIH0gZnJvbSAnLi4vbGliL3V0aWxzJ1xuXG5jb25zdCBQcm9ncmVzcyA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFByb2dyZXNzUHJpbWl0aXZlLlJvb3Q+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFByb2dyZXNzUHJpbWl0aXZlLlJvb3Q+XG4+KCh7IGNsYXNzTmFtZSwgdmFsdWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8UHJvZ3Jlc3NQcmltaXRpdmUuUm9vdFxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAnYmctc2Vjb25kYXJ5IHJlbGF0aXZlIGgtNCB3LWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtZnVsbCcsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgPlxuICAgIDxQcm9ncmVzc1ByaW1pdGl2ZS5JbmRpY2F0b3JcbiAgICAgIGNsYXNzTmFtZT1cImJnLXByaW1hcnkgaC1mdWxsIHctZnVsbCBmbGV4LTEgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgc3R5bGU9e3sgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgtJHsxMDAgLSAodmFsdWUgfHwgMCl9JSlgIH19XG4gICAgLz5cbiAgPC9Qcm9ncmVzc1ByaW1pdGl2ZS5Sb290PlxuKSlcblByb2dyZXNzLmRpc3BsYXlOYW1lID0gUHJvZ3Jlc3NQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZVxuXG5leHBvcnQgeyBQcm9ncmVzcyB9XG4iLCJpbXBvcnQgeyBDaGV2cm9uRG93biwgQ2hldnJvblJpZ2h0LCBMb2FkZXIyIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uL3VpL2J1dHRvbidcbmltcG9ydCB7XG4gIENvbGxhcHNpYmxlLFxuICBDb2xsYXBzaWJsZUNvbnRlbnQsXG4gIENvbGxhcHNpYmxlVHJpZ2dlcixcbn0gZnJvbSAnLi4vdWkvY29sbGFwc2libGUnXG5pbXBvcnQgeyBFdmVudERhdGEgfSBmcm9tICcuLi9jaGF0L2Fubm90YXRpb24nXG5cbmV4cG9ydCBmdW5jdGlvbiBDaGF0RXZlbnRzKHtcbiAgZGF0YSxcbiAgc2hvd0xvYWRpbmcsXG59OiB7XG4gIGRhdGE6IEV2ZW50RGF0YVtdXG4gIHNob3dMb2FkaW5nOiBib29sZWFuXG59KSB7XG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBidXR0b25MYWJlbCA9IGlzT3BlbiA/ICdIaWRlIGV2ZW50cycgOiAnU2hvdyBldmVudHMnXG5cbiAgY29uc3QgRXZlbnRJY29uID0gaXNPcGVuID8gKFxuICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgKSA6IChcbiAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1sLTIgYm9yZGVyLWluZGlnby00MDAgcGwtMlwiPlxuICAgICAgPENvbGxhcHNpYmxlIG9wZW49e2lzT3Blbn0gb25PcGVuQ2hhbmdlPXtzZXRJc09wZW59PlxuICAgICAgICA8Q29sbGFwc2libGVUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwic2Vjb25kYXJ5XCIgY2xhc3NOYW1lPVwic3BhY2UteC0yXCI+XG4gICAgICAgICAgICB7c2hvd0xvYWRpbmcgPyA8TG9hZGVyMiBjbGFzc05hbWU9XCJoLTQgdy00IGFuaW1hdGUtc3BpblwiIC8+IDogbnVsbH1cbiAgICAgICAgICAgIDxzcGFuPntidXR0b25MYWJlbH08L3NwYW4+XG4gICAgICAgICAgICB7RXZlbnRJY29ufVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0NvbGxhcHNpYmxlVHJpZ2dlcj5cbiAgICAgICAgPENvbGxhcHNpYmxlQ29udGVudCBhc0NoaWxkPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBzcGFjZS15LTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAge2RhdGEubWFwKChldmVudEl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid2hpdGVzcGFjZS1icmVhay1zcGFjZXNcIiBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICB7ZXZlbnRJdGVtLnRpdGxlfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NvbGxhcHNpYmxlQ29udGVudD5cbiAgICAgIDwvQ29sbGFwc2libGU+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgKiBhcyBDb2xsYXBzaWJsZVByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtY29sbGFwc2libGUnXG5cbmNvbnN0IENvbGxhcHNpYmxlID0gQ29sbGFwc2libGVQcmltaXRpdmUuUm9vdFxuXG5jb25zdCBDb2xsYXBzaWJsZVRyaWdnZXIgPSBDb2xsYXBzaWJsZVByaW1pdGl2ZS5Db2xsYXBzaWJsZVRyaWdnZXJcblxuY29uc3QgQ29sbGFwc2libGVDb250ZW50ID0gQ29sbGFwc2libGVQcmltaXRpdmUuQ29sbGFwc2libGVDb250ZW50XG5cbmV4cG9ydCB7IENvbGxhcHNpYmxlLCBDb2xsYXBzaWJsZUNvbnRlbnQsIENvbGxhcHNpYmxlVHJpZ2dlciB9XG4iLCJpbXBvcnQgeyBEb2N1bWVudEZpbGVEYXRhIH0gZnJvbSAnLi4vY2hhdC9hbm5vdGF0aW9uJ1xuaW1wb3J0IHsgRG9jdW1lbnRJbmZvIH0gZnJvbSAnLi9kb2N1bWVudC1pbmZvJ1xuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdEZpbGVzKHsgZGF0YSB9OiB7IGRhdGE6IERvY3VtZW50RmlsZURhdGEgfSkge1xuICBpZiAoIWRhdGEuZmlsZXMubGVuZ3RoKSByZXR1cm4gbnVsbFxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgIHtkYXRhLmZpbGVzLm1hcChmaWxlID0+IChcbiAgICAgICAgPERvY3VtZW50SW5mb1xuICAgICAgICAgIGtleT17ZmlsZS5pZH1cbiAgICAgICAgICBkb2N1bWVudD17eyB1cmw6IGZpbGUudXJsLCBzb3VyY2VzOiBbXSB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTIgbXQtMlwiXG4gICAgICAgIC8+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgdHlwZSBJbWFnZURhdGEgfSBmcm9tICcuLi9pbmRleCdcblxuZXhwb3J0IGZ1bmN0aW9uIENoYXRJbWFnZSh7IGRhdGEgfTogeyBkYXRhOiBJbWFnZURhdGEgfSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctWzIwMHB4XSByb3VuZGVkLW1kIHNoYWRvdy1tZFwiPlxuICAgICAgPGltZyBzcmM9e2RhdGEudXJsfSBhbHQ9XCJjaGF0X2ltYWdlXCIgY2xhc3NOYW1lPVwiaC1hdXRvIHctZnVsbFwiIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFNvdXJjZURhdGEsIFNvdXJjZU5vZGUgfSBmcm9tICcuLi9jaGF0L2Fubm90YXRpb24nXG5pbXBvcnQgeyBEb2N1bWVudEluZm8gfSBmcm9tICcuL2RvY3VtZW50LWluZm8nXG5cbnR5cGUgRG9jdW1lbnQgPSB7XG4gIHVybDogc3RyaW5nXG4gIHNvdXJjZXM6IFNvdXJjZU5vZGVbXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2hhdFNvdXJjZXMoeyBkYXRhIH06IHsgZGF0YTogU291cmNlRGF0YSB9KSB7XG4gIGNvbnN0IGRvY3VtZW50czogRG9jdW1lbnRbXSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIGdyb3VwIG5vZGVzIGJ5IGRvY3VtZW50IChhIGRvY3VtZW50IG11c3QgaGF2ZSBhIFVSTClcbiAgICBjb25zdCBub2Rlc0J5VXJsOiBSZWNvcmQ8c3RyaW5nLCBTb3VyY2VOb2RlW10+ID0ge31cbiAgICBkYXRhLm5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBub2RlLnVybFxuICAgICAgbm9kZXNCeVVybFtrZXldID8/PSBbXVxuICAgICAgbm9kZXNCeVVybFtrZXldLnB1c2gobm9kZSlcbiAgICB9KVxuXG4gICAgLy8gY29udmVydCB0byBhcnJheSBvZiBkb2N1bWVudHNcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMobm9kZXNCeVVybCkubWFwKChbdXJsLCBzb3VyY2VzXSkgPT4gKHtcbiAgICAgIHVybCxcbiAgICAgIHNvdXJjZXMsXG4gICAgfSkpXG4gIH0sIFtkYXRhLm5vZGVzXSlcblxuICBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQtc21cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+U291cmNlczo8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTNcIj5cbiAgICAgICAge2RvY3VtZW50cy5tYXAoZG9jdW1lbnQgPT4ge1xuICAgICAgICAgIHJldHVybiA8RG9jdW1lbnRJbmZvIGtleT17ZG9jdW1lbnQudXJsfSBkb2N1bWVudD17ZG9jdW1lbnR9IC8+XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCB7IFN1Z2dlc3RlZFF1ZXN0aW9uc0RhdGEgfSBmcm9tICcuLi9jaGF0L2Fubm90YXRpb24nXG5pbXBvcnQgeyBDaGF0SGFuZGxlciB9IGZyb20gJy4uL2NoYXQvY2hhdC5pbnRlcmZhY2UnXG5cbmV4cG9ydCBmdW5jdGlvbiBTdWdnZXN0ZWRRdWVzdGlvbnMoe1xuICBxdWVzdGlvbnMsXG4gIGFwcGVuZCxcbn06IHtcbiAgcXVlc3Rpb25zOiBTdWdnZXN0ZWRRdWVzdGlvbnNEYXRhXG4gIGFwcGVuZDogQ2hhdEhhbmRsZXJbJ2FwcGVuZCddXG59KSB7XG4gIGNvbnN0IHNob3dRdWVzdGlvbnMgPSBxdWVzdGlvbnMubGVuZ3RoID4gMFxuICByZXR1cm4gKFxuICAgIHNob3dRdWVzdGlvbnMgJiYgKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNwYWNlLXktMlwiPlxuICAgICAgICB7cXVlc3Rpb25zLm1hcCgocXVlc3Rpb24sIGluZGV4KSA9PiAoXG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGFwcGVuZCh7IHJvbGU6ICd1c2VyJywgY29udGVudDogcXVlc3Rpb24gfSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciB0ZXh0LXNtIGl0YWxpYyBob3Zlcjp1bmRlcmxpbmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsnLT4nfSB7cXVlc3Rpb259XG4gICAgICAgICAgPC9hPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgKVxufVxuIiwiaW1wb3J0IHsgQ2hhdEhhbmRsZXIgfSBmcm9tICcuLi9jaGF0L2NoYXQuaW50ZXJmYWNlJ1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vdWkvYnV0dG9uJ1xuXG5pbnRlcmZhY2UgU3RhcnRlclF1ZXN0aW9uc1Byb3BzIHtcbiAgcXVlc3Rpb25zOiBzdHJpbmdbXVxuICBhcHBlbmQ6IENoYXRIYW5kbGVyWydhcHBlbmQnXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU3RhcnRlclF1ZXN0aW9ucyhwcm9wczogU3RhcnRlclF1ZXN0aW9uc1Byb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tNiBsZWZ0LTAgdy1mdWxsXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LTIwIGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTJcIj5cbiAgICAgICAge3Byb3BzLnF1ZXN0aW9ucy5tYXAoKHF1ZXN0aW9uLCBpKSA9PiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcHJvcHMuYXBwZW5kKHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBxdWVzdGlvbiB9KX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7cXVlc3Rpb259XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiIsImltcG9ydCB7IFhDaXJjbGVJY29uIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgY24gfSBmcm9tICcuLi9saWIvdXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBJbWFnZVByZXZpZXcoe1xuICB1cmwsXG4gIG9uUmVtb3ZlLFxufToge1xuICB1cmw6IHN0cmluZ1xuICBvblJlbW92ZTogKCkgPT4gdm9pZFxufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JvdXAgcmVsYXRpdmUgaC0yMCB3LTIwXCI+XG4gICAgICA8aW1nXG4gICAgICAgIHNyYz17dXJsfVxuICAgICAgICBhbHQ9XCJ1cGxvYWRlZF9pbWFnZVwiXG4gICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgcm91bmRlZC14bCBvYmplY3QtY292ZXIgaG92ZXI6YnJpZ2h0bmVzcy03NVwiXG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICdhYnNvbHV0ZSAtcmlnaHQtMiAtdG9wLTIgei0xMCBoaWRkZW4gaC02IHctNiByb3VuZGVkLWZ1bGwgYmctZ3JheS01MDAgdGV4dC13aGl0ZSBncm91cC1ob3ZlcjpibG9jaydcbiAgICAgICAgKX1cbiAgICAgID5cbiAgICAgICAgPFhDaXJjbGVJY29uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaC02IHctNiByb3VuZGVkLWZ1bGwgYmctZ3JheS01MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgb25DbGljaz17b25SZW1vdmV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIiwiaW1wb3J0IHsgTG9hZGVyMiwgUGFwZXJjbGlwIH0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IHsgQ2hhbmdlRXZlbnQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBidXR0b25WYXJpYW50cyB9IGZyb20gJy4uL3VpL2J1dHRvbidcbmltcG9ydCB7IGNuIH0gZnJvbSAnLi4vbGliL3V0aWxzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVVcGxvYWRlclByb3BzIHtcbiAgY29uZmlnPzoge1xuICAgIGlucHV0SWQ/OiBzdHJpbmdcbiAgICBmaWxlU2l6ZUxpbWl0PzogbnVtYmVyXG4gICAgYWxsb3dlZEV4dGVuc2lvbnM/OiBzdHJpbmdbXVxuICAgIGNoZWNrRXh0ZW5zaW9uPzogKGV4dGVuc2lvbjogc3RyaW5nKSA9PiBzdHJpbmcgfCBudWxsXG4gICAgZGlzYWJsZWQ6IGJvb2xlYW5cbiAgICBtdWx0aXBsZT86IGJvb2xlYW5cbiAgfVxuICBvbkZpbGVVcGxvYWQ6IChmaWxlOiBGaWxlKSA9PiBQcm9taXNlPHZvaWQ+XG4gIG9uRmlsZUVycm9yPzogKGVyck1zZzogc3RyaW5nKSA9PiB2b2lkXG59XG5cbmNvbnN0IERFRkFVTFRfSU5QVVRfSUQgPSAnZmlsZUlucHV0J1xuY29uc3QgREVGQVVMVF9GSUxFX1NJWkVfTElNSVQgPSAxMDI0ICogMTAyNCAqIDUwIC8vIDUwIE1CXG5cbmV4cG9ydCBmdW5jdGlvbiBGaWxlVXBsb2FkZXIoe1xuICBjb25maWcsXG4gIG9uRmlsZVVwbG9hZCxcbiAgb25GaWxlRXJyb3IsXG59OiBGaWxlVXBsb2FkZXJQcm9wcykge1xuICBjb25zdCBbdXBsb2FkaW5nLCBzZXRVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtyZW1haW5pbmdGaWxlcywgc2V0UmVtYWluaW5nRmlsZXNdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuXG4gIGNvbnN0IGlucHV0SWQgPSBjb25maWc/LmlucHV0SWQgfHwgREVGQVVMVF9JTlBVVF9JRFxuICBjb25zdCBmaWxlU2l6ZUxpbWl0ID0gY29uZmlnPy5maWxlU2l6ZUxpbWl0IHx8IERFRkFVTFRfRklMRV9TSVpFX0xJTUlUXG4gIGNvbnN0IGFsbG93ZWRFeHRlbnNpb25zID0gY29uZmlnPy5hbGxvd2VkRXh0ZW5zaW9uc1xuICBjb25zdCBkZWZhdWx0Q2hlY2tFeHRlbnNpb24gPSAoZXh0ZW5zaW9uOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoYWxsb3dlZEV4dGVuc2lvbnMgJiYgIWFsbG93ZWRFeHRlbnNpb25zLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgIHJldHVybiBgSW52YWxpZCBmaWxlIHR5cGUuIFBsZWFzZSBzZWxlY3QgYSBmaWxlIHdpdGggb25lIG9mIHRoZXNlIGZvcm1hdHM6ICR7YWxsb3dlZEV4dGVuc2lvbnMuam9pbihcbiAgICAgICAgJywnXG4gICAgICApfWBcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBjb25zdCBjaGVja0V4dGVuc2lvbiA9IGNvbmZpZz8uY2hlY2tFeHRlbnNpb24gPz8gZGVmYXVsdENoZWNrRXh0ZW5zaW9uXG5cbiAgY29uc3QgaXNGaWxlU2l6ZUV4Y2VlZGVkID0gKGZpbGU6IEZpbGUpID0+IHtcbiAgICByZXR1cm4gZmlsZS5zaXplID4gZmlsZVNpemVMaW1pdFxuICB9XG5cbiAgY29uc3QgcmVzZXRJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKSBhcyBIVE1MSW5wdXRFbGVtZW50XG4gICAgZmlsZUlucHV0LnZhbHVlID0gJydcbiAgfVxuXG4gIGNvbnN0IG9uRmlsZUNoYW5nZSA9IGFzeW5jIChlOiBDaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IGZpbGVzID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcyB8fCBbXSlcbiAgICBpZiAoIWZpbGVzLmxlbmd0aCkgcmV0dXJuXG5cbiAgICBzZXRVcGxvYWRpbmcodHJ1ZSlcblxuICAgIGF3YWl0IGhhbmRsZVVwbG9hZChmaWxlcylcblxuICAgIHJlc2V0SW5wdXQoKVxuICAgIHNldFVwbG9hZGluZyhmYWxzZSlcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVVwbG9hZCA9IGFzeW5jIChmaWxlczogRmlsZVtdKSA9PiB7XG4gICAgY29uc3Qgb25GaWxlVXBsb2FkRXJyb3IgPSBvbkZpbGVFcnJvciB8fCB3aW5kb3cuYWxlcnRcbiAgICAvLyBWYWxpZGF0ZSBmaWxlc1xuICAgIC8vIElmIG11bHRpcGxlIGZpbGVzIHdpdGggaW1hZ2Ugb3IgbXVsdGlwbGUgaW1hZ2VzXG4gICAgaWYgKFxuICAgICAgZmlsZXMubGVuZ3RoID4gMSAmJlxuICAgICAgZmlsZXMuc29tZShmaWxlID0+IGZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSlcbiAgICApIHtcbiAgICAgIG9uRmlsZVVwbG9hZEVycm9yKCdNdWx0aXBsZSBmaWxlcyB3aXRoIGltYWdlIGFyZSBub3Qgc3VwcG9ydGVkJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpIHx8ICcnXG4gICAgICBjb25zdCBleHRlbnNpb25GaWxlRXJyb3IgPSBjaGVja0V4dGVuc2lvbihmaWxlRXh0ZW5zaW9uKVxuICAgICAgaWYgKGV4dGVuc2lvbkZpbGVFcnJvcikge1xuICAgICAgICBvbkZpbGVVcGxvYWRFcnJvcihleHRlbnNpb25GaWxlRXJyb3IpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoaXNGaWxlU2l6ZUV4Y2VlZGVkKGZpbGUpKSB7XG4gICAgICAgIG9uRmlsZVVwbG9hZEVycm9yKFxuICAgICAgICAgIGBGaWxlIHNpemUgZXhjZWVkZWQuIExpbWl0IGlzICR7ZmlsZVNpemVMaW1pdCAvIDEwMjQgLyAxMDI0fSBNQmBcbiAgICAgICAgKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRSZW1haW5pbmdGaWxlcyhmaWxlcy5sZW5ndGgpXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBhd2FpdCBvbkZpbGVVcGxvYWQoZmlsZSlcbiAgICAgIHNldFJlbWFpbmluZ0ZpbGVzKHByZXYgPT4gcHJldiAtIDEpXG4gICAgfVxuICAgIHNldFJlbWFpbmluZ0ZpbGVzKDApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZi1zdHJldGNoXCI+XG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICBpZD17aW5wdXRJZH1cbiAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgIG9uQ2hhbmdlPXtvbkZpbGVDaGFuZ2V9XG4gICAgICAgIGFjY2VwdD17YWxsb3dlZEV4dGVuc2lvbnM/LmpvaW4oJywnKX1cbiAgICAgICAgZGlzYWJsZWQ9e2NvbmZpZz8uZGlzYWJsZWQgfHwgdXBsb2FkaW5nfVxuICAgICAgICBtdWx0aXBsZT17Y29uZmlnPy5tdWx0aXBsZX1cbiAgICAgIC8+XG4gICAgICA8bGFiZWxcbiAgICAgICAgaHRtbEZvcj17aW5wdXRJZH1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBidXR0b25WYXJpYW50cyh7IHZhcmlhbnQ6ICdzZWNvbmRhcnknLCBzaXplOiAnaWNvbicgfSksXG4gICAgICAgICAgJ3JlbGF0aXZlIGN1cnNvci1wb2ludGVyJyxcbiAgICAgICAgICB1cGxvYWRpbmcgJiYgJ29wYWNpdHktNTAnXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIHt1cGxvYWRpbmcgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGgtZnVsbCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBoLTYgdy02IGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICB7cmVtYWluaW5nRmlsZXMgPiAwICYmIChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAge3JlbWFpbmluZ0ZpbGVzfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxQYXBlcmNsaXAgY2xhc3NOYW1lPVwiaC00IHctNCAtcm90YXRlLTQ1XCIgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvbGFiZWw+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsImpzeCIsIm1lbW8iLCJqc3hzIiwiQ2hlY2siLCJDb3B5IiwiZG9jdW1lbnQiLCJ1c2VTdGF0ZSIsIkNvbGxhcHNpYmxlVHJpZ2dlciIsIkNvbGxhcHNpYmxlQ29udGVudCIsInVzZU1lbW8iLCJYQ2lyY2xlSWNvbiIsIkxvYWRlcjIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@llamaindex+chat-ui@0.0.11_@types+react-dom@18.3.1_@types+react@18.3.12_encoding@0.1.13_react_4y54o772txqfm2c6y2aysnfsdq/node_modules/@llamaindex/chat-ui/dist/widgets/index.js\n");

/***/ })

};
;